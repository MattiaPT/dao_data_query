{
  "data": [
    {
      "refId": "cHJvcG9zYWw6YmVhbnN0YWxrZGFvZXRoOnNuYXBzaG90OjB4YjVmMjE0ODdjYWY0ZTdiMGRkZDFhYzUzNmE0MTY1ZWEyMWViMTgzNDg5ODdhZWM5NWUxY2I1NjE0OGNhOTE2ZA==",
      "id": "0xb5f21487caf4e7b0ddd1ac536a4165ea21eb18348987aec95e1cb56148ca916d",
      "title": "BIP-50: Reseed Beanstalk",
      "content": "> Note that due to the Snapshot character limit, the Snapshot version of BIP-50 that follows is significantly abridged and includes many references to the complete BIP-50 proposal on Arweave that should be read here:\n> \n> https://arweave.net/1QIJ2oHnaTcb3jqY3T7bC92KAS--CVLJmZlL5j_gI6s\n\n## Proposer\n\nBeanstalk Farms, Ben Weintraub, Brendan Sanderson\n\nProposer Wallet: [0xf9d183af486a973b7921ceb5fdc9908d12aab440](https://etherscan.io/verifySig/258112)\n\n## Summary\n\n1. Upgrade Beanstalk to include the following major features:\n    * Secure Beanstalk, which implements function modifiers that maintain protocol wide invariants and adds them to most write functions in Beanstalk;\n    * Generalized Convert, which introduces a new Convert function that uses Pipeline to Convert a set of arbitrary (non-Unripe) Deposits to 1 Deposit (including LP → LP Converts);\n    * Generalized Flood, which implements Flood in a generalized fashion such that Flood can occur in multiple Wells at once;\n    * Shipments, which introduces a generalized system for allocating new Bean mints to various components of Beanstalk; and\n    * Tractor, which is a peer-to-peer transaction marketplace that allows third party operators to perform Beanstalk actions on behalf of a Farmer;\n2. Upgrade Beanstalk to include the following various quality of life improvements:\n    * Upgrade the Solidity version from v0.7.6 to v0.8.20;\n    * Implement a generalized whitelist system that supports custom oracles, Gauge Point functions and Liquidity Weight functions that do not require a diamond cut to change for a given whitelisted asset;\n        * Implement a generalized Chainlink oracle system such that a Well that has a non-Bean asset whose USD price can be queried via Chainlink can be whitelisted without a diamond cut;\n        * Implement a generalized Uniswap V3 oracle system such that a Well that has a non-Bean asset whose price can be queried via Uniswap V3 can be whitelisted without a diamond cut, provided that the other token in the oracle pool has a Chainlink feed (e.g., WBTC/USDC on Uniswap V3 * USDC/USD Chainlink feed);\n    * Change the control variable in the Morning Auction from 2 to 0.1 to slow down the increase in the Temperature;\n    * Update the default Gauge Point function (used by all whitelisted LP tokens) to adjust the Gauge Points more aggressively the farther away the current % BDV distribution is away from optimal;\n    * Update the Bean to Max LP Ratio to its minimum value upon Rain;\n    * Add several view functions for getting Farmer's balances;\n    * Redesign App Storage to improve developer experience and future proof new additions to contract storage;\n    * Move several constants that have the potential to change into contract state;\n    * Redesign reentrancy protection to support Pipeline and Depot;\n    * Increase Stalk decimal precision by 1e6 to prevent micro Stalk from being lost;\n    * Add a `TokenTransferred` event with data on sender and receiver addresses of Farm balance transfers;\n3. Migrate Beanstalk from Ethereum mainnet to Arbitrum:\n    * Pause Beanstalk on L1 mainnet;\n    * Remove all L1 facets except for the DiamondCutFacet, DiamondLoupeFacet, OwnershipFacet and PauseFacet;\n    * Upgrade L1 Beanstalk with a new TokenFacet and L2MigrationFacet that allows Circulating Beans to be migrated to L2;\n    * Run initialization scripts that transfer whitelisted LP tokens from Beanstalk to the L1 BCM to be unwrapped and bridged to L2 BCM (BEAN:3CRV is migrated to BEAN:USDC on Arbitrum);\n    * Deploy L2 Beanstalk;\n    * Update L2 Beanstalk with the L1 state;\n    * Deploy, add liquidity to and whitelist the following Wells (see Proposed Solution for details):\n        * BEAN:USDC;\n        * BEAN:USDT;\n        * BEAN:WBTC;\n        * BEAN:wstETH;\n        * BEAN:WETH; and\n        * BEAN:weETH;\n    * Add all facets that include the upgrades described above (excluding FundraiserFacet, LegacyClaimWithdrawalFacet, CurveFacet and MigrationFacet) to L2 Beanstalk; and\n    * Unpause L2 Beanstalk.\n4. Update various processes and documentation such as Hypernative, Immunefi and the Disclosures to reflect the new state of Beanstalk.\n\n## Links\n\n* [BIP-50 GitHub PR](https://github.com/BeanstalkFarms/Beanstalk/pull/909)\n* GitHub Commit Hash: [faa0ec60a455b0afdd20ad86f28f41cbc52c2e2d](https://github.com/BeanstalkFarms/Beanstalk/pull/909/commits/faa0ec60a455b0afdd20ad86f28f41cbc52c2e2d)\n* [Safe Transaction](https://app.safe.global/transactions/tx?safe=eth:0xa9bA2C40b263843C04d344727b954A545c81D043&id=multisig_0xa9bA2C40b263843C04d344727b954A545c81D043_0x19f2d9211b0fe8a005ce12f76f147a95ed8bc14d54614848e0bb60c3d2b5a0bd)\n\n## Problem\n\nSee the [full Arweave upload of BIP-50](https://arweave.net/1QIJ2oHnaTcb3jqY3T7bC92KAS--CVLJmZlL5j_gI6s#problem) to read the Problem section.\n\n## Proposed Solution\n\nSee the [full Arweave upload of BIP-50](https://arweave.net/1QIJ2oHnaTcb3jqY3T7bC92KAS--CVLJmZlL5j_gI6s#proposed-solution) to read the Proposed Solution section.\n\n## Technical Rationale\n\nSee the [full Arweave upload of BIP-50](https://arweave.net/1QIJ2oHnaTcb3jqY3T7bC92KAS--CVLJmZlL5j_gI6s#technical-rationale) to read the Technical Rationale section.\n\n## Economic Rationale\n\nSee the [full Arweave upload of BIP-50](https://arweave.net/1QIJ2oHnaTcb3jqY3T7bC92KAS--CVLJmZlL5j_gI6s#economic-rationale) to read the Economic Rationale section.\n\n## Contract Changes\n\nSee the [full Arweave upload of BIP-50](https://arweave.net/1QIJ2oHnaTcb3jqY3T7bC92KAS--CVLJmZlL5j_gI6s#contract-changes) to read the Contract Changes section.\n\n## Beans Minted\n\nSee the [full Arweave upload of BIP-50](https://arweave.net/1QIJ2oHnaTcb3jqY3T7bC92KAS--CVLJmZlL5j_gI6s#beans-minted) to read the Beans Minted section.\n\n## Audit\n\nSee the [full Arweave upload of BIP-50](https://arweave.net/1QIJ2oHnaTcb3jqY3T7bC92KAS--CVLJmZlL5j_gI6s#audit) to read the Audit section.\n\n## Effective\n\nAfter either:\n\n* A two-thirds supermajority is reached; or\n* The Voting Period ends and either (1) 50% of Stalk is voting For or (2) one-third of Stalk, plus the amount of Stalk voting Against, is voting For,\n\nThe L1 BCM will:\n\n* Execute a diamond cut that removes the SiloFacet and wait for 2 Seasons to pass in order for all Deposits to Germinate (only if there are Germinating Deposits at the time of BIP passage);\n* Execute the BIP-50 diamond cut, which:\n    * Calls the `ReseedL2Migration` initialization contract, which:\n        * Pauses L1 Beanstalk; and\n        * Transfers all BEANETH, BEANwstETH and BEAN3CRV in L1 Beanstalk to the L1 BCM;\n    * Removes all facets except for `DiamondCutFacet`, `DiamondLoupeFacet`, `OwnershipFacet` and `PauseFacet`; and\n    * Adds the `L1TokenFacet` and `L2MigrationFacet`;\n* Remove corresponding liquidity from the BEAN:WETH, BEAN:wstETH and BEAN:3CRV pools;\n* Swap all 3CRV for USDC; and\n* Send all WETH, wstETH and USDC to Arbitrum using the Arbitrum-native bridge.\n\nIn addition, a deployer will:\n* Fetch the state of L1 Beanstalk at the end of the block in which the BIP-50 diamond cut is executed;\n* Deploy the L2 Beanstalk diamond on Arbitrum (in a Paused state);\n* Execute the series of scripts to: \n    * Initialize the state of L2 Beanstalk;\n    * Deploy all whitelisted Wells;\n    * Mint Beans to be added as liquidity to the L2 BCM;\n    * Mint remaining Beans (for Bean Deposits, Ripe Beans, Farm Balances and Beans in Pod Orders) to L2 Beanstalk; and\n    * Mint Unripe Beans and Unripe LP to L2 Beanstalk; and\n* Transfer ownership of L2 Beanstalk to the L2 BCM.\n\nAfter which the L2 BCM will:\n* Execute a series of scripts that verify the state of L2 Beanstalk;\n* Claim ownership of L2 Beanstalk;\n* Add liquidity to the BEAN:WETH, BEAN:wstETH and BEAN:USDC Wells;\n* Transfer the corresponding BEANWETH, BEANwstETH and BEANUSDC Well LP tokens to L2 Beanstalk;\n* Add all the facets mentioned in the Contract Changes section; and\n* Unpause L2 Beanstalk.",
      "protocol": "beanstalkdaoeth",
      "adapter": "snapshot",
      "proposer": "0x47a473Eb2bDfe6599dac638FFFE0D427d8Ad6888",
      "totalVotes": 61,
      "blockNumber": 20870888,
      "externalUrl": "https://snapshot.org/#/beanstalkdao.eth/proposal/0xb5f21487caf4e7b0ddd1ac536a4165ea21eb18348987aec95e1cb56148ca916d",
      "startTime": {
        "timestamp": 1727794800
      },
      "endTime": {
        "timestamp": 1728399600
      },
      "startTimestamp": 1727794800,
      "endTimestamp": 1728399600,
      "currentState": "closed",
      "choices": [
        "For",
        "Against"
      ],
      "results": [
        {
          "total": 47902824.0,
          "choice": 0
        }
      ],
      "events": [],
      "type": "basic",
      "indexedResult": [
        {
          "total": 47902822.62783183,
          "choice": 0
        },
        {
          "total": 0.0,
          "choice": 1
        }
      ],
      "summary": "",
      "privacy": "",
      "indexedAt": 1727789034908,
      "txHash": "",
      "quorum": 0,
      "flagged": null,
      "executionArgs": "",
      "executables": "",
      "chainId": null
    },
    {
      "refId": "cHJvcG9zYWw6YmVhbnN0YWxrZGFvZXRoOnNuYXBzaG90OjB4NmQ5ODE2YTczZjYzYTEyMmJjMTlkMGUyNjkwZmJlNzQ0YmVjYzE4ZGJlZWYyYTI1YTM5ZjhhNDhkYTFkNDRkNw==",
      "id": "0x6d9816a73f63a122bc19d0e2690fbe744becc18dbeef2a25a39f8a48da1d44d7",
      "title": "BIP-49: Misc. Improvements",
      "content": "## Proposer\n\nBeanstalk Farms, Brendan Sanderson, Ben Weintraub\n\nProposer Wallet: [0x4a24e54a090b0fa060f7faaf561510775d314e84](https://etherscan.io/verifySig/254430)\n\n## Summary\n\n* Migrate the Fertilizer metadata hosted at [fert.bean.money](https://fert.bean.money/) on-chain;\n* When the cumulative deltaB over the previous Season is less than 0, change Soil issued at `gm` to be the minimum of (1) the absolute value of cumulative deltaB calculated using the instantaneous reserves from Multi Flow and (2) the absolute value of the cumulative deltaB over the previous Season;\n* Implement an Anti λ → λ Convert type that allows any user to decrease a Deposit's BDV if the Recorded BDV (the BDV stored on-chain with the Deposit) is greater than the Current BDV (the number of tokens in the Deposit × the current BDV of the token);\n* Change the Chop Rate calculation from the [% recapitalized × % of Sprouts that have become Rinsable] to the [% recapitalized]^2;\n* Update the Locked Beans calculation to account for the change to the Chop Rate; and\n* Decrease the recapitalization amount upon Chop per [BIR-14](https://arweave.net/NcqX06mQ0c_FSkLxzVt1IEmWNrW7_03GXww-EsZKFq4).\n\n## Links\n\n* [BIP-49 GitHub PR](https://github.com/BeanstalkFarms/Beanstalk/pull/802)\n* GitHub Commit Hash: [10c50916acdd1a2ea8c3699217779cbbe549389e](https://github.com/BeanstalkFarms/Beanstalk/pull/802/commits/10c50916acdd1a2ea8c3699217779cbbe549389e)\n* [Safe Transaction](https://app.safe.global/transactions/tx?safe=eth:0xa9bA2C40b263843C04d344727b954A545c81D043&id=multisig_0xa9bA2C40b263843C04d344727b954A545c81D043_0x425d0779ecec50f443f71ed6a43a57121d3f159c19aa8b0599a908cd1f74807b)\n\n## Problem\n\nCurrently, Fertilizer metadata (the SVG image, traits, etc.) is hosted on centralized infrastructure. In addition to being fundamentally misaligned with the ethos of Beanstalk, any data hosted on centralized infrastructure requires maintenance and is subject to downtime. \n\nBeanstalk is prone to overissuing Soil at `gm` call because Soil issuance below peg is solely based on the absolute value of the cumulative deltaB over the previous Season.\n\nCurrently, the Recorded BDV of a Deposit is not necessarily equal to its Current BDV. For example, if a user Deposits BEANETH into the Silo and the USD price of ETH falls significantly (and thus the BDV of BEANETH decreases), the Recorded BDV does not decrease. In practice this means Farmers \"lock in\" the higher BDV at the time of Deposit such that Beanstalk is over crediting BDV to Deposits relative to their value being contributed to it. Beanstalk only supports Convert types that do not decrease the BDV of the Deposit making it impossible for the BDV associated with a Deposit to ever be corrected.\n\nCurrently, Beanstalk offers a conservative Chop Rate of ~1.33% (22.49% recapitalization * 5.9012% of debt repaid to Fertilizer) to Unripe holders. Chopping is beneficial to Beanstalk as its obligations and the amount needed to fully recapitalize Unripe assets decreases. Although the current model is likely to result in the least volatility as Beanstalk is recapitalized (as a result of Unripe holders Chopping later on average), Beanstalk can be more aggressive given its healthy position in terms of L2SR. \n\nLocked Beans are calculated under the extremely conservative assumption that all Unripe LP is Chopped within a single Season.\n\nCurrently, when Unripe LP holders Chop, `s.recapitalized` is unchanged as demonstrated in BIR-14. As a result, the Barn Raise ends earlier than intended, i.e., Beanstalk will not sell enough Fertilizer to fully recapitalize all Unripe LP.\n\n## Proposed Solution\n\n### On-Chain Fert Metadata\n\nWe propose to migrate the Fertilizer metadata hosted at [fert.bean.money](https://fert.bean.money/) on-chain.\n\n#### Specification\n\n* Create a new contract called `FertilizerImage.sol` to dynamically assemble the SVG image for Active, Used and Available Fertilizer; and\n* Modify `uri` in `Internalizer.sol` to (1) assemble the required on-chain data, (2) generate the correct Fertilizer image URI using `imageUri` from `FertilizerImage.sol` and (3) return the final metadata URI to be consumed. \n\n### Soil Issuance Update\n\nWe propose to change Soil issued at `gm` when the cumulative deltaB over the previous Season is less than 0 to be the minimum of (1) the absolute value of cumulative deltaB calculated using the instantaneous reserves from Multi Flow and (2) the absolute value of the cumulative deltaB over the previous Season.\n\n#### Specification\n\nIn `SeasonFacet/Sun.sol`:\n* Implement `setSoilBelowPeg`, which calculates the cumulative deltaB across all whitelisted Wells using the instantaneous reserves in Multi Flow, compares it to its time weighted counterpart and picks the minimum of those two values; and\n* Update the P < 1 case in `stepSun` to use `setSoilBelowPeg`.\n\n### BDV Decrease\n\nImplement a new `ANTI_LAMBDA_LAMBDA` Convert type, callable by anyone, that Converts on behalf of a Farmer and can decrease a Deposit's BDV.\n\n#### Specification\n\nSee the [full Arweave upload of BIP-49](https://arweave.net/fRuG7Er9q6aBNRYVnu1HgWYMGprHhDvZnQ2qBfM3c28) to read the BDV Decrease Specification section.\n\n### Chop Changes\n\nWe propose to:\n* Change the Chop Rate calculation from the [% recapitalized × % of Sprouts that have become Rinsable] to the [% recapitalized]^2;\n* Change the Locked Beans calculation to assume that up to 75% of Unripe assets are Chopped within a single Season; and\n* Decrease the recapitalization amount upon Chop per [BIR-14](https://arweave.net/NcqX06mQ0c_FSkLxzVt1IEmWNrW7_03GXww-EsZKFq4).\n\n#### Specification\n\nSee the [full Arweave upload of BIP-49](https://arweave.net/fRuG7Er9q6aBNRYVnu1HgWYMGprHhDvZnQ2qBfM3c28) to read the Chop Changes Specification section.\n\n## Technical Rationale\n\nThe Fertilizer Facet must be updated due to changes to the ERC-1155 token metadata. Hosting the metadata on-chain instead of on centralized infrastructure eliminates any risks associated with uptime.\n\nThe Season Facet must be updated due to changes to the deltaB calculation introduced by the Soil issuance change below peg.\n\nThe Convert Facet must be updated due to the introduction of `ANTI_LAMBDA_LAMBDA`.\n\nThe Unripe Facet must be updated due to changes to the `chop` function.\n\n## Economic Rationale\n\n### Soil Issuance Update\n\nConsider an example where Beanstalk is at -300k deltaB for the first 58 minutes of a Season. At the 58th minute, i.e., 10 blocks before the next `gm` call, a Farmer buys and Sows 200k Beans, bringing the current deltaB to -100k.\n\nAssuming no other trades in the final 2 minutes of the Season, the Soil issued at `gm` will be slightly less than 300k, despite Beanstalk only needing 100k Beans to be bought to return to peg. Before Multi Flow, this was necessary for sufficient manipulation resistance. However, thanks to Multi Flow it is now possible for Beanstalk to issue less Soil in these instances without being subject to manipulation.\n\nIn general, Beanstalk does not need to be particularly aggressive when issuing Soil—it does not want to issue debt if it doesn't have to and would prefer to spend an extra Season below peg over issuing a lot of excess Soil. \n\nThus, using the inter-block MEV manipulation resistant instantaneous reserves in Multi Flow to calculate deltaB below peg is preferred.\n\n### BDV Decrease\n\nThe ability to decrease a Deposit's BDV is necessary to prevent Beanstalk from over crediting BDV to Deposits relative to their value currently being contributed to the system. There is no incentive for a Farmer to decrease their own BDV. Thus, the Anti λ → λ Convert is callable by any user.\n\n### Chop Changes\n\nBeanstalk can be more aggressive given its healthy position in terms of L2SR. Chopping is beneficial to Beanstalk as its obligations and the amount needed to fully recapitalize Unripe assets decreases.\n\nThe Locked Beans calculation must be updated to account for the new Chop Rate calculation. Changing the assumption from 100% to 75% of Unripe assets Chopping within a single Season is still conservative but more realistic.\n\nEnsuring the `chop` function is implemented as intended is essential to the structure of the Barn approved by the DAO.\n\n## Contract Changes\n\nSee the [full Arweave upload of BIP-49](https://arweave.net/fRuG7Er9q6aBNRYVnu1HgWYMGprHhDvZnQ2qBfM3c28) to read the Contract Changes section.\n\n## Beans Minted\n\nNone.\n\n## Audit\n\nThe commit hash of this BIP is [10c50916acdd1a2ea8c3699217779cbbe549389e](https://github.com/BeanstalkFarms/Beanstalk/pull/802/commits/10c50916acdd1a2ea8c3699217779cbbe549389e).\n\nAn audit competition of this upgrade was held via Codehawks using commit hash [662d26f12ee219ee92dc485c06e01a4cb5ee8dfb](https://github.com/Cyfrin/2024-05-Beanstalk-3/commit/662d26f12ee219ee92dc485c06e01a4cb5ee8dfb). The final report can be read [here](https://codehawks.cyfrin.io/c/2024-05-Beanstalk-3/results?lt=contest&page=1&sc=reward&sj=reward&t=leaderboard).\n\nAudit remediations were committed and documented in [PR #943](https://github.com/BeanstalkFarms/Beanstalk/pull/934). All changes were reviewed by Cyfrin.\n\n### Post Audit Changes\n\nThe following changes have been made to the BIP-49 code, but have not been audited:\n* Updated the constants in `LibLockedUnderlying` to reflect the change in the Locked Beans calculation;\n* Updated the Beans per Fertilizer remaining calculation in `Fertilizer/Internalizer.sol` used by the Fertilizer SVGs; and\n* Updated `SeasonGettersFacet.getTotalDeltaB()` to calculate the cumulative deltaB across all whitelisted Wells.\n\n## Effective\n\nImmediately upon commitment.",
      "protocol": "beanstalkdaoeth",
      "adapter": "snapshot",
      "proposer": "0x47a473Eb2bDfe6599dac638FFFE0D427d8Ad6888",
      "totalVotes": 82,
      "blockNumber": 20413082,
      "externalUrl": "https://snapshot.org/#/beanstalkdao.eth/proposal/0x6d9816a73f63a122bc19d0e2690fbe744becc18dbeef2a25a39f8a48da1d44d7",
      "startTime": {
        "timestamp": 1722268800
      },
      "endTime": {
        "timestamp": 1722873600
      },
      "startTimestamp": 1722268800,
      "endTimestamp": 1722873600,
      "currentState": "closed",
      "choices": [
        "For",
        "Against"
      ],
      "results": [
        {
          "total": 58266912.0,
          "choice": 0
        },
        {
          "total": 53216.785,
          "choice": 1
        }
      ],
      "events": [],
      "type": "basic",
      "indexedResult": [
        {
          "total": 58266911.19108845,
          "choice": 0
        },
        {
          "total": 53216.784911680195,
          "choice": 1
        }
      ],
      "summary": "",
      "privacy": "",
      "indexedAt": 1722266667524,
      "txHash": "",
      "quorum": 0,
      "flagged": null,
      "executionArgs": "",
      "executables": "",
      "chainId": null
    },
    {
      "refId": "cHJvcG9zYWw6YmVhbnN0YWxrZGFvZXRoOnNuYXBzaG90OjB4N2E5MTY3ZDNlMjAxMjI1YTMzNTJiNDY0M2M5YWVhYWM4OTE2YjhjYjAxODc5NmJkNzJiOTVhZGY2ZjBjNWJiZA==",
      "id": "0x7a9167d3e201225a3352b4643c9aeaac8916b8cb018796bd72b95adf6f0c5bbd",
      "title": "BIP-48: Whitelist BEANwstETH and Migrate Unripe Liquidity",
      "content": "## Proposer\n\nBeanstalk Farms, Brendan Sanderson, Ben Weintraub\n\nProposer Wallet: [0xf1a621fe077e4e9ac2c0cefd9b69551db9c3f657](https://etherscan.io/verifySig/253716)\n\n## Summary\n\n* Add the BEAN:wstETH Constant Product 2 Well with Multi Flow Pump v1.1.0 (BEANwstETH) to the Deposit and Minting Whitelists;\n* Add the BEANwstETH → BEAN and BEAN → BEANwstETH Conversions to the Convert Whitelist;\n* Migrate the Unripe liquidity (*i.e.*, BEAN:ETH Well LP tokens) from the BEANETH Well to the BEANwstETH Well;\n* Accordingly, migrate urBEANETH tokens to urBEANwstETH tokens; and\n* Update the ETH:USD oracle to no longer use Uniswap V3 and instead rely exclusively on Chainlink.\n\n## Links\n\n* [BIP-48 GitHub PR](https://github.com/BeanstalkFarms/Beanstalk/pull/758)\n* GitHub Commit Hash: [45afeaf1f9c57bcdf506336aff63fa8805a1081f](https://github.com/BeanstalkFarms/Beanstalk/pull/758/commits/45afeaf1f9c57bcdf506336aff63fa8805a1081f)\n* [Safe Transaction](https://app.safe.global/transactions/tx?safe=eth:0xa9bA2C40b263843C04d344727b954A545c81D043&id=multisig_0xa9bA2C40b263843C04d344727b954A545c81D043_0x5765a2aaf25f2a2d41abdc8602e41b5746684e9e82df02cca85d97a6286fc5be)\n\n## Problem\n\nOpportunities for Bean liquidity providers to receive Stalk and Seed rewards are currently limited. A wider variety of options increases utility for Silo Depositors and will be possible with the combination of the [Seed Gauge System](https://github.com/BeanstalkFarms/Beanstalk/issues/726) and [Generalized Convert](https://github.com/BeanstalkFarms/Beanstalk/issues/716).\n\nBeanstalk could be offering higher yield opportunities to Bean liquidity providers, including Unripe LP holders, via the ETH staking yield with minimal additional trust assumptions.\n\nAs of writing, over 99% of liquidity for Beans is currently in the BEANETH Well, which uses Multi Flow v1.0.0. Multi Flow v1.0.0 does not have a way to change the exchange rate between Well reserves when the cap on the maximum percent change in reserves per block is reached (see [EBIP-9](https://arweave.net/uhIRmKbQM8N_ohjqs9wA_3RBn8AjhGbH_wOPaXu3be4)).\n\nBeanstalk currently does not support multiple Unripe LP tokens.\n\nCurrently, the ETH:USD oracle defaults to using Chainlink when the Chainlink price is greater than 1% different than the prices in the ETH:USDC and ETH:USDT Uniswap V3 pools (which is considered manipulation).\n\n## Proposed Solution\n\nWhitelist a BEAN:wstETH Constant Product 2 Well with Multi Flow Pump v1.1.0 for Deposit in the Silo.\n\nWe propose to set the initial Gauge Points of BEANwstETH to 400 and set the optimal distribution of the LP Seed Gauge System to 80% BEANwstETH and 20% BEANETH.\n\n### wstETH:USD Oracle Design\n\nBeanstalk requires a wstETH:USD oracle in order to compute deltaB in the BEAN:wstETH Well.\n\nThe oracle reads from multiple data sources and calculates the wstETH:ETH price using 3 separate methods:\n1. [The wstETH:stETH redemption rate (A)](https://etherscan.io/address/0x7f39C581F595B53c5cb19bD0b3f8dA6c935E2Ca0) * the [stETH:ETH Chainlink price feed (B)](https://etherscan.io/address/0x86392dC19c0b719886221c78AB11eb8Cf5c52812);\n2. [The wstETH:WETH Uniswap V3 pool](https://etherscan.io/address/0x109830a1AAaD605BbF02a9dFA7B0B92EC2FB7dAa); and\n3. (A).\n\nAnd computes a final wstETH:ETH price via the following logic:\n\n* If (1) and (2) are within 1%;\n    * If the average of (1) and (2) is greater than (A):\n        * Return (A);\n    * Else, return the average of (1) and (2));\n* Else, return 0 (fail).\n\nMultiplying the wstETH:ETH and ETH:USD prices results in the final wstETH:USD price.\n\n### Multi Flow v1.1.0\n\nMulti Flow v1.1.0 introduces the ability to set the maximum percent change in exchange rate between any two tokens in a Well per block. We propose setting this parameter to 0.5%.\n\nMulti Flow v1.1.0 also introduces the ability the set the maximum percent change in LP token supply in a Well per block. We propose setting this parameter to 3%.\n\nBecause the existing BEANETH Well uses Multi Flow v1.0.0 which does not contain these improvements, we propose turning off minting from the BEANETH Well for 24 Seasons upon the deployment of this BIP while the reserves stored in its Pump catch up to the reserves in the Well post-Unripe liquidity migration. \n\n### Migration Process\n\nMigrate the BEANETH Well LP tokens that underly the urBEANETH token to BEANwstETH Well LP tokens. In doing so, the liquidity underlying urBEANETH is migrated to the BEANwstETH Well and the urBEANETH token becomes the urBEANwstETH token (albeit, with the same token address). \n\nSee the [full Arweave upload of BIP-48](https://arweave.net/UaOfzRSfLLQvOMupUWoOSzveQMxgsHHW5gNh7TqS1ag) to read the Migration Process section.\n\n#### Fertilizer Changes\n\nUpgrade the Barn to add liquidity to the BEANwstETH Well instead of the BEANETH Well upon each Fertilizer purchase.\n\nAs a result:\n* Fertilizer is bought with wstETH instead of WETH; and\n* The amount of Fertilizer received after purchase and increase in amount recapitalized is equal to the value of the wstETH in USD at the time of purchase.\n\n### ETH:USD Oracle Design\n\nBeanstalk requires an ETH:USD oracle in order to compute deltaB in the BEAN:ETH and BEAN:wstETH Wells. We propose to remove Uniswap V3 as an input to this price oracle, such that Beanstalk calculates the ETH:USD price exclusively using Chainlink.\n\n## Technical Rationale\n\nThe Season Facet must be updated to generalize `stepOracle` to support minting in any whitelisted Well.\n\nGiven that the migration process cannot be executed atomically and Unripe asset functionality will be in a broken state during it, attempts to Deposit, Convert or Chop Unripe assets during the migration process will revert.\n\nThe Fertilizer Facet must be updated to use the new Barn Raise token (wstETH), which is now abstracted away via the new `LibBarnRaise` library.\n\nThe Unripe Facet, BDV Facet, `LibConvert`, `LibUnripeConvert`, `LibEvaluate` and `LibFertilizer` must be updated to reflect the use of `LibBarnRaise`.\n\nAll of the oracle libraries are updated to be generalized to support reading data for any tokens that Beanstalk supports.\n\n## Economic Rationale\n\nBeanstalk could be offering higher yield opportunities to Bean liquidity providers (and Unripe LP holders) via the ETH staking yield with minimal additional trust assumptions. stETH has the largest TVL of any liquid staking derivative. All other liquid staking derivatives with reasonable market adoption – a requirement for sufficient decentralization – still have arbitrary and unilateral upgradability privileges held by a small party.\n\nBasin does not have a Well Implementation that tracks rebasing tokens. Thus, Basin (and thus, Beanstalk) must use wstETH (*i.e.*, the wrapped, non-rebasing version of stETH).\n\nSetting the optimal LP BDV distribution to 80% BEANwstETH and 20% BEANETH reflects the preference for higher yield opportunities to Depositors. Setting the BEANwstETH Gauge Points to 400 initializes the Gauge Point distribution with the same proportions as the optimal LP BDV distribution (BEANETH currently has 100 Gauge Points).\n\nThere is no wstETH:USD Chainlink feed on Ethereum mainnet. Using 3 sources for the wstETH:ETH prices increases accuracy and reliability.\n\nFor as long as most liquidity for Beans is in the existing BEANETH Well, Beanstalk is still subject to risks associated with Multi Flow v1.0.0 that were pointed out in EBIP-9.\n\nSetting the percent exchange rate change per block cap and percent LP token supply change per block cap in Multi Flow v1.1.0 to 0.5% and 3%, respectively, minimizes both potential inter-block MEV manipulation and instances where the Pump reserves are out of sync with the Well reserves. Investigation of past data in the ETH:USDC and ETH:USDT Uniswap V2 pools can be found [here](https://github.com/BeanstalkFarms/MultiFlowAnalysis).\n\nThe Uniswap V3 component of the existing ETH:USD oracle serves little to no purpose given that it already defaults to Chainlink in the case of manipulation.\n\n## Contract Changes\n\nSee the [full Arweave upload of BIP-48](https://arweave.net/UaOfzRSfLLQvOMupUWoOSzveQMxgsHHW5gNh7TqS1ag) to read the Contract Changes section.\n\n## Beans Minted\n\nNone.\n\n## Audit\n\n### Beanstalk\n\nThe commit hash of this BIP is [45afeaf1f9c57bcdf506336aff63fa8805a1081f](https://github.com/BeanstalkFarms/Beanstalk/pull/758/commits/45afeaf1f9c57bcdf506336aff63fa8805a1081f).\n\nAn audit competition of this upgrade was held via Codehawks using commit hash [27ff8c87c9164c1fbff054be5f22e56f86cdf127](https://github.com/Cyfrin/2024-04-beanstalk-2/commit/27ff8c87c9164c1fbff054be5f22e56f86cdf127). The final report can be read [here](https://codehawks.cyfrin.io/c/2024-04-beanstalk-2/results?lt=contest&page=1&sc=reward&sj=reward&t=leaderboard).\n\nAudit remediations were committed and documented in [PR #922](https://github.com/BeanstalkFarms/Beanstalk/pull/922). All changes were reviewed by Cyfrin.\n\n### Basin\n\nThe commit hash of Multi Flow v1.1.0 is [8d54b04fd24ec621966f30683a90d4985c6bd6db](https://github.com/BeanstalkFarms/Basin/pull/127/commits/8d54b04fd24ec621966f30683a90d4985c6bd6db).\n\nAn audit competition of this upgrade was held via Codehawks using commit hash [038609d8adf1bf941f8abd12820bc92ecd998375](https://github.com/Cyfrin/2024-04-Beanstalk-DIB/commit/038609d8adf1bf941f8abd12820bc92ecd998375). The final report can be read [here](https://codehawks.cyfrin.io/c/2024-04-Beanstalk-DIB/results?lt=contest&page=1&sc=reward&sj=reward&t=leaderboard).\n\nAudit remediations were committed and documented in [PR #132](https://github.com/BeanstalkFarms/Basin/pull/132). All changes were reviewed by Cyfrin.\n\n## Effective\n\nImmediately upon commitment.",
      "protocol": "beanstalkdaoeth",
      "adapter": "snapshot",
      "proposer": "0x47a473Eb2bDfe6599dac638FFFE0D427d8Ad6888",
      "totalVotes": 114,
      "blockNumber": 20339384,
      "externalUrl": "https://snapshot.org/#/beanstalkdao.eth/proposal/0x7a9167d3e201225a3352b4643c9aeaac8916b8cb018796bd72b95adf6f0c5bbd",
      "startTime": {
        "timestamp": 1721379600
      },
      "endTime": {
        "timestamp": 1721984400
      },
      "startTimestamp": 1721379600,
      "endTimestamp": 1721984400,
      "currentState": "closed",
      "choices": [
        "For",
        "Against"
      ],
      "results": [
        {
          "total": 59741168.0,
          "choice": 0
        }
      ],
      "events": [],
      "type": "basic",
      "indexedResult": [
        {
          "total": 59663800.465556666,
          "choice": 0
        },
        {
          "total": 0.0,
          "choice": 1
        }
      ],
      "summary": "",
      "privacy": "",
      "indexedAt": 1721378650109,
      "txHash": "",
      "quorum": 0,
      "flagged": null,
      "executionArgs": "",
      "executables": "",
      "chainId": null
    },
    {
      "refId": "cHJvcG9zYWw6YmVhbnN0YWxrZGFvZXRoOnNuYXBzaG90OjB4NGIxYTdiMmU3NzVkZGUyYzYyNDRkNGEwYTY0ZmU0MjIxODE0YTQwMDI4MGU2NWQ4MDQ5YWI3ODg1YmY3ODhkMg==",
      "id": "0x4b1a7b2e775dde2c6244d4a0a64fe4221814a400280e65d8049ab7885bf788d2",
      "title": "BIP-47: Adjust Quorum",
      "content": "## Proposer\n\nBeanstalk Farms, Ben Weintraub, Brendan Sanderson\n\nProposer Wallet: [0x9e0cb69ae6a5ad4eb870eb18d051efe642ed7db4](https://etherscan.io/verifySig/42407)\n\n## Summary\n\n* Change quorum for BIPs from 50% of Stalk voting For to the minimum of (1) 50% of Stalk voting For and (2) one-third of Stalk, plus the amount of Stalk voting Against, voting For (and remove the Abstain voting choice from BIPs);\n* Change quorum for BOPs from 35% of Stalk voting For (and the majority of participating Stalk voting For) to the minimum of (1) 50% of Stalk voting For and (2) 25% of Stalk, plus the amount of Stalk voting Against, voting For.\n\n## Links\n\n* [BIP-47 GitHub PR](https://github.com/BeanstalkFarms/Beanstalk/pull/866)\n\n## Problem\n\nBeanstalk is likely not at a point where it can sustain itself in perpetuity without additional development. If Beanstalk is to remain competitive in the open source environment that it operates in, improvements are essential.\n\nIt is becoming increasingly unlikely for any BIP to pass, as indicated by [BIP-44](https://arweave.net/zYTWn7E74vRLSeRrqGrE7TbPVEYqQAiCpIF2uvvzyA0), a proposal for which discussion started many months ago with minimal fundamental disagreement amongst the Beanstalk community (see the *#rfc-seed-gauge* channel in Discord, the [Beanstalk State Space](https://bean.money/beanstalk-state-space.pdf) recordings, etc.). Furthermore, the Beanstalk DAO formally signaled support for implementing the [Seed Gauge System RFC](https://github.com/BeanstalkFarms/Beanstalk/issues/726) in [BIP-40](https://arweave.net/fubHcxE_P_z-xBwapMUMLiT29m6_sifDtAKimQ05Nz8), the 2024 Beanstalk Farms development budget.\n\nGiven that most recent Stalk supply growth is due to Grown Stalk issuance rather than new Deposits, it seems that fewer existing Stalkholders are participating in governance.\n\nGovernance problems must be addressed proactively as waiting until BIPs can no longer pass would render Beanstalk effectively non-upgradable. \n\n## Proposed Solution\n\nWe propose to change quorum for BIPs from 50% of Stalk voting For to the minimum of (1) 50% of Stalk voting For and (2) one-third of Stalk, plus the amount of Stalk voting Against, voting For. The Abstain voting choice is removed.\n\nAdditionally, we propose to change quorum for BOPs from 35% of Stalk voting For (and the majority of participating Stalk voting For) to the minimum of (1) 50% of Stalk voting For and (2) 25% of Stalk, plus the amount of Stalk voting Against, voting For.\n\nNote that there are no proposed changes to counting votes. In BIPs and BOPs, a Stalkholder's vote for a given proposal is counted as their Stalk (plus delegated Stalk) at the beginning of the Voting Period that still exists.\n\n## Rationale\n\nIn the near term, upgradability is paramount to the success of Beanstalk. This proposed governance system increases the likelihood Beanstalk does not enter a circumstance where it cannot be upgraded despite there being no opposition to an upgrade.\n\n## Contract Changes\n\nNone.\n\n## Beans Minted\n\nNone.\n\n## Effective\n\nImmediately upon passage.",
      "protocol": "beanstalkdaoeth",
      "adapter": "snapshot",
      "proposer": "0x47a473Eb2bDfe6599dac638FFFE0D427d8Ad6888",
      "totalVotes": 181,
      "blockNumber": 19929209,
      "externalUrl": "https://snapshot.org/#/beanstalkdao.eth/proposal/0x4b1a7b2e775dde2c6244d4a0a64fe4221814a400280e65d8049ab7885bf788d2",
      "startTime": {
        "timestamp": 1716429600
      },
      "endTime": {
        "timestamp": 1717034400
      },
      "startTimestamp": 1716429600,
      "endTimestamp": 1717034400,
      "currentState": "closed",
      "choices": [
        "For",
        "Against",
        "Abstain"
      ],
      "results": [
        {
          "total": 88744850.0,
          "choice": 0
        },
        {
          "total": 1105818.0,
          "choice": 1
        }
      ],
      "events": [],
      "type": "basic",
      "indexedResult": [
        {
          "total": 84693701.84674028,
          "choice": 0
        },
        {
          "total": 1105817.9291676937,
          "choice": 1
        },
        {
          "total": 0.0,
          "choice": 2
        }
      ],
      "summary": "",
      "privacy": "",
      "indexedAt": 1716426933988,
      "txHash": "",
      "quorum": 0,
      "flagged": null,
      "executionArgs": "",
      "executables": "",
      "chainId": null
    },
    {
      "refId": "cHJvcG9zYWw6YmVhbnN0YWxrZGFvZXRoOnNuYXBzaG90OjB4ZWM0ZDM0NzkxOGJlNDVkMmVjOTJkZTBjODdhODgwMmFiOGUyMDE3ZDE3YjVlNTgwOWM5MWEwMmVhNmI5YWU2Ng==",
      "id": "0xec4d347918be45d2ec92de0c87a8802ab8e2017d17b5e5809c91a02ea6b9ae66",
      "title": "BIP-45: Seed Gauge System",
      "content": "> Note that due to the Snapshot character limit, the Snapshot version of BIP-45 that follows is significantly abridged and includes many references to the complete BIP-45 proposal on Arweave that should be read here:\n> \n> https://arweave.net/qLCpLQtH1bexKoMznrZ4z77drrVd51crDvsURcK_7PU\n\n## Proposer\n\nSafisynai\n\nProposer Wallet: [0x43a9da9bade357843fbe7e5ee3eedd910f9fac1e](https://etherscan.io/verifySig/42364)\n\n## Summary\n\n* Implement the Seed Gauge System;\n    * Implement the ability to set a target number of Seasons for a new Deposit with an average number of Seeds to catch up to the average Grown Stalk per BDV of existing Deposits at the time of Deposit (*i.e.*, a target Grown Stalk inflation rate);\n    * Introduce the ability to set an optimal distribution of Deposited LP BDV amongst whitelisted LP tokens; and\n    * Introduce the ability to change the distribution of Grown Stalk to various whitelisted assets each Season in attempt to return to ideal equilibrium:\n        * Change the distribution of Grown Stalk between Deposited Beans and LP tokens based on the Bean to Max LP Ratio (*i.e.*, the ratio of Grown Stalk issuance between 1 Bean and 1 BDV of the LP token with the highest Gauge Points (defined below) per BDV); and\n        * Change the distribution of Grown Stalk between various whitelisted LP tokens based on their current and optimal distributions;\n* Initialize the Seed Gauge System;\n    * Set the target number of Seasons for a new Deposit with an average number of Seeds to catch up to the average Grown Stalk per BDV to 4320 Seasons (~6 months);\n    * Set the minimum Bean to Max LP Ratio to 1:2 (*i.e.*, at most, 1 BDV of an LP token Deposit will receive twice as much Grown Stalk per Season as a 1 Bean Deposit);\n    * Set the maximum Bean to Max LP Ratio to 1:1 (*i.e.*, at most, a 1 Bean Deposit will receive as much Grown Stalk per Season as 1 BDV of an LP token Deposit with the highest Grown Stalk per BDV.);\n    * Initialize the Bean to Max LP Ratio to 1:1.5 (*i.e.*, a 1.5 Bean Deposit will receive as much Grown Stalk per Season as 1 BDV of an LP token Deposit with the highest Grown Stalk per BDV.);\n    * Set the optimal target distribution of Deposited LP BDV to 100% BEANETH;\n    * Initialize BEANETH's Gauge Points (which determine Grown Stalk issuance across various LP tokens) to 100; and\n    * Implement a default Gauge Point function that increments or decrements the Gauge Points of a whitelisted LP token based on whether the current Deposited BDV is lower or higher than optimal;\n* Upgrade the case system (how Beanstalk evaluates its position and current state with respect to ideal equilibrium) to Cases V2:\n    * Add a fourth axis on which Beanstalk evaluates itself, the Liquidity to Supply Ratio (L2SR) in addition to (1) price, (2) Pod Rate and (3) change in demand for Soil;\n        * Include support for only factoring in a portion of liquidity in a whitelisted pool into the L2SR calculation (*i.e.*, liquidity weight);\n        * Set the liquidity weight for BEANETH to 100% (*i.e.*, do not discount the liquidity);\n    * Implement an excessively high Bean price case at P > 1.05;\n    * Add support for changing the Maximum Temperature in response to the cases in a relative manner;\n    * Add support for changing the Bean to Max LP Scalar (which determines the Bean to Max LP Ratio) in response to the cases in a relative and absolute manner;\n    * Change the absolute Maximum Temperature changes for the P < 1 and increasing/steady demand for Soil cases; and\n    * Initialize the relative Maximum Temperature changes and both the relative and absolute Bean to Max LP Scalar changes by case;\n* Implement the second step in a two step process to track Deposited BDV that has not migrated to Silo V3;\n* Support Unripe λ → λ Conversions in the Silo;\n* Remove BEAN3CRV from the Deposit and Minting Whitelists;\n* Remove the BEAN → BEAN3CRV Conversion from the Convert Whitelist; \n* Update Flood to occur in the whitelisted Well with the most liquidity; \n* Implement Germination, which introduces a 2 Season delay in receiving Earned Beans after Deposit; and\n* Increase the max `gm` reward during the first available block from 100 to 250 Beans.\n\n## Links\n\n* [BIP-45 GitHub PR](https://github.com/BeanstalkFarms/Beanstalk/pull/722)\n* GitHub Commit Hash: [ac8e681c7daa7cb046c1e405b27e50e7e44c0504](https://github.com/BeanstalkFarms/Beanstalk/pull/722/commits/ac8e681c7daa7cb046c1e405b27e50e7e44c0504)\n* [Safe Transaction](https://app.safe.global/transactions/tx?safe=eth:0xa9bA2C40b263843C04d344727b954A545c81D043&id=multisig_0xa9bA2C40b263843C04d344727b954A545c81D043_0x77ca4fcf8c8e7a1876025f236eaacc429342e83a55854e98d8164a5f90e52975)\n\n## Context and Problem\n\nSee the [full Arweave upload of BIP-45](https://arweave.net/qLCpLQtH1bexKoMznrZ4z77drrVd51crDvsURcK_7PU#context) to read the Context and Problem sections, which are very helpful for understanding the Seed Gauge System outlined in the remainder of the BIP.\n\n## Proposed Solution\n\n### Seed Gauge System\n\nSee the [full Arweave upload of BIP-45](https://arweave.net/qLCpLQtH1bexKoMznrZ4z77drrVd51crDvsURcK_7PU#seed-gauge-system) to read the Seed Gauge System section.\n\n### Cases V2\n\nSee the [full Arweave upload of BIP-45](https://arweave.net/qLCpLQtH1bexKoMznrZ4z77drrVd51crDvsURcK_7PU#liquidity-to-supply-ratio) to read the Cases V2, Liquidity to Supply Ratio, Locked Beans and P > Q sections.\n\n#### Maximum Temperature and Bean To Max LP Scalar Changes\n\nCases V2 updates the Maximum Temperature ($T$) and the Bean to Max LP Scalar ($L$) for the next Season $s + 1$ like so (where $m_T$ and $b_T$ are the relative and absolute changes to $T$, and $m_L$ and $b_L$ are the relative and absolute changes to $L$):\n\n$$ T_{s+1} = max(m_T * T_s + b_T, 1) $$\n\n$$ L_{s+1} = min(max(m_L * L_s + b_L, 0), 1) $$\n\nThe Maximum Temperature has a minimum of 1%, and range of the Bean to Max LP Scalar is $[0, 1]$.\n\n#### 144 Cases to Rule Them All\n\nIn all 144 cases,`mT` and `mL` are set to 1, *i.e.*, there are no proposed relative adjustments to Maximum Temperature or the Bean to Max LP Scalar. As a result, each cell in the following tables strictly includes [`bT`, `bL`], *i.e.*, the absolute change in Maximum Temperature followed by the absolute change in the Bean to Max LP Scalar.\n\nWe propose the following absolute Maximum Temperature and Bean to Max LP Scalar changes in each case:\n\n![image](https://arweave.net/o-E4GXuNl__j2-fx0L9z2x_eSgTRqafzGpOJYUhe0rA)\n\n![image](https://arweave.net/yoWQ69osQXWPi8hECSj_R7pJoDbl44_Sf8788N95W8s)\n\n![image](https://arweave.net/sBXoXvVx5RnbGWuNmIY2tOamVJJLYuZ-nSwiS-NaM9M)\n\n![image](https://arweave.net/aQiUpR1saNtzo1WRTAwpBB75H1wn08Bp33C1-xyg9Fw)\n\nSee the [full Arweave upload of BIP-45](https://arweave.net/qLCpLQtH1bexKoMznrZ4z77drrVd51crDvsURcK_7PU#silo-v3-unmigrated-bdv) to read the Silo V3 Unmigrated BDV, Unripe λ → λ Conversions, Dewhitelist BEAN3CRV, Flood Update, Germination and Increase Max `gm` Reward sections.\n\n## Technical Rationale\n    \nSee the [full Arweave upload of BIP-45](https://arweave.net/qLCpLQtH1bexKoMznrZ4z77drrVd51crDvsURcK_7PU#technical-rationale) to read the Technical Rationale section.\n\n## Economic Rationale\n\nSee the [full Arweave upload of BIP-45](https://arweave.net/qLCpLQtH1bexKoMznrZ4z77drrVd51crDvsURcK_7PU#economic-rationale) to read the Economic Rationale section.\n\n## Contract Changes\n\nSee the [full Arweave upload of BIP-45](https://arweave.net/qLCpLQtH1bexKoMznrZ4z77drrVd51crDvsURcK_7PU#contract-changes) to read the Contract Changes section.\n\n## Beans Minted\n\nNone.\n\n## Audit\n\nThe commit hash of this BIP is [ac8e681c7daa7cb046c1e405b27e50e7e44c0504](https://github.com/BeanstalkFarms/Beanstalk/pull/722/commits/ac8e681c7daa7cb046c1e405b27e50e7e44c0504).\n\nCyfrin performed an audit of the initial version of the Seed Gauge system. The audit report can be read [here](https://arweave.net/OTss_ld5AJRbGPlaL6lRgzh8ZoOA5-n9HnUljvphsic).\n\nAfter significant changes, such as the Germination update, an audit competition of the Seed Gauge System was held via Codehawks using commit hash [a3658861af8f5126224718af494d02352fbb3ea5](https://github.com/Cyfrin/2024-02-Beanstalk-1/commit/a3658861af8f5126224718af494d02352fbb3ea5). The final report can be read [here](https://www.codehawks.com/report/clsxlpte900074r5et7x6kh96).\n\nAudit remediations were committed in PRs [#819](https://github.com/BeanstalkFarms/Beanstalk/pull/819), [#829](https://github.com/BeanstalkFarms/Beanstalk/pull/829) and [#831](https://github.com/BeanstalkFarms/Beanstalk/pull/831). \n\n#### Post Audit Changes\n\nThe following changes have been made to the Seed Gauge System code, but have not been audited.\n\nPR [#836](https://github.com/BeanstalkFarms/Beanstalk/pull/836), which skips updating the Bean to Max LP Scalar if the Chainlink oracle fails.\n\nPR [#837](https://github.com/BeanstalkFarms/Beanstalk/pull/837), which updates the Germination events.\n\nPR [#843](https://github.com/BeanstalkFarms/Beanstalk/pull/843), which adds the `getLockedBeansFromTwaReserves` view function.\n\n#### BIP-42 Bug Fix\n\nPR [#854](https://github.com/BeanstalkFarms/Beanstalk/pull/854) fixed the Locked Bean calculation issue that was found during the BIP-42 Voting Period. The fix was reviewed by Cyfrin.\n \n## Effective\n\nImmediately upon commitment.",
      "protocol": "beanstalkdaoeth",
      "adapter": "snapshot",
      "proposer": "0x47a473Eb2bDfe6599dac638FFFE0D427d8Ad6888",
      "totalVotes": 183,
      "blockNumber": 19871559,
      "externalUrl": "https://snapshot.org/#/beanstalkdao.eth/proposal/0xec4d347918be45d2ec92de0c87a8802ab8e2017d17b5e5809c91a02ea6b9ae66",
      "startTime": {
        "timestamp": 1715731200
      },
      "endTime": {
        "timestamp": 1716336000
      },
      "startTimestamp": 1715731200,
      "endTimestamp": 1716336000,
      "currentState": "closed",
      "choices": [
        "For",
        "Against",
        "Abstain"
      ],
      "results": [
        {
          "total": 91193000.0,
          "choice": 0
        }
      ],
      "events": [],
      "type": "basic",
      "indexedResult": [
        {
          "total": 86605797.22727858,
          "choice": 0
        },
        {
          "total": 0.0,
          "choice": 1
        },
        {
          "total": 0.0,
          "choice": 2
        }
      ],
      "summary": "",
      "privacy": "",
      "indexedAt": 1715731079015,
      "txHash": "",
      "quorum": 0,
      "flagged": null,
      "executionArgs": "",
      "executables": "",
      "chainId": null
    },
    {
      "refId": "cHJvcG9zYWw6YmVhbnN0YWxrZGFvZXRoOnNuYXBzaG90OjB4NzZmY2FhYzZjM2UyZjY5ODJkNTRmNTI4ZDFmY2Y4ZGQ3ZTUxYjkxOWE5ZTVhYzAzMmM5Y2EzYTUwZGEwNzAwZg==",
      "id": "0x76fcaac6c3e2f6982d54f528d1fcf8dd7e51b919a9e5ac032c9ca3a50da0700f",
      "title": "BIP-46: Hypernative",
      "content": "## Proposer\n\nHypernative, Beanstalk Farms\n\nProposer Wallet: [0x9e0cb69ae6a5ad4eb870eb18d051efe642ed7db4](https://etherscan.io/verifySig/42406)\n\n## Summary\n\n* Mint 30,000 Beans to retain Hypernative, a proactive threat prevention and real-time monitoring platform, to protect Beanstalk from exploits and augment Beanstalk Farms' security operations thru May 2025;\n* Add the Hypernative contract as a module to the Beanstalk Community Multisig (BCM) on Safe, allowing Hypernative to programmatically remove functions from Beanstalk upon detecting an impending or in-progress attack.\n\n## Links\n\n* [BIP-46 GitHub PR](https://github.com/BeanstalkFarms/Beanstalk/pull/842)\n* [Safe Transaction](https://app.safe.global/transactions/tx?safe=eth:0xa9bA2C40b263843C04d344727b954A545c81D043&id=multisig_0xa9bA2C40b263843C04d344727b954A545c81D043_0xf46bf943dc5af605f6734f02f41bb2411365576753e2b317ec90d26738fc2f8f)\n\n## Context\n\n[Hypernative](https://hypernative.io/) actively detects and responds to zero-day cyber attacks, financial risks, on-chain anomalies to safeguard digital assets, protocols, and web3 applications from significant threats and losses. Hypernative works with some of the leading organizations in crypto such as Balancer, Polygon, Starknet, Zetachain, Linea (Consensys), Circle, Galaxy, OlympusDAO, Chainalysis and many others.\n\nHypernative is an active participant in many crypto security organizations and committees geared towards helping projects and the industry as a whole create new security solutions and standards, such as the [SEAL 911](https://github.com/security-alliance/seal-911) initiative by the [Security Alliance](https://securityalliance.org/).\n\nThe Hypernative team is well experienced in crypto and cyber security with tens of years of combined experience from companies like Microsoft, IBM, Google, VMware, CyberArk, ChainReaction, Orbs, Intel, and others.\n\nHere are few mentions of Hypernative from protocols that were helped (some of which became customers):\n\n> See the [full Arweave upload of BIP-46](https://arweave.net/pYL-MSq2l4dTFNXFNL_sUbUneguGzkycidmXFIxUNlc#context) to see the links of mentions.\n\nAnd a few public use case stories from customers:\n\n> See the [full Arweave upload of BIP-46](https://arweave.net/pYL-MSq2l4dTFNXFNL_sUbUneguGzkycidmXFIxUNlc#context) to see the links of use case stories.\n\n## Problem\n\nSecurity is paramount to Beanstalk's success. A critical component of a robust security stack that is not yet in place for Beanstalk is a real-time production monitoring solution.\n\nIt is challenging to keep track of various new security risks and exposures. Having a dedicated team and a real-time platform to detect and mitigate these risks for the Beanstalk community is high value.\n\nIt is impractical for the BCM to manually remove vulnerable functions from Beanstalk in a matter of minutes, which is often the amount of time between malicious contracts being deployed and exploits being executed.\n\n## Proposed Solution\n\nHire Hypernative, and in doing so, add a [Safe module](https://docs.safe.global/advanced/smart-account-modules) to the BCM that grants Hypernative the ability to remove non-diamond functions from Beanstalk upon the detection of:\n* High confidence pre-exploit detections; and\n* High confidence exploit-in-progress detections.\n\nIn particular, Hypernative does not have the ability to remove the `diamondCut`, `facetAddress`, `facetAddresses`, `facetFunctionSelectors` and `facets` functions. The module contract that implements this functionality is non-upgradable ([address here](https://etherscan.io/address/0x59c78c1c2b4b03b4530d5f46f02362e4a03efe4d)).\n\nVulnerabilities that have the potential for theft of funds stem from incorrectly implemented functions that change state within Beanstalk. When Hypernative's platform detects an impending or in-progress attack, Beanstalk can be protected by simply removing all functions (in this case, all non-diamond functions in order to preserve upgradability), albeit at the cost of minor downtime to the system. Over the last year, Hypernative has detected 99.5% of all on-chain attacks and in 98% of cases detected them 2 or more minutes before the first transaction of the attack.\n\nThe BCM continues to be the owner of and the sole address capable of adding and updating functions on Beanstalk. Instances where Hypernative removes all non-diamond functions will be considered EBIPs, i.e., they will be documented as such and follow the DAO-approved procedures outlined in [Emergency Response Procedures](https://docs.bean.money/almanac/governance/beanstalk/bcm-process#emergency-response-procedures).\n\nIn addition, Hypernative also offers a security and Solidity expert that is available to provide expertise and assistance regarding security incidents, bug/vulnerability disclosures, etc. and over the last several months they have worked with Beanstalk Farms on integrating the automated response system into Beanstalk. The Hypernative platform also provides real-time detection and alerts to the community regarding anomalies and risks in governance proposals, oracles, participants, phishing and/or scamming campaigns affecting Beanstalk and its participants.\n\nFor reference, the following is a comprehensive list of features that Hypernative offers to customers:\n\n> See the [full Arweave upload of BIP-46](https://arweave.net/pYL-MSq2l4dTFNXFNL_sUbUneguGzkycidmXFIxUNlc#proposed-solution) to see the comprehensive list of features.\n\nWe propose to add the following disclosure to the [Beanstalk DAO Disclosures](https://arweave.net/zaOThrkaNCQ2zkkas8pyVQkFSkAKXfU7JahilBaqXRs):\n\n> MOST BEANSTALK FUNCTIONS CAN BE ARBITRARILY REMOVED BY HYPERNATIVE, A PROACTIVE THREAT PREVENTION AND REAL-TIME MONITORING PLATFORM. THERE IS NO GUARANTEE THAT FUNCTIONS ARE ONLY REMOVED WHEN APPROPRIATE.\n> \n> The Beanstalk DAO implemented Hypernative into Beanstalk, a proactive threat prevention and real-time monitoring platform. Hypernative has the ability to remove any Beanstalk function unrelated to the Ethereum Diamond and upgradability of Beanstalk. \n> \n> Hypernative introduces significant risks related to security and censorship. There is no guarantee that:\n> * Hypernative only removes functions during high confidence pre-exploit and exploit-in-progress detections;\n> * The BCM will remove Hypernative protections when necessary for the security or censorship resistance of Beanstalk; or that\n> * The BCM does not remove Hypernative protections when it is not beneficial to Beanstalk.\n\n## Rationale\n\nSecurity is paramount to the success of Beanstalk. Hypernative has a strong track record and is the best in the industry at helping DAOs and protocols respond to exploit attempts in real-time.\n\nBy limiting the privileges of the Hypernative module to removing non-diamond functions, the only additional risk introduced is the potential for brief downtime (and in the event of downtime due to Hypernative malfunctioning, the BCM can remove Hypernative from Beanstalk at any time).\n\nPaying the annual subscription of 30,000 Beans to Hypernative has the potential to significantly improve the security of Beanstalk, which currently custodies >$14M of non-Bean value.\n\n## Contract Changes\n\nThere are no upgrades to the Beanstalk contract in this BIP.\n\nThe Safe module proposed to be added to the BCM Safe multisig is deployed at [0x59c78c1c2b4b03b4530d5f46f02362e4a03efe4d](https://etherscan.io/address/0x59c78c1c2b4b03b4530d5f46f02362e4a03efe4d). This module contract is owned by the EOA at [0xd7E13e49e467637D75C43D917d98d69049a19bFF](https://etherscan.io/address/0xd7E13e49e467637D75C43D917d98d69049a19bFF), which is custodied by Hypernative.\n\n## Beans Minted\n\nThe `init` function on the `InitMint` contract at [0x077495925c17230E5e8951443d547ECdbB4925Bb](https://etherscan.io/address/0x077495925c17230E5e8951443d547ECdbB4925Bb#code) is called.\n\nWe propose a total of 30,000 Beans are minted to the Beanstalk Farms Multisig address upon the execution of this BIP. Beanstalk Farms will coordinate the payment to Hypernative.\n\n## Effective\n\nImmediately upon commitment.",
      "protocol": "beanstalkdaoeth",
      "adapter": "snapshot",
      "proposer": "0x47a473Eb2bDfe6599dac638FFFE0D427d8Ad6888",
      "totalVotes": 169,
      "blockNumber": 19871618,
      "externalUrl": "https://snapshot.org/#/beanstalkdao.eth/proposal/0x76fcaac6c3e2f6982d54f528d1fcf8dd7e51b919a9e5ac032c9ca3a50da0700f",
      "startTime": {
        "timestamp": 1715731200
      },
      "endTime": {
        "timestamp": 1716336000
      },
      "startTimestamp": 1715731200,
      "endTimestamp": 1716336000,
      "currentState": "closed",
      "choices": [
        "For",
        "Against",
        "Abstain"
      ],
      "results": [
        {
          "total": 86539016.0,
          "choice": 0
        },
        {
          "total": 728652.94,
          "choice": 2
        },
        {
          "total": 50767.984,
          "choice": 1
        }
      ],
      "events": [],
      "type": "basic",
      "indexedResult": [
        {
          "total": 83345804.60179414,
          "choice": 0
        },
        {
          "total": 50767.983286211194,
          "choice": 1
        },
        {
          "total": 728652.8995623302,
          "choice": 2
        }
      ],
      "summary": "",
      "privacy": "",
      "indexedAt": 1715731079015,
      "txHash": "",
      "quorum": 0,
      "flagged": null,
      "executionArgs": "",
      "executables": "",
      "chainId": null
    },
    {
      "refId": "cHJvcG9zYWw6YmVhbnN0YWxrZGFvZXRoOnNuYXBzaG90OjB4ZGYyNjJiMjRlMmRmZmJlMWVmZjA0ODE1YmIxY2EzZTczZGE5NjM2YjdkNDhlMGRjZDliZmIyNmRhZjJlMjcxZA==",
      "id": "0xdf262b24e2dffbe1eff04815bb1ca3e73da9636b7d48e0dcd9bfb26daf2e271d",
      "title": "BIP-44: Seed Gauge System",
      "content": "> Note that due to the Snapshot character limit, the Snapshot version of BIP-44 that follows is significantly abridged and includes many references to the complete BIP-44 proposal on Arweave that should be read here:\n> \n> https://arweave.net/WihXw6umtynJUpNmnrbKe77lodtEef62djpRfObucO4\n\n## Proposer\n\nBeanstalk Farms, Ben Weintraub, Brendan Sanderson\n\nProposer Wallet: [0x9e0cb69ae6a5ad4eb870eb18d051efe642ed7db4](https://etherscan.io/verifySig/41639)\n\n## Summary\n\n* Implement the Seed Gauge System;\n    * Implement the ability to set a target number of Seasons for a new Deposit with an average number of Seeds to catch up to the average Grown Stalk per BDV of existing Deposits at the time of Deposit (*i.e.*, a target Grown Stalk inflation rate);\n    * Introduce the ability to set an optimal distribution of Deposited LP BDV amongst whitelisted LP tokens; and\n    * Introduce the ability to change the distribution of Grown Stalk to various whitelisted assets each Season in attempt to return to ideal equilibrium:\n        * Change the distribution of Grown Stalk between Deposited Beans and LP tokens based on the Bean to Max LP Ratio (*i.e.*, the ratio of Grown Stalk issuance between 1 Bean and 1 BDV of the LP token with the highest Gauge Points (defined below) per BDV); and\n        * Change the distribution of Grown Stalk between various whitelisted LP tokens based on their current and optimal distributions;\n* Initialize the Seed Gauge System;\n    * Set the target number of Seasons for a new Deposit with an average number of Seeds to catch up to the average Grown Stalk per BDV to 4320 Seasons (~6 months);\n    * Set the minimum Bean to Max LP Ratio to 1:2 (*i.e.*, at most, 1 BDV of an LP token Deposit will receive twice as much Grown Stalk per Season as a 1 Bean Deposit);\n    * Set the maximum Bean to Max LP Ratio to 1:1 (*i.e.*, at most, a 1 Bean Deposit will receive as much Grown Stalk per Season as 1 BDV of an LP token Deposit with the highest Grown Stalk per BDV.);\n    * Initialize the Bean to Max LP Ratio to 1:1.5 (*i.e.*, a 1.5 Bean Deposit will receive as much Grown Stalk per Season as 1 BDV of an LP token Deposit with the highest Grown Stalk per BDV.);\n    * Set the optimal target distribution of Deposited LP BDV to 100% BEANETH;\n    * Initialize BEANETH's Gauge Points (which determine Grown Stalk issuance across various LP tokens) to 100; and\n    * Implement a default Gauge Point function that increments or decrements the Gauge Points of a whitelisted LP token based on whether the current Deposited BDV is lower or higher than optimal;\n* Upgrade the case system (how Beanstalk evaluates its position and current state with respect to ideal equilibrium) to Cases V2:\n    * Add a fourth axis on which Beanstalk evaluates itself, the Liquidity to Supply Ratio (L2SR) in addition to (1) price, (2) Pod Rate and (3) change in demand for Soil;\n        * Include support for only factoring in a portion of liquidity in a whitelisted pool into the L2SR calculation (*i.e.*, liquidity weight);\n        * Set the liquidity weight for BEANETH to 100% (*i.e.*, do not discount the liquidity);\n    * Implement an excessively high Bean price case at P > 1.05;\n    * Add support for changing the Maximum Temperature in response to the cases in a relative manner;\n    * Add support for changing the Bean to Max LP Scalar (which determines the Bean to Max LP Ratio) in response to the cases in a relative and absolute manner;\n    * Change the absolute Maximum Temperature changes for the P < 1 and increasing/steady demand for Soil cases; and\n    * Initialize the relative Maximum Temperature changes and both the relative and absolute Bean to Max LP Scalar changes by case;\n* Implement the second step in a two step process to track Deposited BDV that has not migrated to Silo V3;\n* Support Unripe λ → λ Conversions in the Silo;\n* Remove BEAN3CRV from the Deposit and Minting Whitelists;\n* Remove the BEAN → BEAN3CRV Conversion from the Convert Whitelist; \n* Update Flood to occur in the whitelisted Well with the most liquidity; \n* Implement Germination, which introduces a 2 Season delay in receiving Earned Beans after Deposit; and\n* Increase the max `gm` reward during the first available block from 100 to 250 Beans.\n\nNote: BIP-42 was cancelled due to a bug that was found during the Voting Period. A BCM Signer indicated that the transaction should be cancelled by signing a [verified message on Etherscan](https://etherscan.io/verifySig/41632). As such, BIP-42 was removed from Snapshot. The fix for the reported bug was reviewed by Cyfrin.\n\n## Links\n\n* [BIP-44 GitHub PR](https://github.com/BeanstalkFarms/Beanstalk/pull/722)\n* GitHub Commit Hash: [ac8e681c7daa7cb046c1e405b27e50e7e44c0504](https://github.com/BeanstalkFarms/Beanstalk/pull/722/commits/ac8e681c7daa7cb046c1e405b27e50e7e44c0504)\n* [Safe Transaction](https://app.safe.global/transactions/tx?id=multisig_0xa9bA2C40b263843C04d344727b954A545c81D043_0x844870e199785e54cd2ae50527eea6e216241385771119eb6a2aa0083f60bec5&safe=eth:0xa9bA2C40b263843C04d344727b954A545c81D043)\n\n## Context and Problem\n\nSee the [full Arweave upload of BIP-44](https://arweave.net/WihXw6umtynJUpNmnrbKe77lodtEef62djpRfObucO4#context) to read the Context and Problem sections, which are very helpful for understanding the Seed Gauge System outlined in the remainder of the BIP.\n\n## Proposed Solution\n\n### Seed Gauge System\n\nSee the [full Arweave upload of BIP-44](https://arweave.net/WihXw6umtynJUpNmnrbKe77lodtEef62djpRfObucO4#seed-gauge-system) to read the Seed Gauge System section.\n\n### Cases V2\n\nSee the [full Arweave upload of BIP-44](https://arweave.net/WihXw6umtynJUpNmnrbKe77lodtEef62djpRfObucO4#liquidity-to-supply-ratio) to read the Cases V2, Liquidity to Supply Ratio, Locked Beans and P > Q sections.\n\n#### Maximum Temperature and Bean To Max LP Scalar Changes\n\nCases V2 updates the Maximum Temperature ($T$) and the Bean to Max LP Scalar ($L$) for the next Season $s + 1$ like so (where $m_T$ and $b_T$ are the relative and absolute changes to $T$, and $m_L$ and $b_L$ are the relative and absolute changes to $L$):\n\n$$ T_{s+1} = max(m_T * T_s + b_T, 1) $$\n\n$$ L_{s+1} = min(max(m_L * L_s + b_L, 0), 1) $$\n\nThe Maximum Temperature has a minimum of 1%, and range of the Bean to Max LP Scalar is $[0, 1]$.\n\n#### 144 Cases to Rule Them All\n\nIn all 144 cases,`mT` and `mL` are set to 1, *i.e.*, there are no proposed relative adjustments to Maximum Temperature or the Bean to Max LP Scalar. As a result, each cell in the following tables strictly includes [`bT`, `bL`], *i.e.*, the absolute change in Maximum Temperature followed by the absolute change in the Bean to Max LP Scalar.\n\nWe propose the following absolute Maximum Temperature and Bean to Max LP Scalar changes in each case:\n\n![image](https://arweave.net/o-E4GXuNl__j2-fx0L9z2x_eSgTRqafzGpOJYUhe0rA)\n\n![image](https://arweave.net/yoWQ69osQXWPi8hECSj_R7pJoDbl44_Sf8788N95W8s)\n\n![image](https://arweave.net/sBXoXvVx5RnbGWuNmIY2tOamVJJLYuZ-nSwiS-NaM9M)\n\n![image](https://arweave.net/aQiUpR1saNtzo1WRTAwpBB75H1wn08Bp33C1-xyg9Fw)\n\nSee the [full Arweave upload of BIP-44](https://arweave.net/WihXw6umtynJUpNmnrbKe77lodtEef62djpRfObucO4#silo-v3-unmigrated-bdv) to read the Silo V3 Unmigrated BDV, Unripe λ → λ Conversions, Dewhitelist BEAN3CRV, Flood Update, Germination and Increase Max `gm` Reward sections.\n\n## Technical Rationale\n    \nSee the [full Arweave upload of BIP-44](https://arweave.net/WihXw6umtynJUpNmnrbKe77lodtEef62djpRfObucO4#technical-rationale) to read the Technical Rationale section.\n\n## Economic Rationale\n\nSee the [full Arweave upload of BIP-44](https://arweave.net/WihXw6umtynJUpNmnrbKe77lodtEef62djpRfObucO4#economic-rationale) to read the Economic Rationale section.\n\n## Contract Changes\n\nSee the [full Arweave upload of BIP-44](https://arweave.net/WihXw6umtynJUpNmnrbKe77lodtEef62djpRfObucO4#contract-changes) to read the Contract Changes section.\n\n## Beans Minted\n\nNone.\n\n## Audit\n\nThe commit hash of this BIP is [cbef4ff3330ed2642081e35a9e2435f442e628ae](https://github.com/BeanstalkFarms/Beanstalk/pull/722/commits/cbef4ff3330ed2642081e35a9e2435f442e628ae).\n\nCyfrin performed an audit of the initial version of the Seed Gauge system. The audit report can be read [here](https://arweave.net/OTss_ld5AJRbGPlaL6lRgzh8ZoOA5-n9HnUljvphsic).\n\nAfter significant changes, such as the Germination update, an audit competition of the Seed Gauge System was held via Codehawks using commit hash [a3658861af8f5126224718af494d02352fbb3ea5](https://github.com/Cyfrin/2024-02-Beanstalk-1/commit/a3658861af8f5126224718af494d02352fbb3ea5). The final report can be read [here](https://www.codehawks.com/report/clsxlpte900074r5et7x6kh96).\n\nAudit remediations were committed in PRs [#819](https://github.com/BeanstalkFarms/Beanstalk/pull/819), [#829](https://github.com/BeanstalkFarms/Beanstalk/pull/829) and [#831](https://github.com/BeanstalkFarms/Beanstalk/pull/831). \n\n#### Post Audit Changes\n\nThe following changes have been made to the Seed Gauge System code, but have not been audited.\n\nPR [#836](https://github.com/BeanstalkFarms/Beanstalk/pull/836), which skips updating the Bean to Max LP Scalar if the Chainlink oracle fails.\n\nPR [#837](https://github.com/BeanstalkFarms/Beanstalk/pull/837), which updates the Germination events.\n\nPR [#843](https://github.com/BeanstalkFarms/Beanstalk/pull/843), which adds the `getLockedBeansFromTwaReserves` view function.\n\n#### BIP-42 Bug Fix\n\nPR [#854](https://github.com/BeanstalkFarms/Beanstalk/pull/854) fixed the Locked Bean calculation issue that was found during the BIP-42 Voting Period. The fix was reviewed by Cyfrin.\n \n## Effective\n\nImmediately upon commitment.",
      "protocol": "beanstalkdaoeth",
      "adapter": "snapshot",
      "proposer": "0x47a473Eb2bDfe6599dac638FFFE0D427d8Ad6888",
      "totalVotes": 142,
      "blockNumber": 19777721,
      "externalUrl": "https://snapshot.org/#/beanstalkdao.eth/proposal/0xdf262b24e2dffbe1eff04815bb1ca3e73da9636b7d48e0dcd9bfb26daf2e271d",
      "startTime": {
        "timestamp": 1714597200
      },
      "endTime": {
        "timestamp": 1715202000
      },
      "startTimestamp": 1714597200,
      "endTimestamp": 1715202000,
      "currentState": "closed",
      "choices": [
        "For",
        "Against",
        "Abstain"
      ],
      "results": [
        {
          "total": 66279984.0,
          "choice": 0
        }
      ],
      "events": [],
      "type": "basic",
      "indexedResult": [
        {
          "total": 64813821.13673676,
          "choice": 0
        },
        {
          "total": 0.0,
          "choice": 1
        },
        {
          "total": 0.0,
          "choice": 2
        }
      ],
      "summary": "",
      "privacy": "",
      "indexedAt": 1714596105858,
      "txHash": "",
      "quorum": 0,
      "flagged": null,
      "executionArgs": "",
      "executables": "",
      "chainId": null
    },
    {
      "refId": "cHJvcG9zYWw6YmVhbnN0YWxrZGFvZXRoOnNuYXBzaG90OjB4MTg5YzY3NjI1OTI2Y2VlYzM1NzhiNWE4MzQyNGQ4OGI0MmJhZmFjNmUwZGM1NTE0YTI5Y2E0NmVjYzAxODAxMQ==",
      "id": "0x189c67625926ceec3578b5a83424d88b42bafac6e0dc5514a29ca46ecc018011",
      "title": "BIP-43: Hypernative",
      "content": "## Proposer\n\nHypernative, Beanstalk Farms\n\nProposer Wallet: [0x9e0cb69ae6a5ad4eb870eb18d051efe642ed7db4](https://etherscan.io/verifySig/41620)\n\n## Summary\n\n* Mint 30,000 Beans to retain Hypernative, a proactive threat prevention and real-time monitoring platform, to protect Beanstalk from exploits and augment Beanstalk Farms' security operations thru May 2025;\n* Add the Hypernative contract as a module to the Beanstalk Community Multisig (BCM) on Safe, allowing Hypernative to programmatically remove functions from Beanstalk upon detecting an impending or in-progress attack.\n\n## Links\n\n* [BIP-43 GitHub PR](https://github.com/BeanstalkFarms/Beanstalk/pull/842)\n* [Safe Transaction](https://app.safe.global/transactions/tx?safe=eth:0xa9bA2C40b263843C04d344727b954A545c81D043&id=multisig_0xa9bA2C40b263843C04d344727b954A545c81D043_0x89da5abaf87bc6551a850a9793f221fe0b96ca2d528cd60d1a670325646a04f0)\n\n## Context\n\n[Hypernative](https://hypernative.io/) actively detects and responds to zero-day cyber attacks, financial risks, on-chain anomalies to safeguard digital assets, protocols, and web3 applications from significant threats and losses. Hypernative works with some of the leading organizations in crypto such as Balancer, Polygon, Starknet, Zetachain, Linea (Consensys), Circle, Galaxy, OlympusDAO, Chainalysis and many others.\n\nHypernative is an active participant in many crypto security organizations and committees geared towards helping projects and the industry as a whole create new security solutions and standards, such as the [SEAL 911](https://github.com/security-alliance/seal-911) initiative by the [Security Alliance](https://securityalliance.org/).\n\nThe Hypernative team is well experienced in crypto and cyber security with tens of years of combined experience from companies like Microsoft, IBM, Google, VMware, CyberArk, ChainReaction, Orbs, Intel, and others.\n\nHere are few mentions of Hypernative from protocols that were helped (some of which became customers):\n\n> Due to the Snapshot character limit, check out the links of the mentions in [the writeup of BIP-43 on Github](https://github.com/BeanstalkFarms/Beanstalk/pull/842).\n\nAnd a few public use case stories from customers:\n\n> Due to the Snapshot character limit, check out the links of the use case stories in [the writeup of BIP-43 on Github](https://github.com/BeanstalkFarms/Beanstalk/pull/842).\n\n## Problem\n\nSecurity is paramount to Beanstalk's success. A critical component of a robust security stack that is not yet in place for Beanstalk is a real-time production monitoring solution.\n\nIt is challenging to keep track of various new security risks and exposures. Having a dedicated team and a real-time platform to detect and mitigate these risks for the Beanstalk community is high value.\n\nIt is impractical for the BCM to manually remove vulnerable functions from Beanstalk in a matter of minutes, which is often the amount of time between malicious contracts being deployed and exploits being executed.\n\n## Proposed Solution\n\nHire Hypernative, and in doing so, add a [Safe module](https://docs.safe.global/advanced/smart-account-modules) to the BCM that grants Hypernative the ability to remove non-diamond functions from Beanstalk upon the detection of:\n* High confidence pre-exploit detections; and\n* High confidence exploit-in-progress detections.\n\nIn particular, Hypernative does not have the ability to remove the `diamondCut`, `facetAddress`, `facetAddresses`, `facetFunctionSelectors` and `facets` functions. The module contract that implements this functionality is non-upgradable ([address here](https://etherscan.io/address/0x59c78c1c2b4b03b4530d5f46f02362e4a03efe4d)).\n\nVulnerabilities that have the potential for theft of funds stem from incorrectly implemented functions that change state within Beanstalk. When Hypernative's platform detects an impending or in-progress attack, Beanstalk can be protected by simply removing all functions (in this case, all non-diamond functions in order to preserve upgradability), albeit at the cost of minor downtime to the system. Over the last year, Hypernative has detected 99.5% of all on-chain attacks and in 98% of cases detected them 2 or more minutes before the first transaction of the attack.\n\nThe BCM continues to be the owner of and the sole address capable of adding and updating functions on Beanstalk. Instances where Hypernative removes all non-diamond functions will be considered EBIPs, i.e., they will be documented as such and follow the DAO-approved procedures outlined in [Emergency Response Procedures](https://docs.bean.money/almanac/governance/beanstalk/bcm-process#emergency-response-procedures).\n\nIn addition, Hypernative also offers a security and Solidity expert that is available to provide expertise and assistance regarding security incidents, bug/vulnerability disclosures, etc. and over the last several months they have worked with Beanstalk Farms on integrating the automated response system into Beanstalk. The Hypernative platform also provides real-time detection and alerts to the community regarding anomalies and risks in governance proposals, oracles, participants, phishing and/or scamming campaigns affecting Beanstalk and its participants.\n\nFor reference, the following is a comprehensive list of features that Hypernative offers to customers:\n\n> **A. Protocol Security**\n> \n> 1. Security Framework and Response Procedure Review\n> * Set standard operational procedure (response & contact points) on the category of events and time-sensitivity for any security or operational case;\n> * Understand and create pre-incident measures to mitigate risk and react in time (pause contracts, limit/cap protocol, blacklist addresses, move funds to a safe/vault for emergency, etc.);\n> * Understand and create post-incident measures; and\n> * Automatically notify Chainalysis to label attacker wallets and track stolen funds.\n> \n> 2. Protocol Security Alerts\n> * Leverage Hypernative zero-day detection modules to detect threats and alerts in real-time on security incidents related to or directed at Beanstalk contracts.\n> \n> 3. Preventive Workflows\n> * Work with the Beanstalk Farms to connect critical security alerts from Hypernative platform into preventive actions agreed upon based on the security framework review; and\n> * Provide consultancy and verification of the entire end-to-end real-time security process and connected alerts.\n> \n> 4. Incident Response\n> * Identify root cause(s) and suggest remedies/repairs and communication.\n> \n> **B. Oracles, Bridges, and related Tokens**\n> \n> 1. Oracle Reliability\n> * Detect deviations between two updates of an oracle;\n> * Detect deviations between two updates on two different chains;\n> * Detect deviations between on-chain and off-chain prices; and\n> * Detect a lack of updates and staleness.\n> \n> 2. Bridge Security Monitoring\n> * Provide security alerts related to bridge security incidents and risks.\n> \n> 3. Related Token Monitoring\n> * Monitor tokens dependent on or related to Beanstalk for anomalies, market economic conditions, security, holdings concentration, and supply changes (mints/burns).\n> \n> **C. Phishing and Scamming Detection**\n> \n> 1. On-chain detection\n> * Detect phishing campaigns targeted at Beanstalk participants and provide alerts to warn the community.\n> \n> **D. Participants Monitoring**\n> \n> 1. Monitor suspicious users\n> * Monitor large transfers or movements of funds from participants in the protocol; and\n> * Monitor suspicious or illicit activity or illicit funds holdings for protocol participants.\n> \n> 2. Monitor blacklisted addresses\n> * Monitor addresses from OFAC lists or that were part of a hack/exploit/fraud.\n> \n> **E. Protocol Operations Monitoring**\n> \n> 1. Monitor protocol treasury and wallets\n> * Monitor large transfers or movements of funds from protocol treasury;\n> * Monitor protocol multi-sig wallets for anomalies and suspicious transactions; and\n> * Pre-transaction API that can simulate a transaction outcome before applying it on-chain.\n> \n> 2. Monitor protocol-defined parameters/invariants\n> * Monitor specific invariants, functions, and events as specified by Beanstalk.\n\n## Rationale\n\nSecurity is paramount to the success of Beanstalk. Hypernative has a strong track record and is the best in the industry at helping DAOs and protocols respond to exploit attempts in real-time.\n\nBy limiting the privileges of the Hypernative module to removing non-diamond functions, the only additional risk introduced is the potential for brief downtime (and in the event of downtime due to Hypernative malfunctioning, the BCM can remove Hypernative from Beanstalk at any time).\n\nPaying the annual subscription of 30,000 Beans to Hypernative has the potential to significantly improve the security of Beanstalk, which currently custodies >$14M of non-Bean value.\n\n## Contract Changes\n\nThere are no upgrades to the Beanstalk contract in this BIP.\n\nThe Safe module proposed to be added to the BCM Safe multisig is deployed at [0x59c78c1c2b4b03b4530d5f46f02362e4a03efe4d](https://etherscan.io/address/0x59c78c1c2b4b03b4530d5f46f02362e4a03efe4d). This module contract is owned by the EOA at [0xd7E13e49e467637D75C43D917d98d69049a19bFF](https://etherscan.io/address/0xd7E13e49e467637D75C43D917d98d69049a19bFF), which is custodied by Hypernative.\n\n## Beans Minted\n\nThe `init` function on the `InitMint` contract at [0x077495925c17230E5e8951443d547ECdbB4925Bb](https://etherscan.io/address/0x077495925c17230E5e8951443d547ECdbB4925Bb#code) is called.\n\nWe propose a total of 30,000 Beans are minted to the Beanstalk Farms Multisig address upon the execution of this BIP. Beanstalk Farms will coordinate the payment to Hypernative.\n\n## Effective\n\nImmediately upon commitment.",
      "protocol": "beanstalkdaoeth",
      "adapter": "snapshot",
      "proposer": "0x47a473Eb2bDfe6599dac638FFFE0D427d8Ad6888",
      "totalVotes": 133,
      "blockNumber": 19774482,
      "externalUrl": "https://snapshot.org/#/beanstalkdao.eth/proposal/0x189c67625926ceec3578b5a83424d88b42bafac6e0dc5514a29ca46ecc018011",
      "startTime": {
        "timestamp": 1714579200
      },
      "endTime": {
        "timestamp": 1715184000
      },
      "startTimestamp": 1714579200,
      "endTimestamp": 1715184000,
      "currentState": "closed",
      "choices": [
        "For",
        "Against",
        "Abstain"
      ],
      "results": [
        {
          "total": 67605330.0,
          "choice": 0
        },
        {
          "total": 28012.1,
          "choice": 1
        }
      ],
      "events": [],
      "type": "basic",
      "indexedResult": [
        {
          "total": 64598121.08848441,
          "choice": 0
        },
        {
          "total": 28012.0993292514,
          "choice": 1
        },
        {
          "total": 0.0,
          "choice": 2
        }
      ],
      "summary": "",
      "privacy": "",
      "indexedAt": 1714557234306,
      "txHash": "",
      "quorum": 0,
      "flagged": null,
      "executionArgs": "",
      "executables": "",
      "chainId": null
    },
    {
      "refId": "cHJvcG9zYWw6YmVhbnN0YWxrZGFvZXRoOnNuYXBzaG90OjB4OGYyNTk5ZDEyOWEwMWJjNWM2Njg2OThmYmNjMDUzZjlhY2EyNDFjNmYwN2U4ZjNjYzExN2VmMjAzYzY3Mjc2Zg==",
      "id": "0x8f2599d129a01bc5c668698fbcc053f9aca241c6f07e8f3cc117ef203c67276f",
      "title": "BIP-41: Immunefi Program Update",
      "content": "## Proposer\n\nBeanstalk Immunefi Committee\n\nProposer Wallet: [0x4a24e54a090b0fa060f7faaf561510775d314e84](https://etherscan.io/verifySig/35871)\n\n## Summary\n\n* Increase the number of remaining Beans allocated to the Beanstalk bug bounty program on Immunefi (currently 1,389,315 Beans) to 2,500,000 Beans in order to continue incentivizing whitehats to report vulnerabilities in Beanstalk, Basin and Pipeline;\n* Mint these 2,500,000 Beans to the Beanstalk Immunefi Committee Multisig (BICM) to execute bug bounty payments via an Immunefi Vault;\n* Mint an additional 37,800 Beans to the BICM to pay for 1 year of an annual Immunefi subscription that waives the 10% fee for bounty payments and hires Immunefi experts to triage bug reports;\n* Update the terms of the bug bounty program established in [BIP-26](https://arweave.net/GnnM7WxvhttHhIKkjffhOHgAQKR6esbjNzIzlnWS8Y4) for consistency and clarity; and\n* Rotate members on the BIC and add a minimum bounty threshold to the Beanstalk Immunefi Response (BIR) process.\n\n## Links\n\n* [BIP-41 GitHub PR](https://github.com/BeanstalkFarms/Beanstalk/pull/771)\n* [Safe Transaction](https://app.safe.global/transactions/tx?safe=eth:0xa9bA2C40b263843C04d344727b954A545c81D043&id=multisig_0xa9bA2C40b263843C04d344727b954A545c81D043_0xb36d91ebe219bef8e5a4cfcfdefd1de2445b9c84dadf833bc90f4bb8826fc445)\n\n## Introduction\n\nSecurity is paramount to Beanstalk's success. A critical component of security is a post-deployment bug bounty program, which was established with [Immunefi](https://immunefi.com/bounty/beanstalk/) in BIP-26 to incentivize whitehat hackers to report vulnerabilities in Beanstalk (and now, in Pipeline and Basin as well).\n\nThe Beanstalk bug bounty program on Immunefi has been very successful to date, rewarding 1,473,350 Beans to whitehats in total across 11 valid bug reports, 3 of which could have potentially caused significant damage to Beanstalk.\n\nRelevant links:\n* [BIC Dashboard](https://docs.bean.money/almanac/governance/beanstalk/bic-dashboard#beans-minted)\n* [Past bounty payouts](https://snapshot.org/#/beanstalkbugbounty.eth)\n* [Past bug reports](https://community.bean.money/bug-reports)\n\n## Amounts\n\nWe propose a total of 2,500,000 Beans are minted to be allocated towards valid bug reports according to the rules outlined in the bug bounty program. \n\nWe propose that the BCM is no longer authorized to mint Beans per BIRs. Note that BIP-26 authorized the BCM to mint up to 3,000,000 Beans per BIRs, of which 1,610,685 were minted. The remaining 1,389,315 Beans were never minted and are not in circulation.\n\nWe also propose that an additional 37,800 Beans are minted to pay for 1 year of an annual Immunefi subscription that waives the 10% fee on all bounty payments and hires Immunefi experts to triage bug reports. This is a ~34% discount off of their standard offer.\n\n## BIC Process\n\nThe following is a list of proposed changes to the BIC Process:\n\n* Update language to indicate that bug bounty payments are now made via an Immunefi Vault* funded by the BICM, a 4-of-7 Safe with the BIC members as signers;\n* Grant the BIC the ability to execute bug bounty payments under 50,000 Beans without formally voting on a BIR on Snapshot;\n* Grant the BIC the ability to update the Assets in Scope, Impacts in Scope and the Out of Scope Rules sections without requiring a BIP or BOP; and\n* Change the two-thirds majority required by the BIC to execute a bug bounty payment to a majority.\n\n*The [Immunefi Vaults System](https://immunefisupport.zendesk.com/hc/en-us/articles/18233838041745-Vaults-System) is a Safe multisig that increases transparency between projects and whitehats by allowing whitehats to view how much a project has specifically deposited for potential bug bounty reward payments via the Immunefi UI.\n\nThe updated BIC Process can be read [here](https://arweave.net/3vfKSRU72BcSgeC0pH5SHW9UzonLl1NmmMGfnc-8t1o).\n\n## Program Structure\n\nThe following is a list of proposed changes to the Beanstalk Immunefi Bug Bounty Program:\n* Change rewards for High smart contract vulnerabilities from being capped at (1) the lower of 100% of practicable economic damage and 100,000 Beans, to (2) the lower of 10% of practicable economic damage and 100,000 Beans;\n* Remove governance voting result manipulation from Impacts in Scope (as governance voting is currently off-chain); and\n* Remove the requirement to provide code implementing a fix as part of the bug report (in order to encourage swift reporting of vulnerabilities).\n\nThe updated Immunefi Bug Bounty Program can be read [here](https://arweave.net/ddA6z28UiKLkxfAv-VcNPP_fEcjAZs7jII7iZfgMdu0).\n\n## BICM Signers\n\nWe propose the following seven members for the BIC, who also serve as signers on the BICM:\n\n* aloceros (new member)\n* Brean (current member)\n* Chaikitty (new member)\n* deadmanwalking (new member)\n* funderberker (current member)\n* mod323 (current member)\n* pizzaman1337 (current member)\n\nThe following people serve as backups for the BIC, in no particular order:\n* guy\n* MrMochi\n* uncoolzero\n\nRotating members (to a backup member listed here) on the BIC requires a majority vote of the BIC, for which a Snapshot proposal is not necessary.\n\n## Rationale\n\nSecurity is paramount to the success of Beanstalk. This bounty program is competitive with the largest programs currently on Immunefi, making it likely to continue to attract whitehats if well capitalized.\n\nPaying the annual subscription of 37,800 Beans to Immunefi is likely to decrease the amount paid in fees by the DAO through the bug bounty program. For reference, in 2022 the DAO paid 21,035 Beans in fees (the bug bounty program was only live for ~3 months in 2022) and in 2023 the DAO paid 111,000 Beans in fees. Additionally, Immunefi's managed triage service is expect to save significant resources in triaging bug reports that would otherwise be going towards implementing the specifications outlined in [the various RFCs on GitHub](https://github.com/BeanstalkFarms/Beanstalk/issues). The 37,800 Bean amount is a ~34% discount off of their standard annual subscription plan.\n\nWe also propose that an additional 37,800 Beans are minted to pay for 1 year of an annual Immunefi subscription that waives the 10% fee on all bounty payments and hires Immunefi experts to triage bug reports. \n\n\nImmunefi reports that projects that have an Immunefi Vault with significant funds are more likely to receive bug reports because whitehats will be confident that the project has enough funds to pay for bugs.\n\nThe proposed changes to the BIC Process gives the BIC more flexibility in updating the bug bounty program and permits timely payments of small bounty amounts in a swift fashion.\n\nThe proposed changes to the Immunefi Bug Bounty Program further refine what bug reports are considered valid and how the BIC determines practicable economic damage, which improves the bug reporting experience for Immunefi whitehats.\n\n## Contract Changes\n\nNone.\n\n## Beans Minted\n\nThe `init` function on the `InitMint` contract at [0x077495925c17230E5e8951443d547ECdbB4925Bb](https://etherscan.io/address/0x077495925c17230E5e8951443d547ECdbB4925Bb#code) is called.\n\nWe propose a total of 2,537,800 Beans are minted for the Immunefi bug bounty program to the BICM address ([0x879c8B99430F28C4d297BD479Cd43396b4aCF697](https://etherscan.io/address/0x879c8B99430F28C4d297BD479Cd43396b4aCF697)) upon the execution of this BIP.\n\n## Effective\n\nImmediately upon commitment.",
      "protocol": "beanstalkdaoeth",
      "adapter": "snapshot",
      "proposer": "0x47a473Eb2bDfe6599dac638FFFE0D427d8Ad6888",
      "totalVotes": 168,
      "blockNumber": 19258786,
      "externalUrl": "https://snapshot.org/#/beanstalkdao.eth/proposal/0x8f2599d129a01bc5c668698fbcc053f9aca241c6f07e8f3cc117ef203c67276f",
      "startTime": {
        "timestamp": 1708311600
      },
      "endTime": {
        "timestamp": 1708916400
      },
      "startTimestamp": 1708311600,
      "endTimestamp": 1708916400,
      "currentState": "closed",
      "choices": [
        "For",
        "Against",
        "Abstain"
      ],
      "results": [
        {
          "total": 77407330.0,
          "choice": 0
        },
        {
          "total": 1007995.0,
          "choice": 2
        },
        {
          "total": 302321.88,
          "choice": 1
        }
      ],
      "events": [],
      "type": "basic",
      "indexedResult": [
        {
          "total": 77354869.07076004,
          "choice": 0
        },
        {
          "total": 302321.8726151092,
          "choice": 1
        },
        {
          "total": 1007995.0048817788,
          "choice": 2
        }
      ],
      "summary": "",
      "privacy": "",
      "indexedAt": 1708309942086,
      "txHash": "",
      "quorum": 0,
      "flagged": null,
      "executionArgs": "",
      "executables": "",
      "chainId": null
    },
    {
      "refId": "cHJvcG9zYWw6YmVhbnN0YWxrZGFvZXRoOnNuYXBzaG90OjB4MDcxNTdjNGVhY2Y3OTlmMzRkMzQwZGYzN2FiODU0YzhmYzFhOTg2N2RlYzUzYTM2NDg4ZmVmZDRhZWU1OTdkZA==",
      "id": "0x07157c4eacf799f34d340df37ab854c8fc1a9867dec53a36488fefd4aee597dd",
      "title": "BIP-40: Beanstalk Farms 2024 Development Budget",
      "content": "*\"People tend to overestimate what can be done in one year and to underestimate what can be done in five or ten years.\" - J. C. R. Licklider, 1965*\n\n## Proposer\n\nBeanstalk Farms\n\nProposer Wallet: [0xf9d183af486a973b7921ceb5fdc9908d12aab440](https://etherscan.io/verifySig/35848)\n\n## Summary\n \n* Mint 500,000 Beans to fund Beanstalk Farms to retain, grow and support a group of contributors to Beanstalk through the end of H1 2024;\n* Mint 500,000 Beans to fund Beanstalk Farms through the end of H2 2024;\n* Mint 450,000 Beans to the Security Fund (f.k.a. Audit Fund); and\n* Maintain the DAO's ability to withhold Beanstalk Farms' H2 funding after the end of H1 with an appropriate governance structure.\n\n## Links\n\n* [BIP-40 GitHub PR](https://github.com/BeanstalkFarms/Beanstalk/pull/770)\n* [Safe Transaction](https://app.safe.global/transactions/tx?safe=eth:0xa9bA2C40b263843C04d344727b954A545c81D043&id=multisig_0xa9bA2C40b263843C04d344727b954A545c81D043_0xc019e961ae03284bd37dd35422eb3c78d5d15eda2e15e655a33b545eb14bc2d3)\n\n## Introduction\n\nBeanstalk Farms is an independent decentralized development organization of contributors working on Beanstalk. Beanstalk Farms has historically been funded by the Beanstalk DAO and proposed budget BIPs that mint Beans to cover operating expenses and compensate contributors. \n\nThe most recent Beanstalk Farms budget BIP was [BIP-33](https://arweave.net/-iklnExU_oJl3N2Lh0wnnGqeT8cTV0L6d6YOpbn2iKc). Although this budget was originally only intended to cover operations through H1 2023, Beanstalk Farms has been operating on these funds through January 2024 (7 additional months). \n\nBeanstalk Farms has demonstrated an ability to execute with limited resources. However, Beanstalk Farms will be unable to continue development of Beanstalk beyond February 2024 without additional funding. There are a number of open RFCs that various Farmers have indicated a willingness to work on should a new budget be approved by the DAO.\n\nBeanstalk Farms designed the 2024 budget to cover operations through the end of the year to enable contributors to work towards the following goals:\n\n* Decentralized development: continue to develop a diverse organization without any single points of failure or dependence.\n* Focus and flexibility: deliver high quality output in a timely fashion, while maintaining the flexibility to fund and support a wide variety of unique opportunities related to Beanstalk.\n* Attracting high quality talent: continue to attract and retain high quality talent, which is critical to the success of Beanstalk.\n\n## 2023 Spending and Output\n\nBefore the BIP-33 budget was minted on February 9, 2023, the [Beanstalk Farms Multisig](https://docs.bean.money/almanac/governance/beanstalk-farms/bfm-dashboard) (BFM) held 186,694 Beans and 139,012 USDC.\n\nThe H1 2023 Beanstalk Farms budget of 1,350,000 additional Beans and Audit Fund of 500,000 Beans was approved by the DAO to fund protocol development, audits and related initiatives.\n\nAs of February 12, 2024, the remaining Beanstalk Farms budget consists of 36,647 Beans and 28,820 USDC, with 146,537 additional Beans in the Security Fund (f.k.a. Audit Fund).\n\n![image](https://arweave.net/MSA-T4ViAF5rD6E6eJxP1QOoLnL9aDkXVfk6lTyzsp0) \n![image](https://arweave.net/3GX0cKxgJB5sb8UqWT0DsaXN6qVIkQjtCSL7VxhKdHo)\n\nBeanstalk Farms monthly operations reports:\n\n* [October 2023](https://arweave.net/h9tg-x_edfNM4CRizfnt1GHpxEFXifo2Ob6FMIG_zr8)\n* [November 2023](https://arweave.net/slVdiT2k-VUUQ6ql-U4Xb5jlkpLXCYln_DMIpO7AH5c)\n* [December 2023](https://arweave.net/wCwAxnlFF06Z8sA1SDTviydOrkpyZjkfeOHsZgIoRUk)\n* [January 2024](https://arweave.net/Fb86yiA4PkKG8dlZvtPvIAKWdTSeEnJfXmGJbIprlb4)\n\nThe output of Beanstalk Farms since the most recent budget was minted in February 2023 includes (but is not limited to):\n\n*See the full Arweave upload of [BIP-40](https://arweave.net/13Q_AkGjZJpW4vSlautJXkiG3dIC9ulgUzIw8CumJZE#2023-spending-and-output) to read the list of Beanstalk Farms' output since February 2023.*\n\n## Anticipated Use of Funds\n\n#### Security\n\n* Continue coordinating with Immunefi whitehats, the BIC, the BCM and Cyfrin to respond to issues surfaced in bug reports;\n* Design, implement and coordinate an audit of Secure Beanstalk;\n* Set up an audit competition for Beanstalk via Code4rena; and\n* Continue coordinating with Cyfrin on BIP audits.\n\n#### On-chain Development\n\nSee the RFCs on GitHub for a detailed on-chain roadmap:\n* [Seed Gauge System](https://github.com/BeanstalkFarms/Beanstalk/issues/726);\n* [Whitelist BEANwstETH and Migrate to urBEANwstETH](https://github.com/BeanstalkFarms/Beanstalk/issues/731);\n* [BDV Decrease](https://github.com/BeanstalkFarms/Beanstalk/issues/728);\n* [On-Chain Fert Metadata](https://github.com/BeanstalkFarms/Beanstalk/issues/741);\n* [Generalized Convert](https://github.com/BeanstalkFarms/Beanstalk/issues/716); \n* [Tractor](https://github.com/BeanstalkFarms/Beanstalk/issues/734); \n* [Secure Beanstalk](https://github.com/BeanstalkFarms/Beanstalk/issues/729); \n* [Soil Issuance Update](https://github.com/BeanstalkFarms/Beanstalk/issues/739); \n* [Blacklist Mitigation](https://github.com/BeanstalkFarms/Beanstalk/issues/737); and\n* [Generalized Flood](https://github.com/BeanstalkFarms/Beanstalk/issues/740).\n\n#### Middleware\n\n*See the full Arweave upload of [BIP-40](https://arweave.net/13Q_AkGjZJpW4vSlautJXkiG3dIC9ulgUzIw8CumJZE#anticipated-use-of-funds) to read the Middleware section for Anticipated Use of Funds.*\n\n#### Frontend + Design\n\n*See the full Arweave upload of [BIP-40](https://arweave.net/13Q_AkGjZJpW4vSlautJXkiG3dIC9ulgUzIw8CumJZE#anticipated-use-of-funds) to read the Frontend + Design section for Anticipated Use of Funds.*\n\n#### Breakdown\n\n*See the full Arweave upload of [BIP-40](https://arweave.net/13Q_AkGjZJpW4vSlautJXkiG3dIC9ulgUzIw8CumJZE#breakdown) to read the Breakdown section for Anticipated Use of Funds.*\n\n## Budget\n\n#### H1 2024\n\nWe propose a total of 500,000 Beans are minted to fund Beanstalk Farms through the end of H1 2024. Combined with funds unspent at the time of budget proposal, this results in a total available H1 2024 budget of 536,647 Beans and 28,820 USDC. \n\n#### H2 2024\n\nWe also propose a total of 500,000 Beans are minted to fund Beanstalk Farms through the end of H2 2024.\n\nMinting the H2 budget in advance reduces the friction involved in funding Beanstalk Farms and better allow Beanstalk Farms to attract top quality talent. A suitable governance structure will still allow the DAO the opportunity to withhold H2 funding at its discretion—see *Governance*.\n\n#### Projected Spending\n\n![image](https://arweave.net/uNymJ5l0qJwc04x8VSjHRugzCo7A2Eo27ygNT6QYh74)\n\nThe chart above illustrates the proposed use of the H1 and H2 budget.\n\n## Security Fund\n\nWe propose a total of 450,000 Beans are minted to fund the Security Fund. Combined with funds unspent at the time of budget proposal, this results in a total Security Fund of 596,537 Beans.\n\nThe Security Fund will be solely dedicated to funding audits and other security initiatives in the Beanstalk ecosystem. The Security Fund is expected to be used to cover future Cyfrin audits, an audit competition for Beanstalk, etc.\n\nThe Security Fund will be custodied by the BFM. All spending over 25,000 Beans from the Security Fund will require approval through a Beanstalk Farms Budget Proposal (BFBP), and the balance of the Security Fund will be reported in the [Beanstalk Farms Operations Reports](https://github.com/BeanstalkFarms/Beanstalk-Farms-Operations).\n\n## Custody\n\nThe funds for the Beanstalk Farms 2024 budget and the Security Fund will be custodied by the BFM wallet with keys held by various community members. We propose the following signers and backup signers for the BFM:\n\nBFM Signers (all current signers)\n\n* aloceros\n* Brean\n* Cujo\n* guy\n* Michael Montoya\n* mod323\n* sweetredbeans\n\nThe following serve as backup signers for the BFM, in no particular order:\n\n* CanadianBennett\n* MrMochi\n* pizzaman1337\n\n#### Governance\n\n*See the full Arweave upload of [BIP-40](https://arweave.net/13Q_AkGjZJpW4vSlautJXkiG3dIC9ulgUzIw8CumJZE#governance) to read the Governance section.*\n\n## Responsibilities\n\nBeanstalk Farms values all feedback from the DAO. However, due to limited resources, it is not feasible to prioritize every request. Beanstalk Farms prioritizes work that it deems the highest leverage contributions that it can provide to Beanstalk given current bandwidth. If a request is not taken on, Beanstalk Farms may still offer guidance or assistance to help the community address the issue.\n\nBeanstalk Farms contributors (including BFC members) do not have a duty to respond to specific inquiries within a certain time frame. Ultimately, Beanstalk Farms contributors are accountable to the DAO through the selection of BFC members by the DAO in governance.\n\nA member of the BFC (see Rex's BFCP-A) will be expected to host monthly DAO meetings with the community (February thru December 2024). Contributors being paid by Beanstalk Farms are expected to make every effort to attend the DAO meetings regularly and share what they are working on and updates on expected development timelines.\n\n## Contract Changes\n\nNone.\n\n## Beans Minted\n\nThe `init` function on the `InitMint` contract at [0x077495925c17230E5e8951443d547ECdbB4925Bb](https://etherscan.io/address/0x077495925c17230E5e8951443d547ECdbB4925Bb#code) is called.\n\nWe propose a total of 1,450,000 Beans are minted for the budget and the Security Fund to the BFM address ([0x21DE18B6A8f78eDe6D16C50A167f6B222DC08DF7](https://etherscan.io/address/0x21DE18B6A8f78eDe6D16C50A167f6B222DC08DF7)) upon the execution of this BIP.\n\n## Effective\n\nImmediately upon commitment.",
      "protocol": "beanstalkdaoeth",
      "adapter": "snapshot",
      "proposer": "0x47a473Eb2bDfe6599dac638FFFE0D427d8Ad6888",
      "totalVotes": 170,
      "blockNumber": 19258753,
      "externalUrl": "https://snapshot.org/#/beanstalkdao.eth/proposal/0x07157c4eacf799f34d340df37ab854c8fc1a9867dec53a36488fefd4aee597dd",
      "startTime": {
        "timestamp": 1708311600
      },
      "endTime": {
        "timestamp": 1708916400
      },
      "startTimestamp": 1708311600,
      "endTimestamp": 1708916400,
      "currentState": "closed",
      "choices": [
        "For",
        "Against",
        "Abstain"
      ],
      "results": [
        {
          "total": 77073410.0,
          "choice": 0
        },
        {
          "total": 1023543.56,
          "choice": 2
        },
        {
          "total": 1235921.9,
          "choice": 1
        }
      ],
      "events": [],
      "type": "basic",
      "indexedResult": [
        {
          "total": 77019172.5819731,
          "choice": 0
        },
        {
          "total": 1235921.7712794542,
          "choice": 1
        },
        {
          "total": 1023543.573703617,
          "choice": 2
        }
      ],
      "summary": "",
      "privacy": "",
      "indexedAt": 1708309289567,
      "txHash": "",
      "quorum": 0,
      "flagged": null,
      "executionArgs": "",
      "executables": "",
      "chainId": null
    },
    {
      "refId": "cHJvcG9zYWw6YmVhbnN0YWxrZGFvZXRoOnNuYXBzaG90OjB4ODMyMjdkOTVlYzA2MDM5YTkyMDU4M2IxMDAyNTg4ZWZhODlmYTA3OTY5MmQ4YzRhZWJlMDk3YmJjYzJhYWVhOA==",
      "id": "0x83227d95ec06039a920583b1002588efa89fa079692d8c4aebe097bbcc2aaea8",
      "title": "BIP-39: Beanstalk Farms 2024 Development Budget",
      "content": "*\"People tend to overestimate what can be done in one year and to underestimate what can be done in five or ten years.\" - J. C. R. Licklider, 1965*\n\n## Proposer\n\nBeanstalk Farms\n\nProposer Wallet: [0xc5581f1ae61e34391824779d505ca127a4566737](https://etherscan.io/verifySig/34510)\n\n## Summary\n \n* Mint 550,000 Beans to fund Beanstalk Farms to retain, grow and support a group of contributors to Beanstalk through the end of H1 2024;\n* Mint 600,000 Beans to fund Beanstalk Farms through the end of H2 2024;\n* Mint 450,000 Beans to the Security Fund (f.k.a. Audit Fund); and\n* Maintain the DAO's ability to withhold Beanstalk Farms' H2 funding after the end of H1 with an appropriate governance structure.\n\n## Links\n\n* [BIP-39 GitHub PR](https://github.com/BeanstalkFarms/Beanstalk/pull/756)\n* [Safe Transaction](https://app.safe.global/transactions/tx?safe=eth:0xa9bA2C40b263843C04d344727b954A545c81D043&id=multisig_0xa9bA2C40b263843C04d344727b954A545c81D043_0x8751c0d002249c2112444bc6e7f75bef5cd107758e593e177a7ee82845ec93a1)\n\n## Introduction\n\nBeanstalk Farms is an independent decentralized development organization of contributors working on Beanstalk. Beanstalk Farms has historically been funded by the Beanstalk DAO and proposed budget BIPs that mint Beans to cover operating expenses and compensate contributors. \n\nThe most recent Beanstalk Farms budget BIP was [BIP-33](https://arweave.net/-iklnExU_oJl3N2Lh0wnnGqeT8cTV0L6d6YOpbn2iKc). Although this budget was originally only intended to cover operations through H1 2023, Beanstalk Farms has been operating on these funds through January 2024 (7 additional months). \n\nBeanstalk Farms has demonstrated an ability to execute with limited resources. However, Beanstalk Farms will be unable to continue development of Beanstalk beyond February 2024 without additional funding. There are a number of open RFCs that various Farmers have indicated a willingness to work on should a new budget be approved by the DAO.\n\nBeanstalk Farms designed the 2024 budget to cover operations through the end of the year to enable contributors to work towards the following goals:\n\n* Decentralized development: continue to develop a diverse organization without any single points of failure or dependence.\n* Focus and flexibility: deliver high quality output in a timely fashion, while maintaining the flexibility to fund and support a wide variety of unique opportunities related to Beanstalk.\n* Attracting high quality talent: continue to attract and retain high quality talent, which is critical to the success of Beanstalk.\n\n## 2023 Spending and Output\n\nBefore the BIP-33 budget was minted on February 9, 2023, the [Beanstalk Farms Multisig](https://docs.bean.money/almanac/governance/beanstalk-farms/bfm-dashboard) (BFM) held 186,694 Beans and 139,012 USDC.\n\nThe H1 2023 Beanstalk Farms budget of 1,350,000 additional Beans and Audit Fund of 500,000 Beans was approved by the DAO to fund protocol development, audits and related initiatives.\n\nAs of January 16, 2024, the remaining Beanstalk Farms budget consists of 56,236 Beans and 30,820 USDC, with 146,537 additional Beans in the Security Fund (f.k.a. Audit Fund).\n\n![image](https://arweave.net/Ix3QwAmRxIGE_3Pyq1kXqJ-UkDJI6ILAnJtYo7j5TVM)\n![image](https://arweave.net/e8mezbxG9ZdCTJFTTtnfs2TJU2E31BrBCjxBFilCUTY)\n\nBeanstalk Farms monthly operations reports:\n\n* [September 2023](https://arweave.net/WNPpNCrXX2DP6qA-FmRETFprBbFrQvk4ArIzQpP0Sew)\n* [October 2023](https://arweave.net/h9tg-x_edfNM4CRizfnt1GHpxEFXifo2Ob6FMIG_zr8)\n* [November 2023](https://arweave.net/slVdiT2k-VUUQ6ql-U4Xb5jlkpLXCYln_DMIpO7AH5c)\n* [December 2023](https://arweave.net/wCwAxnlFF06Z8sA1SDTviydOrkpyZjkfeOHsZgIoRUk)\n\nThe output of Beanstalk Farms since the most recent budget was minted in February 2023 includes (but is not limited to):\n\n*See the full Arweave upload of [BIP-39](https://arweave.net/F7DR9CRhdraJwAbzJHYdSKnkzxRBcXQou6Q1ffUzVUs#2023-spending-and-output) to read the list of Beanstalk Farms' output since February 2023.*\n\n## Anticipated Use of Funds\n\n#### Security\n\n* Continue coordinating with Immunefi whitehats, the BIC, the BCM and Cyfrin to respond to issues surfaced in bug reports;\n* Retain and propose to integrate Hypernative;\n* Design, implement and coordinate an audit of Secure Beanstalk;\n* Set up an audit competition for Beanstalk via Code4rena; and\n* Continue coordinating with Cyfrin on BIP audits.\n\n#### On-chain Development\n\nSee the RFCs on GitHub for a detailed on-chain roadmap:\n* [Seed Gauge System](https://github.com/BeanstalkFarms/Beanstalk/issues/726);\n* [Whitelist BEANwstETH and Migrate to urBEANwstETH](https://github.com/BeanstalkFarms/Beanstalk/issues/731);\n* [BDV Decrease](https://github.com/BeanstalkFarms/Beanstalk/issues/728);\n* [On-Chain Fert Metadata](https://github.com/BeanstalkFarms/Beanstalk/issues/741);\n* [Generalized Convert](https://github.com/BeanstalkFarms/Beanstalk/issues/716); \n* [Tractor](https://github.com/BeanstalkFarms/Beanstalk/issues/734); \n* [Secure Beanstalk](https://github.com/BeanstalkFarms/Beanstalk/issues/729); \n* [Soil Issuance Update](https://github.com/BeanstalkFarms/Beanstalk/issues/739); \n* [Blacklist Mitigation](https://github.com/BeanstalkFarms/Beanstalk/issues/737); and\n* [Generalized Flood](https://github.com/BeanstalkFarms/Beanstalk/issues/740).\n\n#### Middleware\n\n*See the full Arweave upload of [BIP-39](https://arweave.net/F7DR9CRhdraJwAbzJHYdSKnkzxRBcXQou6Q1ffUzVUs#anticipated-use-of-funds) to read the Middleware section for Anticipated Use of Funds.*\n\n#### Frontend + Design\n\n*See the full Arweave upload of [BIP-39](https://arweave.net/F7DR9CRhdraJwAbzJHYdSKnkzxRBcXQou6Q1ffUzVUs#anticipated-use-of-funds) to read the Frontend + Design section for Anticipated Use of Funds.*\n\n#### Hiring and Retainment\n\n*See the full Arweave upload of [BIP-39](https://arweave.net/F7DR9CRhdraJwAbzJHYdSKnkzxRBcXQou6Q1ffUzVUs#anticipated-use-of-funds) to read the Hiring and Retainment section for Anticipated Use of Funds.*\n\n## Budget\n\n#### H1 2024\n\nWe propose a total of 550,000 Beans are minted to fund Beanstalk Farms through the end of H1 2024. Combined with funds unspent at the time of budget proposal, this results in a total available H1 2024 budget of 606,236 Beans and 30,820 USDC. \n\n#### H2 2024\n\nWe also propose a total of 600,000 Beans are minted to fund Beanstalk Farms through the end of H2 2024.\n\nMinting the H2 budget in advance reduces the friction involved in funding Beanstalk Farms and better allow Beanstalk Farms to attract top quality talent. A suitable governance structure will still allow the DAO the opportunity to withhold H2 funding at its discretion—see *Governance*.\n\n#### Projected Spending\n\n![image](https://arweave.net/yapp_PHug2FvZ_tTlq5Q-L2G_nFYg1vACCZtL9l5Sj8)\n\nThe chart above illustrates the proposed use of the H1 and H2 budget. Beanstalk Farms anticipates spending approximately 100,000 Beans per month.\n\n## Security Fund\n\nWe propose a total of 450,000 Beans are minted to fund the Security Fund. Combined with funds unspent at the time of budget proposal, this results in a total Security Fund of 596,537 Beans.\n\nThe Security Fund will be solely dedicated to funding audits and other security initiatives in the Beanstalk ecosystem. The Security Fund is expected to be used to cover future Cyfrin audits, a Code4rena audit competition for Beanstalk, and a retainer for Hypernative.\n\nThe Security Fund will be custodied by the BFM. All spending over 25,000 Beans from the Security Fund will require approval through a Beanstalk Farms Budget Proposal (BFBP), and the balance of the Security Fund will be reported in the [Beanstalk Farms Operations Reports](https://github.com/BeanstalkFarms/Beanstalk-Farms-Operations).\n\n## Custody\n\nThe funds for the Beanstalk Farms 2024 budget and the Security Fund will be custodied by the BFM wallet with keys held by various community members. We propose the following signers and backup signers for the BFM:\n\nBFM Signers (all current signers)\n\n* aloceros\n* Brean\n* Cujo\n* guy\n* Michael Montoya\n* mod323\n* sweetredbeans\n\nThe following serve as backup signers for the BFM, in no particular order:\n\n* CanadianBennett\n* MrMochi\n* pizzaman1337\n\n## Governance\n\nBeanstalk Farms will continue to utilize the processes for Beanstalk Farms Committee Proposals (BFCPs) per the processes outlined in [BFP-81](https://arweave.net/xw65ZkEw_9PwmNbrHsGsxEdMcbv7r9dG5CusZqdz0So) and amended in [BIP-25](https://arweave.net/O9-WKx4x7cu6YFeeowI5i1IG3kcaxQ1vwtr-hduWQos) and [BIP-35](https://arweave.net/6io_TThM36tFXmaM-AW52xygYKQ2oxUbGA8jydtanMc) (the latest DAO approved processes are documented [here](https://docs.bean.money/almanac/governance/proposals)).\n\nWe propose that the any Farmer can propose a BOP (i.e., a Farmer with at least 0.1% Stalk at the time of proposal) before June 30, 2024 to disallow Beanstalk Farms from using the 600,000 Beans minted for use in H2. This preserves the DAO's ability to withhold funding on a regular cadence, but reduces the friction involved in funding Beanstalk Farms by minting the H2 budget upfront. If such a BOP were proposed and approved by the DAO, Beanstalk Farms will burn the 600,000 Beans minted for H2.\n\n## Responsibilities\n\n*See the full Arweave upload of [BIP-39](https://arweave.net/F7DR9CRhdraJwAbzJHYdSKnkzxRBcXQou6Q1ffUzVUs#responsibilities) to read the Responsibilities section.*\n\n## Contract Changes\n\nNone.\n\n## Beans Minted\n\nThe `init` function on the `InitMint` contract at [0x077495925c17230E5e8951443d547ECdbB4925Bb](https://etherscan.io/address/0x077495925c17230E5e8951443d547ECdbB4925Bb#code) is called.\n\nWe propose a total of 1,600,000 Beans are minted for the budget and the Security Fund to the BFM address ([0x21DE18B6A8f78eDe6D16C50A167f6B222DC08DF7](https://etherscan.io/address/0x21DE18B6A8f78eDe6D16C50A167f6B222DC08DF7)) upon the execution of BIP-33.\n\n## Effective\n\nImmediately upon commitment.",
      "protocol": "beanstalkdaoeth",
      "adapter": "snapshot",
      "proposer": "0x47a473Eb2bDfe6599dac638FFFE0D427d8Ad6888",
      "totalVotes": 79,
      "blockNumber": 19130672,
      "externalUrl": "https://snapshot.org/#/beanstalkdao.eth/proposal/0x83227d95ec06039a920583b1002588efa89fa079692d8c4aebe097bbcc2aaea8",
      "startTime": {
        "timestamp": 1706760000
      },
      "endTime": {
        "timestamp": 1707364800
      },
      "startTimestamp": 1706760000,
      "endTimestamp": 1707364800,
      "currentState": "closed",
      "choices": [
        "For",
        "Abstain",
        "Against"
      ],
      "results": [
        {
          "total": 31958590.0,
          "choice": 0
        },
        {
          "total": 2267095.5,
          "choice": 2
        },
        {
          "total": 121309.85,
          "choice": 1
        }
      ],
      "events": [],
      "type": "single-choice",
      "indexedResult": [
        {
          "total": 31958588.580348227,
          "choice": 0
        },
        {
          "total": 121309.8517570961,
          "choice": 1
        },
        {
          "total": 2267095.562371525,
          "choice": 2
        }
      ],
      "summary": "",
      "privacy": "",
      "indexedAt": 1706755325354,
      "txHash": "",
      "quorum": 0,
      "flagged": null,
      "executionArgs": "",
      "executables": "",
      "chainId": null
    },
    {
      "refId": "cHJvcG9zYWw6YmVhbnN0YWxrZGFvZXRoOnNuYXBzaG90OjB4N2YyNmJmZGE2NGU1YjlmNjFhMTliZWE4NDhlZjRiZGI2NDRjOGNmYzI3YWQ0N2I0N2JjM2RjZTkyOGM3Yjg4OA==",
      "id": "0x7f26bfda64e5b9f61a19bea848ef4bdb644c8cfc27ad47b47bc3dce928c7b888",
      "title": "BOP-4: Formalize BFC Reporting",
      "content": "## Proposer \n\nRex (rexthebean.eth)\n\nProposer Wallet: [0xfec2248956179bf6965865440328d73bac4eb6d2](https://etherscan.io/verifySig/30569)\n\n## Summary\n\nFormalize reporting responsibilities for the BFC:\n\n- Written updates - To be published in the Announcements channel on the first and third Mondays of every month by 8:00 PM UTC\n- Monthly update calls - To be held within six hours of the publication of the first weekly update each month\n\nHold similar reporting requirements for any group receiving development funds from the Beanstalk DAO\n\n## Rationale\n\nThe Beanstalk DAO relies on information from Beanstalk Farms (BF) and other developers for an understanding of objectives, approaches, and progress. While it’s understood that BF is currently working under a budget that was approved in February of 2023 (via BIP-33) and that a BF development budgets may not be necessary (reducing the need for accountability related to that group), BF remains an integral part of protocol development. Furthermore, the BFC is in the best position to consolidate and communicate information about BF activity.\n\n## Proposed Solution\n\nUpdate BFC Responsibilities to include written updates and monthly update calls.\n\nWritten updates will be posted in the Announcements channel of the Beanstalk server on the first and third Mondays of every month by 8:00 PM UTC and will include (but need not be limited to):\n\n_Major Projects_\n- Name and short description \n- Recent developments (past two weeks)\n- Next steps (current and coming week)\n- Percentage completion (10% increments) and confidence level in that percentage (P10/P50/P90)\n\n_Ongoing Operational and Maintenance Efforts_\n- Tasks completed over the past two weeks (anything that has taken more than two hours of working time during the period)\n- Tasks for the current and coming week that will likely take more than two hours of that period\n\n_Projects Under Consideration_\n- Project description \n- Potential benefit of the project \n- Potential resource necessary for completion \n- Level of consideration (e.g., Gathering Information, Under Review, In Preparation, etc.)\n\nMonthly update calls will include (but need not be limited to):\n- A summary of completed project work from the prior month \n- A summary of anticipated project work for the current month \n- A summary of projects under consideration \n- A period for questions and answers from attendees\n\nMonthly update calls will be recorded and made available to the Beanstalk DAO via Discord within 24 hours of completion.\n\nAll updates must be performed by a member of the BFC or their appointed representative(s). Failure to deliver updates (written or calls) on more than three occasions in a calendar year will result in the immediate dismissal of all sitting members of the BFC and trigger nominations for new members.\n\nSimilarly, any future group performing developer tasks (e.g., implementing new features, performing operational and maintenance tasks, etc.) using funds provided by the Beanstalk DAO must perform similar updates during the term of their agreement or face consequences up to and including immediate termination and forfeiture of future payment.\n\n## Beans Minted\n\nNone.\n\n## Effective\n\nUpon passage.",
      "protocol": "beanstalkdaoeth",
      "adapter": "snapshot",
      "proposer": "0x47a473Eb2bDfe6599dac638FFFE0D427d8Ad6888",
      "totalVotes": 49,
      "blockNumber": 18714019,
      "externalUrl": "https://snapshot.org/#/beanstalkdao.eth/proposal/0x7f26bfda64e5b9f61a19bea848ef4bdb644c8cfc27ad47b47bc3dce928c7b888",
      "startTime": {
        "timestamp": 1701709200
      },
      "endTime": {
        "timestamp": 1702314000
      },
      "startTimestamp": 1701709200,
      "endTimestamp": 1702314000,
      "currentState": "closed",
      "choices": [
        "For",
        "Against"
      ],
      "results": [
        {
          "total": 13746765.0,
          "choice": 0
        }
      ],
      "events": [],
      "type": "basic",
      "indexedResult": [
        {
          "total": 12641518.471590612,
          "choice": 0
        },
        {
          "total": 0.0,
          "choice": 1
        }
      ],
      "summary": "",
      "privacy": "",
      "indexedAt": 1701705725348,
      "txHash": "",
      "quorum": 0,
      "flagged": null,
      "executionArgs": "",
      "executables": "",
      "chainId": null
    },
    {
      "refId": "cHJvcG9zYWw6YmVhbnN0YWxrZGFvZXRoOnNuYXBzaG90OjB4MTNjMWJlNTUxYTNiOTYxOTNhYjk2MTQ4MTRhODg1MzUxNTIyMjg1MjBhMWVlN2JiMjdkYjg0YWEzNTQxM2QyZg==",
      "id": "0x13c1be551a3b96193ab9614814a88535152228520a1ee7bb27db84aa35413d2f",
      "title": "BIP-38: Migrate urBEAN3CRV to urBEANETH",
      "content": "## Proposer\n\nBeanstalk Farms, Brendan Sanderson, Ben Weintraub\n\nProposer Wallet: [0x87c5e5413d60e1419fd70b17c6d299aa107efb49](https://etherscan.io/verifySig/25830)\n\n## Summary\n\n* Migrate the BEAN:3CRV LP tokens (BEAN3CRV) that underly the Unripe BEAN:3CRV LP token (urBEAN3CRV) to BEAN:ETH Well LP tokens (BEANETH);\n* Migrate the corresponding Unripe liquidity from the BEAN3CRV pool to the BEANETH Well; and\n* Implement the first step in a two step process to track Deposited BDV that has not migrated to Silo V3.\n\n## Links\n\n* [BIP-38 GitHub PR](https://github.com/BeanstalkFarms/Beanstalk/pull/655)\n* GitHub Commit Hash: [76066733bcddb944b9af8f29acf150c02a5b8437](https://github.com/BeanstalkFarms/Beanstalk/tree/76066733bcddb944b9af8f29acf150c02a5b8437)\n* [Safe Transaction](https://app.safe.global/transactions/tx?safe=eth:0xa9bA2C40b263843C04d344727b954A545c81D043&id=multisig_0xa9bA2C40b263843C04d344727b954A545c81D043_0xb66de1705121f0045f25be2f9214e3d60624d4cd3917f20c39bf8d3df583f9e7)\n\n## Problem\n\nAs of writing, over 98% of liquidity for Beans is currently in the BEAN3CRV pool.\n\nBEAN3CRV:\n* Is exposed to the centralization risks of USDC, USDT and DAI.\n* Uses an oracle that is not resistant to inter-block MEV manipulation; and\n* Is subject to unnecessary trading fees that negatively affect peg maintenance.\n\nBeanstalk currently does not support multiple Unripe LP tokens.\n\nBDV that has not been migrated to Silo V3 is not included in `s.siloBalances[token].depositedBdv`. For Beanstalk to support a Grown Stalk Gauge System, it is necessary to track the total Deposited BDV for each whitelisted token.\n\n## Proposed Solution\n\n### Migration Process\n\nMigrate the BEAN3CRV LP tokens that underly the urBEAN3CRV token to BEANETH Well LP tokens. In doing so, the liquidity underlying urBEAN3CRV is migrated to the BEANETH Well and the urBEAN3CRV token becomes the urBEANETH token (albeit, with the same token address). \n\nPerform the following actions by the Beanstalk Community Multisig (BCM):\n\n| Transaction # | Protocol  | Description                                                                                  | \n|:--------------|:----------|:---------------------------------------------------------------------------------------------|\n| 1             | Beanstalk | Execute BIP-38 Diamond Cut and transfer underlying BEAN3CRV to the BCM                       | \n| 2             | Curve     | Remove BEAN3CRV liquidity as Bean, USDC, USDT and DAI proportionate to the ratio of the pool | \n| 3a            | CoW Swap  | Upgrade Safe to support CoW Swap TWAP + swap USDC into ETH using TWAP order                  | \n| 3b            | CoW Swap  | Swap USDT into ETH using TWAP order                                                          | \n| 3c            | CoW Swap  | Swap DAI into ETH using TWAP order                                                           | \n| 4             | Basin     | Add Beans from Step (2) and ETH from Step (3) as liquidity to the BEANETH Well               | \n| 5             | Beanstalk | Add BEANETH LP as underlying token for the new urBEANETH                                     | \n\nIn order to minimize the risk of the swap being frontrun (for example, immediately after the passage of the BIP), authorize the BCM to begin the migration process at any point within 30 days of the passage of this BIP.\n\nDuring the migration process, attempts to Deposit, Convert or Chop Unripe assets will revert. After the migration process is complete, Conversions between urBEAN and urBEANETH will Convert in/out of the BEANETH Well instead of the BEAN3CRV pool.\n\nThe cost of slippage during Step (3) is passed onto the Unripe LP holders.\n\n`addMigratedUnderlying` is added to the Unripe Facet to migrate the underlying token of an Unripe token to a new token.\n\nDue to the multi-step nature of this BIP, BCM Signers are only expected to submit Etherscan verified messages for the initial Diamond Cut transaction.\n\n### Fertilizer Changes\n\nUpgrade the Barn to add liquidity to the BEANETH Well instead of the BEAN3CRV pool upon each Fertilizer purchase.\n\nAs a result:\n* Fertilizer is bought with WETH instead of USDC;\n* The amount of Fertilizer received after purchase and increase in amount recapitalized is equal to the value of the WETH in USDC at the time of purchase;\n* The `mintFertilizer` function contains a `minFertilizerOut` parameter to protect against substantial movement in the ETH price; and\n* The `addFertilizerOwner` function is removed.\n\n### Silo V3 Unmigrated BDV\n\nA two step process is required to start properly tracking the total Deposited BDV of each whitelisted token. Implement the first step by adding a counter (`s.migratedBdvs`) that tracks the amount of BDV that has been migrated to Silo V3 for each token.\n\nIn the second step, the total Deposited BDV for each token is incremented by the remaining unmigrated BDV at the BIP-38 commitment block subtracted by the BDV that has been migrated since that block as stored on-chain. This second step must be implemented in a future BIP.\n\n## Technical Rationale\n\nGiven that the migration process cannot be executed atomically and Unripe asset functionality will be in a broken state during it, attempts to Deposit, Convert or Chop Unripe assets during the migration process will revert. \n\nThe Unripe Facet must be updated to add support for migrating the Unripe LP token to a new underlying asset.\n\nThe `mintFertilizer` function must be updated to include the `minFertilizerOut` parameter to account for potential movement in the ETH price between transaction submission and execution. The `addFertilizerOwner` function is removed given that it would need to be updated to reflect the migration to urBEANETH, however it was only expected to be called once during the Replant.\n\nThe Convert Facet and Convert Getters Facet must be updated due to function changes in `LibUnripeConvert.sol` and `LibWellConvert.sol`.\n\nThe Metadata Facet must be updated in order to update the ERC-1155 metadata for urBEANETH Deposits.\n\nThe BDV Facet must be updated due to `unripeLPToBDV` being changed to reflect the migration to BEANETH.\n\nThe Migration Facet must be updated due to the introduction of the migrated BDV counter.\n\n## Economic Rationale\n\nBeans primarily trade against 3CRV which is a significant centralization vector for Beanstalk. Ether is the most decentralized, censorship resistant and liquid asset on the Ethereum network.\n\nFor as long as most liquidity for Beans is in the BEAN3CRV pool, Beanstalk is still subject to inter-block MEV manipulation. The Multi Flow Pump on the BEANETH Well is the first Ethereum-native oracle for Ethereum-native data that offers inter-block MEV manipulation resistance in a post-Merge environment.\n\nFor as long as most volume for Beans is in the BEAN3CRV pool, most trades with Beans are still subject to an unnecessary trading fee in the pool, which results in worse prices for Farmers and worse peg maintenance for Beanstalk. The Constant Product 2 Well Function used by the BEANETH Well has no trading fee.\n\nThe price of 3CRV is dependent on the worst of the prices of USDC, USDT and DAI. ETH is not subject to the same risk.\n\n## Contract Changes\n\n### Initialization Contract\n\nThe `init` function on the following `InitMigrateUnripeBean3CrvToBeanEth` contract is called:\n\n- [`0x810468cbC28ecb522C10cB53FEC9e387F1ebc84D`](https://etherscan.io/address/0x810468cbC28ecb522C10cB53FEC9e387F1ebc84D#code)\n\n### Unripe Facet\n\nThe following `UnripeFacet` is removed from Beanstalk:\n\n- [`0x261b3ae660504537fbfe15b6c1c664976344eb0a`](https://etherscan.io/address/0x261b3ae660504537fbfe15b6c1c664976344eb0a#code)\n\nThe following `UnripeFacet` is added to Beanstalk:\n\n- [`0xAa8c44D0B89864b467C3776a7Dd367ff2aB6992A`](https://etherscan.io/address/0xAa8c44D0B89864b467C3776a7Dd367ff2aB6992A#code)\n\n#### `UnripeFacet` Function Changes\n\n| Name                           | Selector     | Action  | Type | New Functionality |\n|:-------------------------------|:-------------|:--------|:-----|:------------------|\n| `_getPenalizedUnderlying`      | `0xa84643e4` | Replace | View |                   |\n| `balanceOfPenalizedUnderlying` | `0x1acc0a47` | Replace | View |                   |\n| `balanceOfUnderlying`          | `0x1acc0a47` | Replace | View |                   |\n| `getPenalizedUnderlying`       | `0x6de45df2` | Replace | View |                   |\n| `getPenalty`                   | `0x014a8a49` | Replace | View |                   |\n| `getPercentPenalty`            | `0xbb7de478` | Replace | View |                   |\n| `getRecapFundedPercent`        | `0x43cc4ee0` | Replace | View |                   |\n| `getRecapPaidPercent`          | `0xab434eb7` | Replace | View |                   |\n| `getTotalUnderlying`           | `0xadef4533` | Replace | View |                   |\n| `getUnderlying`                | `0x9f06b3fa` | Replace | View |                   |\n| `getUnderlyingPerUnripeToken`  | `0xb8a04d1b` | Replace | View |                   |\n| `getUnderlyingToken`           | `0x691bcc88` | Replace | View |                   |\n| `isUnripe`                     | `0xfc6a19df` | Replace | View |                   |\n| `picked`                       | `0xd3c73ec8` | Replace | View |                   |\n| `addMigratedUnderlying`        | `0x787cee99` | Add     | Call | ✓                 |\n| `addUnripeToken`               | `0xfa345569` | Replace | Call |                   |\n| `chop`                         | `0x9a516cad` | Replace | Call | ✓                 |\n| `pick`                         | `0x13ed3cea` | Replace | Call |                   |\n| `switchUnderlyingToken`        | `0xa33fa99f` | Add     | Call | ✓                 |\n\n### Fertilizer Facet\n\nThe following `FertilizerFacet` is removed from Beanstalk:\n\n- [`0xFC7Ed192a24FaB3093c8747c3DDBe6Cacd335B6C`](https://etherscan.io/address/0xFC7Ed192a24FaB3093c8747c3DDBe6Cacd335B6C#code)\n\nThe following `FertilizerFacet` is added to Beanstalk:\n\n- [`0x3FA7ECcfbFDF4407932D2318401d20464189C5F1`](https://etherscan.io/address/0x3FA7ECcfbFDF4407932D2318401d20464189C5F1#code)\n\n#### `FertilizerFacet` Function Changes\n\n| Name                        | Selector     | Action  | Type | New Functionality |\n|:----------------------------|:-------------|:--------|:-----|:------------------|\n| `balanceOfBatchFertilizer`  | `0x304ec65d` | Replace | View |                   |\n| `balanceOfFertilized`       | `0xb6f42085` | Replace | View |                   |\n| `balanceOfFertilizer`       | `0x1799b3b2` | Replace | View |                   |\n| `balanceOfUnfertilized`     | `0x1edb6be1` | Replace | View |                   |\n| `beansPerFertilizer`        | `0x9bb4e35a` | Replace | View |                   |\n| `getActiveFertilizer`       | `0xdc6ba285` | Replace | View |                   |\n| `getCurrentHumidity`        | `0x39448802` | Replace | View |                   |\n| `getEndBpf`                 | `0xc85951a1` | Replace | View |                   |\n| `getFertilizer`             | `0x9c45a1d5` | Replace | View |                   |\n| `getFertilizers`            | `0x34af5416` | Replace | View |                   |\n| `getFirst`                  | `0x1e223143` | Replace | View |                   |\n| `getHumidity`               | `0x29130a66` | Replace | View |                   |\n| `getLast`                   | `0x4d622831` | Replace | View |                   |\n| `getMintFertilizerOut`      | `0x69744dd0` | Add     | View | ✓                 |\n| `getNext`                   | `0xf4a057e2` | Replace | View |                   |\n| `isFertilizing`             | `0x6ae1c014` | Replace | View |                   |\n| `remainingRecapitalization` | `0x4a16607c` | Replace | View |                   |\n| `totalFertilizedBeans`      | `0x4f9a9678` | Replace | View |                   |\n| `totalFertilizerBeans`      | `0xf9c4ebde` | Replace | View |                   |\n| `totalUnfertilizedBeans`    | `0xa3ef48c9` | Replace | View |                   |\n| `addFertilizerOwner`        | `0x8cd31ca0` | Remove  | Call |                   |\n| `claimFertilized`           | `0x83e08888` | Replace | Call |                   |\n| `mintFertilizer`            | `0x0bfca7e3` | Remove  | Call |                   |\n| `mintFertilizer`            | `0xbb02e10b` | Add     | Call | ✓                 |\n| `payFertilizer`             | `0xd47aee59` | Replace | Call |                   |\n\n### Convert Facet\n\nThe following `ConvertFacet` is removed from Beanstalk:\n\n- [`0xC2f8F1412d10E4DC79D34a46ab1d3d862517f939`](https://etherscan.io/address/0xC2f8F1412d10E4DC79D34a46ab1d3d862517f939#code)\n\nThe following `ConvertFacet` is added to Beanstalk:\n\n- [`0xDc6B4ef6bA55706B19Bd389eA446d232eFb4E5D4`](https://etherscan.io/address/0xDc6B4ef6bA55706B19Bd389eA446d232eFb4E5D4#code)\n\n#### `ConvertFacet` Function Changes\n\n| Name                  | Selector     | Action   | Type | New Functionality |\n|:----------------------|:-------------|:---------|:-----|:------------------|\n| `convert`             | `0xb362a6e8` | Replace  | Call |                   |\n\n### Convert Getters Facet\n\nThe following `ConvertGettersFacet` is removed from Beanstalk:\n\n- [`0x912f505ecD6536733da22BB4349595aA36806918`](https://etherscan.io/address/0x912f505ecD6536733da22BB4349595aA36806918#code)\n\nThe following `ConvertGettersFacet` is added to Beanstalk:\n\n- [`0x789e37096Fb0abbD4f64A86B51D720b371853a70`](https://etherscan.io/address/0x789e37096Fb0abbD4f64A86B51D720b371853a70#code)\n\n#### `ConvertGettersFacet` Function Changes\n\n| Name                  | Selector     | Action   | Type | New Functionality |\n|:----------------------|:-------------|:---------|:-----|:------------------|\n| `getAmountOut`        | `0x4aa06652` | Replace  | View |                   |\n| `getMaxAmountIn`      | `0x24dd285c` | Replace  | View |                   |\n\n### Metadata Facet\n\nThe following `MetadataFacet` is removed from Beanstalk:\n\n- [`0x5e6991aFa1352822e769c873200954B4dE6c6E48`](https://etherscan.io/address/0x5e6991aFa1352822e769c873200954B4dE6c6E48#code)\n\nThe following `MetadataFacet` is added to Beanstalk:\n\n- [`0x8aD8dfC3303469A8c2d14763199a99363bF580cc`](https://etherscan.io/address/0x8aD8dfC3303469A8c2d14763199a99363bF580cc#code)\n\n#### `MetadataFacet` Function Changes\n\n| Name                   | Selector     | Action  | Type | New Functionality |\n|:-----------------------|:-------------|:--------|:-----|:------------------|\n| `imageURI`             | `0xc20b8071` | Replace | View |                   |\n| `name`                 | `0x06fdde03` | Replace | View |                   |\n| `symbol`               | `0x95d89b41` | Replace | View |                   |\n| `uri`                  | `0x0e89341c` | Replace | View |                   |\n\n### BDV Facet\n\nThe following `BDVFacet` is removed from Beanstalk:\n\n- [`0x9Cb54A8eAcD4d295dd02833cd2bdD385173c7fF5`](https://etherscan.io/address/0x9Cb54A8eAcD4d295dd02833cd2bdD385173c7fF5#code)\n\nThe following `BDVFacet` is added to Beanstalk:\n\n- [`0xC1Bbee46EcB6445B176F7f172F91976ADF4e21D9`](https://etherscan.io/address/0xC1Bbee46EcB6445B176F7f172F91976ADF4e21D9#code)\n\n#### `BDVFacet` Function Changes\n\n| Name                   | Selector     | Action  | Type | New Functionality |\n|:-----------------------|:-------------|:--------|:-----|:------------------|\n| `beanToBDV`            | `0x5a049a47` | Replace | View |                   |\n| `curveToBDV`           | `0xf984019b` | Replace | View |                   |\n| `unripeBeanToBDV`      | `0xc8cda2a0` | Replace | View |                   |\n| `unripeLPToBDV`        | `0xb0c22bb1` | Replace | View | ✓                 |\n| `wellBdv`              | `0xc84c7727` | Replace | View |                   |\n\n### Migration Facet\n\nThe following `MigrationFacet` is removed from Beanstalk:\n\n- [`0x141209527f95540e0b018e56edf5a59e1339437f`](https://etherscan.io/address/0x141209527f95540e0b018e56edf5a59e1339437f#code)\n\nThe following `MigrationFacet` is added to Beanstalk:\n\n- [`0x9F2444e6cFAAB6ea16Fc05B989f1017508F84A41`](https://etherscan.io/address/0x9F2444e6cFAAB6ea16Fc05B989f1017508F84A41#code)\n\n#### `MigrationFacet` Function Changes\n\n| Name                                     | Selector     | Action  | Type | New Functionality |\n|:-----------------------------------------|:-------------|:--------|:-----|:------------------|\n| `balanceOfGrownStalkUpToStemsDeployment` | `0x505f43ea` | Replace | View |                   |\n| `balanceOfLegacySeeds`                   | `0x1be2cfd8` | Replace | View |                   |\n| `getDepositLegacy`                       | `0xa9be1acb` | Replace | View |                   |\n| `mowAndMigrate`                          | `0x1f4f3d55` | Replace | Call |                   |\n| `mowAndMigrateNoDeposits`                | `0xaed942e9` | Replace | Call |                   |\n| `totalMigratedBdv`                       | `0x2b8cde0d` | Add     | View | ✓                 |\n\n### Event Changes\n\n| Name                      | Change                                            |\n|:--------------------------|:--------------------------------------------------|\n| `SwitchUnderlyingToken`   | New event                                         |\n\n## Beans Minted \n\nNone.\n\n## Audit\n\nThe commit hash of this BIP is [76066733bcddb944b9af8f29acf150c02a5b8437](https://github.com/BeanstalkFarms/Beanstalk/tree/76066733bcddb944b9af8f29acf150c02a5b8437).\n\nCyfrin has performed an audit of commit hash [12c608a22535e3a1fe379db1153185fe43851ea7](https://github.com/BeanstalkFarms/Beanstalk/tree/12c608a22535e3a1fe379db1153185fe43851ea7) and then reviewed remediations included in commit hash [76066733bcddb944b9af8f29acf150c02a5b8437](https://github.com/BeanstalkFarms/Beanstalk/tree/76066733bcddb944b9af8f29acf150c02a5b8437). \n\nThe final audit report can be found [here](https://arweave.net/PxEMjx4knNBHZigPvQ9DFjJzvtqv_8yfEBbCo_wL5fU). \n\n## Effective\n\nNo upgrades are necessarily executed by the BCM immediately upon the passage of this BIP.\n\nThe BCM has up to 30 days after the passage of this BIP to start the migration outlined in *Migration Process*.",
      "protocol": "beanstalkdaoeth",
      "adapter": "snapshot",
      "proposer": "0x47a473Eb2bDfe6599dac638FFFE0D427d8Ad6888",
      "totalVotes": 181,
      "blockNumber": 18342309,
      "externalUrl": "https://snapshot.org/#/beanstalkdao.eth/proposal/0x13c1be551a3b96193ab9614814a88535152228520a1ee7bb27db84aa35413d2f",
      "startTime": {
        "timestamp": 1697212800
      },
      "endTime": {
        "timestamp": 1697817600
      },
      "startTimestamp": 1697212800,
      "endTimestamp": 1697817600,
      "currentState": "closed",
      "choices": [
        "For",
        "Against",
        "Abstain"
      ],
      "results": [
        {
          "total": 68689576.0,
          "choice": 0
        },
        {
          "total": 0.686999,
          "choice": 2
        },
        {
          "total": 815465.44,
          "choice": 1
        }
      ],
      "events": [],
      "type": "basic",
      "indexedResult": [
        {
          "total": 68689582.05106618,
          "choice": 0
        },
        {
          "total": 815465.4493736969,
          "choice": 1
        },
        {
          "total": 0.686999,
          "choice": 2
        }
      ],
      "summary": "",
      "privacy": "",
      "indexedAt": 1697210516738,
      "txHash": "",
      "quorum": 0,
      "flagged": null,
      "executionArgs": "",
      "executables": "",
      "chainId": null
    },
    {
      "refId": "cHJvcG9zYWw6YmVhbnN0YWxrZGFvZXRoOnNuYXBzaG90OjB4OThmYmYwZTlhM2ZlMzA1NDY3OWZlZmI1NDRmZDU3Y2Q0ZGYxZjg1YjAzZWRlZWNkMWEwNmNjZWZkZDRkMWRlZg==",
      "id": "0x98fbf0e9a3fe3054679fefb544fd57cd4df1f85b03edeecd1a06ccefdd4d1def",
      "title": "BIP-37: Basin Integration",
      "content": "## Proposer\n\nBrendan Sanderson, Ben Weintraub, Beanstalk Farms\n\nProposer Wallet: [0xf9d183af486a973b7921ceb5fdc9908d12aab440](https://etherscan.io/verifySig/22706)\n\n## Summary\n\n* Provide infrastructure for any Well LP token from the [Basin DEX](https://basin.exchange/basin.pdf) to be integrated into Beanstalk;\n* Add the BEAN:ETH Constant Product Well LP token (BEANETH) to the Deposit Whitelist with 1 Stalk per BDV and 4.5 Seeds per BDV;\n    * Support Conversions from Beans to BEANETH above peg and vice versa below peg; and\n    * Add the BEANETH Well to the Oracle Whitelist;\n* Change the Bean and BEAN:3CRV Curve LP token (BEAN3CRV) Seeds per BDV to 3 Seeds and 3.25 Seeds, respectively;\n* Add view functions for getting account level BDV and last Mowed Stems to the Silo;\n* Upgrade the Depot Facet to use [Pipeline v1.0.1](https://github.com/BeanstalkFarms/Pipeline#v101-current);\n* Use the BEANETH Well to calculate the award for successfully calling the `gm` function;\n* Update the Flood implementation to reflect the removal of the Withdrawal Freeze;\n* Update the [Beanstalk DAO Disclosures](https://bean.money/disclosures) to reflect the state of Beanstalk and its risks; and\n* Update the list of Beanstalk Farms Multisig (BFM) signers and Beanstalk Immunefi Committee (BIC) members.\n\n## Links\n\n* [BIP-37 GitHub PR](https://github.com/BeanstalkFarms/Beanstalk/pull/378)\n* GitHub Commit Hash: [76a188233917afc1db103ca64b02dab8c5280b35](https://github.com/BeanstalkFarms/Beanstalk/tree/76a188233917afc1db103ca64b02dab8c5280b35)\n* [Safe Transaction](https://app.safe.global/transactions/tx?safe=eth:0xa9bA2C40b263843C04d344727b954A545c81D043&id=multisig_0xa9bA2C40b263843C04d344727b954A545c81D043_0x7ac542c48b5e020bc5c26667651861a4542d49150b4be3a2f8b4e011b7feb5db)\n\n## Problem\n\n### Basin Integration\n\nBasin is a composable EVM-native decentralized exchange protocol. Currently there is no generalized way for [Wells](https://basin.exchange/basin.pdf#subsection.3.1) (pools of the Basin DEX) to be easily integrated into the Silo (*i.e.*, the Deposit, Convert and Oracle Whitelists).\n\n### Whitelist BEANETH\n\nCurrently Beans only trade against 3CRV, which is a significant centralization vector for Beanstalk. Additionally, the BEAN:3CRV pool, which is currently the sole oracle for calculating the Bean price, is not multi-block MEV manipulation resistant.\n\n### Seeds per BDV Changes\n\nThe Seeds per BDV of Bean and BEAN3CRV can be optimized given (1) the new option for providing Bean liquidity via the BEANETH Well and (2) that Unripe Depositors had accumulated Grown Stalk for about a year from Replant to the commitment of Silo V3. As a result of (2), the average Grown Stalk per BDV is excessively high for older Deposits, compared to newer ones.\n\n### Silo V3 Getters\n\nCurrently there is no way to get the total Deposited BDV or the last Mowed Stems for a particular Farmer.\n\n### Pipeline Upgrade \n\nPipeline v1.0.0 is unable to receive transfers of Ether, which makes it difficult to unwrap WETH as a part of a Pipeline function call. Pipeline v1.0.1 fixes this issue, but currently the Depot Facet uses Pipeline v1.0.0. \n\n### `gm` Incentive Reward Oracle\n\nCurrently Beanstalk uses the ratio between the USDC:ETH Uniswap V3 and BEAN:3CRV Curve pools to calculate the cost of executing the `gm` function in Beans. Both pools are subject to multi-block MEV manipulation and calculating the ratio between two pools is gas-inefficient. \n\n### Flood Update\n\nCurrently the implementation of Flood is not functional after the removal of the Withdrawal Freeze in [BIP-36](https://arweave.net/Zj-OCFwtOxRewDN1RK3tELz_0xyjjBKisL1arwJ3klk).\n\n### Disclosures\n\nThe Beanstalk DAO Disclosures can be updated to reflect the current state of Beanstalk and its risks.\n\n## Proposed Solution\n\n### Basin Integration\n\nProvide the infrastructure for any Well LP token to be integrated into Beanstalk:\n* Add a Well LP token BDV function (`wellBdv`) that permits any Well LP token to be added to the Deposit Whitelist. Implemented in `BDVFacet` and `LibWellBdv`.\n* Upgrade the Deposit Whitelist to include an `encodeType`, which allows for BDV functions with different function signatures to be properly encoded. Currently, `function(uint256)` (`encodeType` = 0) and `function(address, uint256)` (`encodeType` = 1) are supported. The generalized Well BDV function uses `encodeType = 1`.\n* Add the `convertLPToBeans` and `convertBeansToLP` functions to Convert to peg from Beans to any whitelisted Well LP token and vice versa in `LibWellConvert`. Also, add the `BEANS_TO_WELL_LP` and `WELL_LP_TO_BEANS`  Convert types to access the new Convert methods.\n* Add a generalized Well minting oracle to capture the time weighted average deltaB in a Well containing Beans in `LibWellMinting`.\n\nMove `enrootDeposit(s)` from `ConvertFacet` to a separate `EnrootFacet`.\n\nSplit up `ConvertFacet` into `ConvertFacet` and `ConvertGettersFacet`.\n\n### Whitelist BEANETH\n\nAdd BEANETH to the Deposit Whitelist with 1 Stalk per BDV and 4.5 Seeds per BDV. Also, support Conversions from Beans to BEANETH above peg and from BEANETH to Beans below peg.\n\nIn order for Beanstalk to calculate deltaB in the BEANETH Well, it must compare the manipulation resistant BEAN:ETH price in the Well with a manipulation resistant ETH:USD price.\n\nPumps are the generalized oracle component of Basin. [Multi Flow](https://basin.exchange/multi-flow-pump.pdf) is the Pump that is attached to the BEANETH Well and provides a multi-block MEV manipulation resistant BEAN:ETH price.\n\n`LibEthUsdOracle` contains functionalty to fetch a manipulation resistant ETH:USD price. `LibEthUsdOracle` uses a greedy algorithm to return a gas efficient average price of (1) the current price returned by the ETH/USD Chainlink data feed and (2) either the ETH:USDC Uniswap V3 pool or the ETH:USDT Uniswap V3 pool depending on which is closer to (1). If the ETH:USDC Uniswap V3 price is sufficiently close (0.3%) to the Chainlink data feed price, then the oracle will not check the ETH:USDT Uniswap V3 price to save gas (*i.e.*, be greedy). The oracle only returns a value if the price difference between the ETH/USD Chainlink data feed and either Uniswap V3 pool is less than 1%.\n\nThe BEANETH Well is added to the Oracle Whitelist by including the Well in the `stepOracle` and `totalDeltaB` functions in `SeasonFacet/Oracle.sol`.\n\nMinting based on the BEANETH Well is subject to the 1% deltaB cap implemented in [EBIP-2](https://bean.money/ebip-2). With 2 pools on the Oracle Whitelist, the maximum amount that the Bean supply can increase each Season is 2% per the peg maintenance mechanism.\n\nUpdate `MetadataImage` to include the BEANETH token and add the `name` and `symbol` functions to `MetadataFacet` to integrate Deposits with OpenSea.\n\n### Seeds per BDV Changes\n\nSet the Seeds per BDV for Bean and BEAN3CRV to 3 Seeds and 3.25 Seeds, respectively.\n\nAfter the commitment of this upgrade, the Deposit Whitelist would be the following:\n\n| Whitelisted asset    | Stalk per BDV    | Seeds per BDV    |\n|:---------------------|:-----------------|:-----------------|\n| Bean                 | 1                | 3                |\n| BEAN:3CRV Curve LP   | 1                | 3.25             |\n| BEAN:ETH Well LP     | 1                | 4.5              |\n| Unripe Bean          | 1                | 0                |\n| Unripe BEAN:3CRV LP  | 1                | 0                |\n\n### Silo V3 Getters\n\nAdd the following functions to the Silo Facet that return Deposited BDV and last Mowed Stem data for a given Farmer:\n* `balanceOfDepositedBDV`;\n* `getLastMowedStem`; and\n* `getMowStatus`.\n\n### Pipeline Upgrade \n\nUpgrade the Depot Facet to use Pipeline v1.0.1 ([`0xb1bE0000C6B3C62749b5F0c92480146452D15423`](https://etherscan.io/address/0xb1bE0000C6B3C62749b5F0c92480146452D15423)). All updates were reviewed by Halborn.\n\n#### Pipeline v1.0.1 Changelog\n- Add `receive` function fallback; and\n- Add `version` function.\n\n### `gm` Incentive Reward Oracle\n\nUpgrade the `gm` incentive reward oracle to calculate the cost to execute the `gm` function in Beans using the BEANETH Well.\n\nUse `getBeanEthWellPrice` in `LibBeanEthWellOracle` to calculate the price of Ether in Beans. Remove the `getBeanUsdPrice` and `getEthUsdcPrice` functions in `LibIncentive` that were previously used to calculate the price of Ether in Beans using the ratio of the two return values.\n\n### Flood Update\n\nUpdate `handleRain` in `SeasonFacet/Weather.sol` to reflect the removal of the Withdrawal Freeze. Beanstalk waits 1 Season after it starts Raining before Flooding.\n\n### Disclosures\n\nThe following is a list of proposed changes to the Beanstalk DAO Disclosures:\n\n* Add disclosures about Beanstalk assuming the security of:\n    * Basin and its components;\n    * Uniswap V3; and \n    * Pipeline;\n* Update the disclosure about Beanstalk requiring trustless and reliable access to a manipulation resistant oracle for a dollar; and\n* Update the disclosure about Beanstalk not being a finished protocol and requiring development.\n\nSee the [Arweave upload of BIP-37](https://arweave.net/JbV3AEWRzf1MDuXcsH-alviR2O5N5qbP9UU6iZH5ijY) to read this section in full.\n\nThe updated Beanstalk DAO Disclosures can be read [here](https://arweave.net/zaOThrkaNCQ2zkkas8pyVQkFSkAKXfU7JahilBaqXRs).\n\n### BFM Signers and BIC Members\n\nWe propose the following signers for the BFM:\n- Michael Montoya\n- Brean **(new signer)**\n- guy\n- sweetredbeans\n- mod323\n- aloceros\n- Cujo\n\nWe propose the following members for the BIC:\n- Brendan Sanderson\n- mod323\n- pizzaman1337 **(new member)**\n- Brean\n- funderberker\n- malteasy\n\n## Technical Rationale\n\n### Basin Integration\n\nIntegrating Basin and its components into Beanstalk in a generalized fashion makes it easier for future developers to propose BIPs that whitelist Wells.\n\n### Silo V3 Getters\n\nProviding a way to get an individual Farmer's BDV per whitelisted token increases the composability of Beanstalk and enables protocols like Root to integrate with Silo V3.\n\n### Pipeline Upgrade \n\nSupporting a version of Pipeline that can receive transfers of Ether improves the composability supported by the `farm` function.\n\n### `gm` Incentive Reward Oracle\n\nQuerying a single liquidity pool to calculate the price of Ether in Beans reduces the cost of calling the `gm` function, and thus the reward that Beanstalk pays to incentive it.\n\n### Flood Update\n\nThe Flood implementation must be updated in order to function properly.\n\n## Economic Rationale\n\n### Whitelist BEANETH\n\nBeans currently only trade against 3CRV which is a significant centralization vector for Beanstalk. Ether is the most decentralized, censorship resistant and liquid asset on the Ethereum network. Thus, a relatively high Seeds per BDV for LP tokens of Beans paired with Ether is justified.\n\nThe Multi Flow Pump is the first Ethereum-native oracle for Ethereum-native data that offers multi-block MEV manipulation resistance in a post-Merge environment. Using Multi Flow, Beanstalk can calculate a multi-block MEV manipulation resistant BEAN:ETH price. \n\nUniswap V3 pools are not multi-block MEV manipulation resistant but are on-chain and permissionless. Chainlink data feeds are multi-block MEV manipulation resistant because they are off-chain and permissioned. The ETH/USD data feed is the only Chainlink feed secured by staking. Using an average of the Chainlink feed and one of the Uniswap V3 pools, Beanstalk can calculate a multi-block MEV manipulation resistant ETH:USD price at the cost of some centralization.\n\nTherefore, Beanstalk calculates deltaB in the BEANETH Well in a manipulation resistant fashion.\n\n### Seeds per BDV Changes\n\n**Rewarding more Seeds to LP tokens than Beans**\n\nProviding liquidity for Beans is more useful to Beanstalk than Depositing Beans in the Silo, so Beanstalk should continue rewarding more Seeds to LP token Deposits than Bean Deposits. The delta in Seeds per BDV between LP tokens and Beans also minimizes upside volatility (and therefore excessive minting) as Farmers are incentivized to Convert their Deposited Beans to Deposited LP tokens above peg.\n\nTherefore, LP tokens continue to receive more Seeds per BDV upon Deposit than Beans.\n\n**Rewarding more Seeds to BEANETH than BEAN3CRV Deposits**\n\nPrior to the April 2022 exploit, BEAN3CRV and BEANETH Deposits were both rewarded 4 Seeds per BDV. During this time, BEAN3CRV liquidity was growing rapidly and surpassed the amount of BEANETH liquidity. This is not ideal as Beanstalk should incentivize providing liquidity for Beans against decentralized assets.\n\nTherefore, BEANETH should receive more Seeds per BDV than BEAN3CRV.\n\n**Increasing Seeds for Bean and BEANETH Deposits**\n\nUnripe Depositors had accumulated Grown Stalk for about a year from Replant to the commitment of Silo V3. As a result, the average Grown Stalk per BDV is excessively high. Increasing the Seeds per BDV for Bean and BEANETH allows for new Depositors to catch up to the average Grown Stalk per BDV faster. \n\nWith 4.5 Seeds per BDV for BEANETH Deposits, a new BEANETH Depositor would catch up to the average Grown Stalk per BDV in about 6 months. With 3 Seeds per BDV for Bean Deposits, a new Bean Depositor would catch up to the average Grown Stalk per BDV in about 9 months. A function to evaluate Seeds per BDV and time to catch up to average can be evaluated here: https://www.desmos.com/calculator/hevziu8k9y.\n\nAdditionally, decreasing the ratio of LP token to Bean Seeds per BDV reduces the incentive to not Convert from LP tokens to Beans below peg.\n\nTherefore, the Seeds per BDV for Bean, BEAN3CRV and BEANETH are set to 3 Seeds, 3.25 Seeds and 4.5 Seeds, respectively.\n\n### `gm` Incentive Reward Oracle\n\nChanging the oracle for calculating the cost to execute the `gm` function in Beans to the BEANETH Well that uses the Multi Flow Pump improves the censorship resistance of Beanstalk due to its multi-block MEV manipulation resistance.\n\n### Flood Update\n\nFlood is an essential peg maintenance tool for Beanstalk.\n\n## Contract Changes\n\nSee the [Arweave upload of BIP-37](https://arweave.net/JbV3AEWRzf1MDuXcsH-alviR2O5N5qbP9UU6iZH5ijY) to read this section in full.\n\n## Beans Minted \n\nNone.\n\n## Audit\n\n### Basin Integration\n\nThe commit hash of this BIP is [76a188233917afc1db103ca64b02dab8c5280b35](https://github.com/BeanstalkFarms/Beanstalk/tree/76a188233917afc1db103ca64b02dab8c5280b35).\n\nHalborn has performed an audit of this BIP up to commit hash [78d7045a4e6900dfbdc5f1119b202b4f30ff6ab8](https://github.com/BeanstalkFarms/Beanstalk/tree/78d7045a4e6900dfbdc5f1119b202b4f30ff6ab8). You can view the final audit report [here](https://arweave.net/qD2rZqlJgjBj-VatwoDmNgwdXd8Omc1Bt9RTkPsvK8k). \n\nBeanstalk contract changes between the two commits:\n- Updated the Pipeline address in `DepotFacet`;\n- Added metadata for BEANETH to the `MetadataFacet`;\n- Changed the `stem` type in the `RemoveDeposit` event signature in `EnrootFacet` from `int128` to `int96`;\n- Added the `InitBipBasinIntegration` contract that calls `whitelistToken` on BEANETH and sets the new Seeds per BDV for Bean, BEAN3CRV and BEANETH;\n- Split up `ConvertFacet` into `ConvertFacet` and `ConvertGettersFacet`;\n- Updated the Flood implementation (see `handleRain`) to reflect the removal of the Withdrawal Freeze;\n- Added the `name` and `symbol` functions to `MetadataFacet`; \n- Updated Uniswap V3 pool calls in the ETH:USD oracle to handle failure gracefully; and\n- Updated the ETH:USD oracle parameters.\n\n### Basin\n\nHalborn and Cyfrin performed an audit of Basin up to commit hash [e5441fc78f0fd4b77a898812d0fd22cb43a0af55](https://github.com/BeanstalkFarms/Basin/tree/e5441fc78f0fd4b77a898812d0fd22cb43a0af55). You can view the final audit report from Halborn [here](https://arweave.net/1IKi4iqRvu3qu_GdcLY4f3u9PgvOMvuRltU7AIXAEyA) and the final audit report from Cyfrin [here](https://arweave.net/usT3ClfjHwpX32OXnh5De1aH79csX1PMoXJCghXBaps). \n\n[Code4rena](https://code4rena.com/contests/2023-07-basin) performed an audit of Basin up to commit hash [8f6709ee1eeb36a452a08c591ebd3a340ea9b8c4](https://github.com/BeanstalkFarms/Basin/tree/8f6709ee1eeb36a452a08c591ebd3a340ea9b8c4), which included all remediations from the previous two audits. \n\nThe formal audit report from Code4rena is forthcoming, but all issues were either acknowledged or remediated by commit hash [ea51be32047cbb6625232cb63b180ecfb3fd0b71](https://github.com/BeanstalkFarms/Basin/tree/ea51be32047cbb6625232cb63b180ecfb3fd0b71), which is the commit hash of Basin code deployed on Ethereum mainnet. The changelog can be read [here](https://github.com/BeanstalkFarms/Basin/pull/122). All updates were reviewed by Cyfrin.\n\n## Effective\n\nImmediately upon commitment.",
      "protocol": "beanstalkdaoeth",
      "adapter": "snapshot",
      "proposer": "0x47a473Eb2bDfe6599dac638FFFE0D427d8Ad6888",
      "totalVotes": 223,
      "blockNumber": 17978421,
      "externalUrl": "https://snapshot.org/#/beanstalkdao.eth/proposal/0x98fbf0e9a3fe3054679fefb544fd57cd4df1f85b03edeecd1a06ccefdd4d1def",
      "startTime": {
        "timestamp": 1692806400
      },
      "endTime": {
        "timestamp": 1693411200
      },
      "startTimestamp": 1692806400,
      "endTimestamp": 1693411200,
      "currentState": "closed",
      "choices": [
        "For",
        "Against",
        "Abstain"
      ],
      "results": [
        {
          "total": 64684828.0,
          "choice": 0
        }
      ],
      "events": [],
      "type": "basic",
      "indexedResult": [
        {
          "total": 65647475.65365466,
          "choice": 0
        },
        {
          "total": 0.0,
          "choice": 1
        },
        {
          "total": 0.0,
          "choice": 2
        }
      ],
      "summary": "",
      "privacy": "",
      "indexedAt": 1692806474117,
      "txHash": "",
      "quorum": 0,
      "flagged": null,
      "executionArgs": "",
      "executables": "",
      "chainId": null
    },
    {
      "refId": "cHJvcG9zYWw6YmVhbnN0YWxrZGFvZXRoOnNuYXBzaG90OjB4MTc3NTY5ZDk4OGUxMDMwM2QxMDE4ZjU5N2IwYjMwZjY4ODhiMjA1MzBmN2IyZmI2OTliZGE5ODM4ZmRjYTcwYw==",
      "id": "0x177569d988e10303d1018f597b0b30f6888b20530f7b2fb699bda9838fdca70c",
      "title": "BIP-36: Silo V3",
      "content": "## Proposer\n\nBeanstalk Farms\n\nProposer Wallet: [0xf9d183af486a973b7921ceb5fdc9908d12aab440](https://etherscan.io/verifySig/20935)\n\n## Summary\n\n- Remove the Withdrawal Freeze from the Silo entirely;\n- Delay the issuance of newly Earned Beans to 10 blocks after the beginning of a Season;\n- Upgrade the accounting system around Seeds per BDV to Stems such that the Seeds per BDV for a whitelisted asset can be changed after whitelisting;\n- Change the Seeds per BDV rewards for both Unripe Bean (urBEAN) and Unripe BEAN:3CRV LP (urBEAN3CRV) to 0; and\n- Issue Silo Deposits as ERC-1155 tokens.\n\n## Links\n\n- [BIP-36 GitHub PR](https://github.com/BeanstalkFarms/Beanstalk/pull/410)\n- GitHub Commit Hash: [9f286e1f1b1e67bc40d35aaf4b16e5c6d83ebdd9](https://github.com/BeanstalkFarms/Beanstalk/pull/410/commits/9f286e1f1b1e67bc40d35aaf4b16e5c6d83ebdd9)\n- [Safe Transaction](https://app.safe.global/transactions/tx?safe=eth:0xa9bA2C40b263843C04d344727b954A545c81D043&id=multisig_0xa9bA2C40b263843C04d344727b954A545c81D043_0x1610ee472fcd880e700392995548f6a3d00196312ba90ea1d723ae0c286e2375)\n\n## Problem\n\n### Withdrawal Freeze Removal\n\nCurrently there is a Withdrawal Freeze that lasts from the time of Withdrawal until the end of the Season. This provides an unnecessarily complex UX as Farmers are forced to perform 2 on-chain actions at different times (Withdraw then Claim). For example, this limits the potential for using Deposits throughout DeFi via Pipeline as Deposits cannot atomically be swapped for the underlying. Furthermore, the supply overhang creates an economic inefficiency for Beanstalk and the lockup release at the same time creates an economic disadvantage for small Farmers when exiting the Silo.\n\n### Delayed Earned Bean Seigniorage\n\nIf the Withdrawal Freeze is removed with no changes to Earned Bean distribution, Beanstalk becomes susceptible to an attack where an account can Deposit whitelisted assets in the Silo, call `gm` and Withdraw the assets in the same transaction, gaining risk-free Bean seigniorage in the process.\n\n### Stems Upgrade\n\nThe Seeds per BDV reward for a whitelisted asset is static and can only be set upon whitelisting. This makes it such that (1) Seeds per BDV rewards cannot easily be updated via BIP and (2) no system for autonomously updating Seeds per BDV rewards can exist.\n\nIndexing Deposits by Season results in scenarios where Farmers may forfeit Stalk when Converting from a whitelisted asset to another with a lower Seeds per BDV.\n\nSeeds are implemented without decimals, limiting the economic flexibility of Silo incentives.\n\nCurrently Beanstalk does not have a gas efficient way to read the total Deposited BDV in the Silo. In a future Seed Gauge System, Beanstalk may need to calculate average Seeds per BDV across all Deposited assets.\n\n### Unripe Seed Parity at 0\n\nCurrently Beanstalk rewards 2 and 4 Seeds per BDV for urBEAN Deposits and urBEAN3CRV Deposits, respectively. There is a significant amount of Deposited urBEAN3CRV that could be Converted to repeg the Bean price. Beanstalk does not benefit from incentivizing Farmers to keep their Unripe assets in the Silo. Furthermore, the excessive accrual of Grown Stalk to Unripe asset holders during this extended period without Bean minting continues to make new Deposits less attractive. \n\n### ERC-1155 Deposits\n\nSilo Deposits do not implement any standard interface, significantly limiting the composability of Bean's positive carry. Protocols such as Tractor, Depot, etc. need to implement Deposit specific functionality in order to support them. Protocols such as Seaport do not support Deposits.\n\n## Proposed Solution\n\n### Withdrawal Freeze Removal\n\nRemove the Withdrawal Freeze entirely, allowing Farmers to Withdraw assets in the Silo directly to Circulating or Farm balances in a single transaction.\n\n#### Specification\n\n- Modify `withdrawDeposit(s)` to send the Withdrawn assets to Farm or Circulating balances using `LibTransfer.sendToken`, instead of creating a Withdrawal.\n- Move `claimWithdrawal(s)` to a new `LegacyClaimWithdrawalFacet` to be used by Farmers that have unclaimed Withdrawals at the time of this upgrade.\n\n### Delayed Earned Bean Seigniorage\n\nRevise the distribution of Earned Beans such that they Vest after the Vesting Period after the `gm` function is called. Set the Vesting Period to 10 blocks.\n\nIn practice, this means that a Farmer who Mows their Grown Stalk during the Vesting Period will be credited with that Stalk when Earned Beans are distributed next.\n\n#### Specification\n\n- Split `earnedBeans` into two `uint128` variables: `earnedBeans` and `newEarnedStalk`.\n- In `rewardToSilo`, set `newEarnedStalk = amount.mul(C.getStalkperBean())` (i.e., the number of new Earned Stalk is equal to the number of Beans rewarded to the Silo).\n- Modify `_balanceOfEarnedBeans` to properly exclude vesting Earned Stalk when computing a Farmer's Stalk balance.\n- More info: [RFC: Delayed Earned Bean Seigniorage](https://github.com/BeanstalkFarms/Beanstalk/issues/149).\n\n### Stems Upgrade\n\nIntroduce Stems for each token on the Deposit Whitelist, where Stems represent the Stalk Grown per BDV of Deposited value. This value starts at 0 at the time of Stem deployment (the Silo V3 BIP), or when a new token is added to the Deposit Whitelist.\n\nIndex Deposits based on Stems instead of by Season. A higher Stem count corresponds to an older Deposit. Storing Deposits based on Seasons does not allow for flexibility in Seeds per BDV values. With Stems, Seeds per BDV values can now be changed via governance and can have up to 6 decimals.\n\nStore the total Deposited BDV of each whitelisted asset in the Silo. This enables future work on a Seed Gauge System that could need to calculate the average Seeds per BDV across all Deposited assets.\n\nStoring Deposits based on Stems enables the cleanup of the Silo V1 and V2 storage systems into a single storage method that supports ERC-1155s. This requires a migration function (`mowAndMigrate`), in which Farmers submit all of their Deposits and the function that verifies their existence, removes them from the old storage slots, and migrates them into the Stem-based slots with ERC-1155 support. \n\nA gas-saving migration function (`mowAndMigrateNoDeposits`) is available for accounts with no current Deposits.\n\nAs a result of the Stems migration, Farmers can now `mow` their Grown Stalk for each individual whitelisted asset. `mowMultiple` is added to allow Farmers to Mow their Grown Stalk for multiple whitelisted assets at once.\n\nThere are no penalties for waiting to migrate from Silo V2 (or V1) to Silo V3, but an account must be migrated in order to interact with the Silo again after the commitment of the Silo V3 BIP.\n\n#### Specification\n\n- Introduce decimals at the `stalkEarnedPerSeason` level, such that Seeds can now have up to 6 decimals.\n- Modify existing `SiloFacet`, `ConvertFacet` and other facet functions from using Seeds to Stems.\n- Add the `mowAndMigrate` and `mowAndMigrateNoDeposits` migration functions that migrate an account from Silo V2 (or V1) to Silo V3. \n- Split up `SiloFacet` logic into `SiloFacet`, `MigrationFacet` and `ApprovalFacet` to reduce the `SiloFacet` size.\n- Add a `token` input to `mow` and introduce `mowMultiple` in `SiloFacet`.\n\n### Unripe Seed Parity at 0\n\nSet the Seeds per BDV for both urBEAN and urBEAN3CRV to 0.\n\nThe Beanstalk DAO expressed a preference for setting the Unripe Seeds per BDV rewards to be equal in [Temp-Check-1](https://snapshot.org/#/beanstalkfarms.eth/proposal/0xd47bc5099839f79e1d5ba0870d5c5ffff6ab416787c3ddca69d8500d9877e8e1), and specifically expressed a preference for them both being set to 0 in [Temp-Check-2](https://snapshot.org/#/beanstalkfarms.eth/proposal/0xf6a31bbdea6a0298103b217ff75418837a4fd3d5adba203cda11d1e48ae9baf6).\n\n### ERC-1155 Deposits\n\nImplement Silo Deposits using the ERC-1155 standard. ERC-1155s support an `id` and a `value`, matching the semi-fungible nature of Silo Deposits wherein they are non-fungible across Stems and fungible within the same number of Stems.\n\nThe ERC-20 and ERC-721 standards would not suffice for Silo Deposits:\n- The ERC-20 standard would require a new deployment for each new Deposit. \n- The ERC-721 standard does not support fungibility within a given `id`.\n\nERC-1155 tokens will be distributed to Farmers upon `mowAndMigrate`.\n\n#### Specification\n\n- For each ERC-1155 token, the `id` is the concatenation of the token address (20 bytes) and the Stem of the Deposit (12 bytes). The `value` is the number of tokens.\n- Add ERC-1155 events to each function that creates, removes or transfers Deposits.\n- Introduce a `MetadataFacet`, which contains on-chain metadata for each ERC-1155 token.\n\n## Technical Rationale\n\n### Withdrawal Freeze Removal\n\nAdding the ability to send Withdrawn assets directly to the Farmer's Farm or Circulating balance without the need for a separate transaction reduces the friction of interacting with Beanstalk.\n\nIntroducing a `LegacyClaimWithdrawalFacet` facilitates backwards compatibility for Farmers with unclaimed Withdrawals at the time of this upgrade.\n\n### Stems Upgrade\n\nImplementing Stems allows for Seeds per BDV to be changed via governance and set with greater precision, improving the economic flexibility of Silo incentives.\n\nProviding a way for Beanstalk to calculate the average Seeds per BDV across all Deposited assets in a gas-efficient manner can be used to facilitate a future Seed Gauge System.\n\nAllowing Farmers to `mow` or `mowMultiple` with distinct whitelisted assets increases the customizability of interacting with the Silo.\n\n### ERC-1155 Deposits\n\nImplementing Silo Deposits as ERC-1155 tokens improves the composability of Beanstalk.\n\n## Economic Rationale\n\n### Withdrawal Freeze Removal\n\nImproving the composability of Beanstalk and reducing the number of separate transactions required to interact with it improves the user experience and utility of Beanstalk and Beans.\n\n### Delayed Earned Bean Seigniorage\n \nRemoving the Withdrawal Freeze with no changes to Earned Bean distribution would create the opportunity to receive Bean seigniorage without taking on any exposure to the Bean price. Implementing a vesting period for Earned Beans mitigates this attack vector. In addition, a vesting period requires any related multi-block MEV attack to sustain the attack over at least that many blocks.\n\n### Stems Upgrade\n\nImproving the efficiency of the Silo and customizability of Seeds per BDV rewards improves the utility of Beanstalk and Beans.\n\nEliminating situations where Stalk is unnecessarily forfeited during Conversions reduces the friction of interacting with Beanstalk.\n\n### Unripe Seed Parity at 0\n\nThere is an incentive not to Convert urBEAN3CRV to urBEAN given the loss of Seeds. Unripe Seed Parity reduces the incentive not to Convert urBEAN3CRV to urBEAN dramatically. Given that the potential sellable Beans to due to the Chop Penalty is so small compared to the liquidity in the pool, Beanstalk should incentivize more Converts from urBEAN3CRV to urBEAN. This should significantly contribute to peg maintenance in the short term.\n\nThere is no need to use Seeds per BDV rewards to create opportunity cost associated with Withdrawing and Redepositing Unripe assets. Excessive Grown Stalk per BDV Deposited associated with Unripe assets is likely hurting Beanstalk's ability to attract new Depositors.\n\n### ERC-1155 Deposits\n\nThe positive carry of Beans is generally not accessible in DeFi given the lack of composability with Silo Deposits. Improving the composability of Silo Deposits by tokenizing them as ERC-1155s improves the user experience and utility of Beanstalk and Beans.\n\n## Contract Changes\n\nSee the [Arweave upload of BIP-36](https://arweave.net/wmvXd6gI0R4E56yuzjC8K45iyp3GTG91bKEKielcDJM) to read the Contract Changes section.\n\n## Beans Minted\n\nNone.\n\n## Audit\n\nThe commit hash of this BIP is [9f286e1f1b1e67bc40d35aaf4b16e5c6d83ebdd9](https://github.com/BeanstalkFarms/Beanstalk/pull/410/commits/9f286e1f1b1e67bc40d35aaf4b16e5c6d83ebdd9).\n\nHalborn has performed an audit of this BIP up to commit hash [24bf3d33355f516648b02780b4b232181afde200](https://github.com/BeanstalkFarms/Beanstalk/pull/410/commits/24bf3d33355f516648b02780b4b232181afde200). You can view the final audit report [here](https://arweave.net/rX8xO51XZSMi3n2DRMXjAl3jMWoU8gpfuxBHi9RBYag). \n\nChanges between the two commits:\n* Changed the input `stem` type in the `RemoveDeposit(s)` event signatures in `ConvertFacet` from `int128` to `int96`;\n* Changed return type for `seasonToStem` and `stemTipPerToken` from `int128` to `int96`; and\n* Removed unused `Silo.sol` import removed from `ConvertFacet`.\n\n## Effective\n\nImmediately upon commitment.",
      "protocol": "beanstalkdaoeth",
      "adapter": "snapshot",
      "proposer": "0x47a473Eb2bDfe6599dac638FFFE0D427d8Ad6888",
      "totalVotes": 264,
      "blockNumber": 17617311,
      "externalUrl": "https://snapshot.org/#/beanstalkdao.eth/proposal/0x177569d988e10303d1018f597b0b30f6888b20530f7b2fb699bda9838fdca70c",
      "startTime": {
        "timestamp": 1688436000
      },
      "endTime": {
        "timestamp": 1689040800
      },
      "startTimestamp": 1688436000,
      "endTimestamp": 1689040800,
      "currentState": "closed",
      "choices": [
        "For",
        "Abstain",
        "Against"
      ],
      "results": [
        {
          "total": 59709964.0,
          "choice": 0
        },
        {
          "total": 104180.89,
          "choice": 2
        }
      ],
      "events": [],
      "type": "single-choice",
      "indexedResult": [
        {
          "total": 59884526.45656083,
          "choice": 0
        },
        {
          "total": 0.0,
          "choice": 1
        },
        {
          "total": 104180.894228416,
          "choice": 2
        }
      ],
      "summary": "",
      "privacy": "",
      "indexedAt": 1688434484360,
      "txHash": "",
      "quorum": 0,
      "flagged": null,
      "executionArgs": "",
      "executables": "",
      "chainId": null
    },
    {
      "refId": "cHJvcG9zYWw6YmVhbnN0YWxrZGFvZXRoOnNuYXBzaG90OjB4ZjJhNzVjMzE0OGU0Yzk3OWI0YTEzNzBmOGJhYmM1NDllNGJiNTYyNWViZGQzYjgxZThmMmE4OTA3YzM4OTNjYQ==",
      "id": "0xf2a75c3148e4c979b4a1370f8babc549e4bb5625ebdd3b81e8f2a8907c3893ca",
      "title": "BOP-3: Form the BeaNFT DAO",
      "content": "## Proposer\n\nblc, Beanstalk Farms\n\nProposer Wallet: [0xbc4de0a59d8af0af3e66e08e488400aa6f8bb0fb](https://etherscan.io/verifySig/17229)\n\n## Summary\n\nForm the BeaNFT DAO by:\n\n- Introducing a suitable governance structure that allows the DAO to create and upgrade BeaNFT collections; and\n- Forming a community-run multisig that custodies ownership of all past and future BeaNFT collections on behalf of the DAO.\n\n## Problem\n\nThere is currently no transparent governance process that allows BeaNFT holders to vote on whether a new collection can be created or whether an existing collection can be upgraded. Past BeaNFT collections are currently custodied across various EOAs.\n\n## Proposed Solution\n\nForm the BeaNFT DAO, the organization that can create and upgrade BeaNFT collections.\n\n### Proposal Structure\n\nBeaNFT Proposals (BNPs) are the proposals through which the BeaNFT DAO votes on the direction of BeaNFTs (new collections, collection upgrades, etc.).\n\nA BeaNFT holder’s vote is counted in proportion to their number of BeaNFTs when the BNP is submitted to Snapshot (i.e., 1 BeaNFT = 1 vote). BeaNFT holders are able to delegate their votes to any other Farmer.\n\nAnyone with at least 0.1% of the BeaNFT supply can propose a BNP. BNPs have two voting choices, For and Against, and require 15% of the BeaNFT supply voting For to reach quorum (see *Supply and Participation* section). Once a quorum is reached, a majority vote For is required to pass. The Voting Period for BNPs is 7 days.\n\n#### Proposal Composition\n\nA BNP to create a new BeaNFT collection should include, at a minimum: (1) criteria to qualify for a BeaNFT in the new collection and (2) any rarity boost criteria. Including high level information about the theme of the collection, whether qualifying Farmers will be required to mint them, etc. is recommended. After the passage of the BNP, it is on the proposer to see through the completion of the art, the creation and deployment of the contracts, etc. Due to this, there is no guarantee that a new collection gets created after the passage of this type of BNP. \n\nA BNP seeking to upgrade an existing BeaNFT collection should outline (1) the proposed upgrade, (2) the rationale for the upgrade and (3) any technical criteria required to be implement the upgrade.\n\nA BNP can also be used to change the configuration or signers on the BeaNFT DAO Multisig (see *Custody* section).\n\n#### Supply and Participation\n\nAt the time of writing (April 1st, 2023), ~3K BeaNFTs have been minted and total of ~3.9K have been generated (about 900 Genesis and Winter BeaNFTs have not been minted by qualifying wallets). This means 0.1% of the BeaNFT supply is around ~3 BeaNFTs.\n\nNote that qualifying Genesis and Winter BeaNFTs can be minted on the [Beanstalk UI](https://app.bean.money/#/nft), whilst Barn Raise BeaNFTs were minted to qualifying wallets by Beanstalk Farms.\n\nTo provide some insight on potential future voting participation:\n\n- In BIPs [31](https://snapshot.org/#/beanstalkdao.eth/proposal/0x184c458cf3f69f4cb62bf92e9f31f873aa852aea3f9d60116e9c6dd9afa4d8ff) and [32](https://snapshot.org/#/beanstalkdao.eth/proposal/0xa23167457ea2be6939f1a296cc14357366d9de995eb0d261bcbcdebf13bad0e8) (neither of which passed), participating Stalkholders held ~18% of the BeaNFT supply; and\n- In [BIP-33](https://snapshot.org/#/beanstalkdao.eth/proposal/0x46af2f9d85ad2b9d298ff75737fb35d4f4a617e500647cb73e2bbabd82e6d725) (which passed), participating Stalkholders held ~26% of the BeaNFT supply.\n\n### Custody\n\nPast and future BeaNFT contracts will be custodied by the BeaNFT DAO Multisig (BDM), a multisig wallet with keys held by various community members. The multisig configuration will start as 4-of-7 and can be changed by the BeaNFT DAO through a BNP.\n\nThe BDM is not intended to have decision making power. Its role is to enact on-chain the decisions BeaNFT holders make via off-chain voting.\n\nBDM Signers:\n\n- blc\n- Brean\n- Safisynai\n- guy\n- Rex\n- pizzaman1337\n- MrMochi\n\nBackup signers (can be rotated in at the discretion of the BDM without a proposal):\n\n- Silo Chad\n- Sowphocles\n- CanadianBennett\n\n### Other Notes\n\nOwning a BeaNFT provides a holder access to the BeaNFT Club, a section in the Beanstalk Discord that only BeaNFT holders have access to. Holders can use the `#collabland-join` channel to receive the BeaNFT Club Member Discord role.\n\n## Rationale\n\nBy forming the BeaNFT DAO and creating a process for contributing to BeaNFTs, a pathway is forged for holders to propose and implement utility in the BeaNFT ecosystem in a decentralized fashion. Decentralization of custody of the BeaNFT contracts is also significantly improved.\n\n## Effective\n\nImmediately upon passage.\n",
      "protocol": "beanstalkdaoeth",
      "adapter": "snapshot",
      "proposer": "0x47a473Eb2bDfe6599dac638FFFE0D427d8Ad6888",
      "totalVotes": 173,
      "blockNumber": 17132681,
      "externalUrl": "https://snapshot.org/#/beanstalkdao.eth/proposal/0xf2a75c3148e4c979b4a1370f8babc549e4bb5625ebdd3b81e8f2a8907c3893ca",
      "startTime": {
        "timestamp": 1682550000
      },
      "endTime": {
        "timestamp": 1683154800
      },
      "startTimestamp": 1682550000,
      "endTimestamp": 1683154800,
      "currentState": "closed",
      "choices": [
        "For",
        "Abstain"
      ],
      "results": [
        {
          "total": 41970936.0,
          "choice": 0
        },
        {
          "total": 164882.0,
          "choice": 1
        }
      ],
      "events": [],
      "type": "single-choice",
      "indexedResult": [
        {
          "total": 41970943.13652805,
          "choice": 0
        },
        {
          "total": 164881.979055963,
          "choice": 1
        }
      ],
      "summary": "",
      "privacy": "",
      "indexedAt": 1682540526273,
      "txHash": "",
      "quorum": 0,
      "flagged": null,
      "executionArgs": "",
      "executables": "",
      "chainId": null
    },
    {
      "refId": "cHJvcG9zYWw6YmVhbnN0YWxrZGFvZXRoOnNuYXBzaG90OjB4YjQzY2U0MGZmZjhjOTE5MjRhOTU2NzYzOGViNjBiZjNmZTYwYmEyYzliNmQyZDYyYjBlMzhhNjNmMDdiYjQyMw==",
      "id": "0xb43ce40fff8c91924a9567638eb60bf3fe60ba2c9b6d2d62b0e38a63f07bb423",
      "title": "BIP-34: Sunrise Improvements",
      "content": "## Proposer\n\nBeanstalk Farms, Chaikitty\n\nProposer Wallet: [0xf9d183af486a973b7921ceb5fdc9908d12aab440](https://etherscan.io/verifySig/17368)\n\n## Summary\n\n* Implement a Dutch (Morning) auction that adjusts the Temperature that Beanstalk issues Pods at during the first 25 blocks after the `sunrise`;\n* Refine the base `sunrise` incentive reward to account for current network and Beanstalk conditions; and\n* Make `sunrise` interoperable with the `farm` function.\n\n## Links\n\n* [BIP-34 GitHub PR](https://arweave.net/J4FKZAcyFqEw6slAB_DyNpdP1KdYUAvy7SnJX4W_AEs)\n* [Safe Transaction](https://app.safe.global/transactions/tx?safe=eth:0xa9bA2C40b263843C04d344727b954A545c81D043&id=multisig_0xa9bA2C40b263843C04d344727b954A545c81D043_0xe11e99897867b957ac2694efd311f84c2687e0a8156deab64952d4f2b180e038)\n* GitHub Commit Hash: [538b7a2a89760f6e7aab0fa3146551c030f388d1](https://arweave.net/16MXuSj-QuCTWzEv4_A31BQjbFDrNyiXzSBacy2y8MM)\n\n## Problem\n\nDuring times of short-term excess demand for Soil, Beanstalk is paying significantly more in Pods than is necessary to attract creditors. In addition, Pod minting is concentrated towards Farmers who are able to execute transactions on-chain first when the demand for Soil is excessively high.\n\nBeanstalk frequently overpays for the `sunrise`, as most of the reward is used to pay for high gas prices that are due to the competitiveness of calling `sunrise`.\n\nThe `sunrise` function is not interoperable with the `farm` function, as the function does not currently return any data.\n\n## Proposed Solution\n\n### Morning Auction\n\nWe propose a Dutch auction for Temperature in the Field during the first $b$ blocks after the `sunrise` (Morning) of each Season. Each Morning, the Temperature ramps from 1% to 100% of the maximum Temperature.\n\nWith this change, the Temperature offered by Beanstalk is dynamic within a Season. In practice, when `deltaB > 0`, the amount of Soil issued in a Season is dynamic, while the maximum number Pods that can be issued if all Soil is Sown in the Morning is fixed. When `deltaB < 0`, the amount of Soil issued in a Season is fixed, while the maximum number of Pods that can be issued if all Soil is Sown in the Morning is dynamic. \n\n**Before Morning Auction**\n\n|        Parameters within a given Season    | `deltaB > 0` | `deltaB < 0` |\n|:-------------------------------------------|:-------------|:-------------|\n|             Soil issued                    |    Fixed     |    Fixed     |\n| Maximum number of Pods that can be minted* |    Fixed     |    Fixed     |\n|             Temperature                    |    Fixed     |    Fixed     |\n\n*If all Soil is Sown.\n\n**Morning Auction**\n\n|       Parameters within a given Season       | `deltaB > 0` | `deltaB < 0` |\n|:---------------------------------------------|:-------------|:-------------|\n|             Soil issued                      |   Dynamic    |    Fixed     |\n| Maximum number of Pods that can be minted**  |    Fixed     |   Dynamic    |\n|             Temperature                      |   Dynamic    |   Dynamic    |\n\n**If all Soil is Sown _in the Morning_.\n\n#### Specification\n\n1. Redefine all instances of ![image](https://arweave.net/MMHJOaJs6-2cLwfaSyNcIbtWtH2Su11qLMLT_4aGdPE) as the maximum Temperature ![image](https://arweave.net/AXF_3M7_A2WbE584SvyyiqwbpK3ATNQ-eLzh8AKAR7M).\n\n2. Redefine *h* to:\n\n![image](https://arweave.net/EHIx2OY4Mc80-jPI3gsnkhrWrfAMOsr4qMPGy_HWHf4)\n\nWhere *a* is the control variable, *b* is the number of blocks needed to elapse to reach the maximum Temperature, and *c* is the number of blocks that have elapsed since the `sunrise` call.\n\n![image](https://arweave.net/IBO2cODoMusX-a8TQn--A8-AmEdTxYspGcjWSGG-KVo)\n\n3. Adjust the time in which Beanstalk considers demand for Soil increasing in instances where all but at most one Soil is Sown from 5 minutes to 10 minutes since `sunrise` (*i.e.*, ![image](https://arweave.net/ayHPfRUq1_wHCjmWdmtMBsy-G7JYys541hihF_fpWjc)).\n\n4. When `deltaB > 0`, fix the maximum Pods that can be issued during a Season based on the number of Pods that became Harvestable at the start of that Season.\n\nDue to function changes in `LibDibbler.sol`, the Fundraiser Facet must also be updated.\n\n#### Storage\n\nThe following changes are made to Beanstalk's storage: \n* Add to the `Season` struct: `uint32 sunriseBlock`;\n* Add to the `Season` struct: `bool abovePeg`;\n* Deprecate `startSoil` from the `Field` struct in favor of `beanSown`;\n* Modify `soil` in the `Field` struct from datatype `uint256` to `uint128` ; and\n* Deprecate `yield` from the `Weather` struct in favor of `t`.\n\n### Sunrise Incentive Adjustment\n\nWe propose changing the base `sunrise` incentive reward to account for current network and Beanstalk conditions.\n\nThe following logic is used to calculate the incentive reward:\n\n```\ngasUsed = min(deltaGas + GAS_OVERHEAD, MAX_SUNRISE_GAS)\ngasFee = block.basefee + PRIORITY_FEE_BUFFER\ngasCostBean = gasFee * gasUsed * ethBeanPrice\nsunriseReward = min(BASE_REWARD + gasCostBean, MAX_REWARD)\nexponentiatedReward = sunriseReward * 1.01^(blocksLate * BLOCK_LENGTH_SECONDS)\n```\n\nWhere:\n* `deltaGas` is equal to the delta of `gasleft` at the start and end of transaction;\n* `GAS_OVERHEAD` is the estimated gas overhead not included in `deltaGas` (21k plus gas cost to pay the caller);\n* `MAX_SUNRISE_GAS` is the manipulation protection parameter that defines the maximum possible gas cost to call `sunrise` (likely during a Flood);\n* `PRIORITY_FEE_BUFFER` is the overestimation of the maximum required `priorityFee` to call `sunrise` (it is possible to access the `baseGasFee` but not the `priorityFee` in Solidity);\n* `ethBeanPrice` is the ETH/BEAN price (which is derived from the BEAN:3CRV pool on Curve and the USDC:ETH pool on Uniswap V3);\n* `BASE_REWARD` is a fixed increase in Bean reward to cover the costs of operating `sunrise` bots;\n* `MAX_REWARD` is the max base reward to prevent manipulation;\n* `blocksLate` is the number of blocks in which a successful `sunrise` call was executed past the first block in which it could have been executed; and\n* `BLOCK_LENGTH_SECONDS` is number of seconds per block in Ethereum (post-Merge this is fixed at 12).\n\n### `gm` function\n\nWe propose adding a `gm` function that (1) implements the `sunrise` function, (2) can send the incentive reward to the caller's Farm or Circulating balance and (3) returns the number of Beans paid for the incentive reward.\n\n## Technical Rationale\n\nThe cost to execute `sunrise` in Beans is:\n```\ngasUsed * (baseGasFee + priorityFee) * beanEthPrice\n```\nThis solution computes an on-chain estimation of the above formula  while adding sufficiently tunable parameters to properly account for estimation error and potential manipulation.\n\nAdding the ability to send `sunrise` incentive rewards to the caller's Farm balance increases the composability of Beanstalk. Adding a return value for the new `gm` function makes it much easier for other smart contracts calling Beanstalk to track `sunrise` incentive rewards.\n\n## Economic Rationale\n\nReducing unnecessary Pod issuance should improve Beanstalk's creditworthiness as a borrower. Maximizing Beans borrowed for a given Pod issuance should improve Beanstalk's efficiency.\n\nReducing unnecessary Bean issuance in the `sunrise` incentive reward can reduce sell pressure on Beans. \n\nThe cost of paying the `sunrise` caller differs based on the selected `ToMode` and whether the caller already has Beans in their Circulating and/or Farm balance. `GAS_OVERHEAD` is set such that the incentive amount is high enough for Farmers that don't have Beans in their balances already. For Farmers that already have Beans (outside the Silo), this also has the affect of compensating for one failed transaction per success, such that a caller with 50/50 success rate will retain slight profit.\n\nImproving the composability of Beanstalk should improve the user experience and utility of Beanstalk and Beans.\n\n## Contract Changes\n\nThe Δ symbol indicates that there is a proposed change in functionality.\n\n### Field Facet\n\nThe following `FieldFacet` is being removed from Beanstalk:\n* [`0x79801f5cb2592dd2173482198385e62870a0eae2`](https://etherscan.io/address/0x79801f5cb2592dd2173482198385e62870a0eae2#code)\n\nThe following `FieldFacet` is being added to Beanstalk:\n* [`0xB57A1c006D827af549F6A31DC10028e5e2782762`](https://etherscan.io/address/0xB57A1c006D827af549F6A31DC10028e5e2782762#code)\n\n#### `FieldFacet` Function Changes\n\n|      Name            | Selector      |  Action   | Type | Δ |\n|:---------------------|:--------------|:----------|:-----|:------------------|\n| `sow`                | `0x6c8d548e`  |  Remove   | Call |                   |\n| `sowWithMin`         | `0x78309c85`  |  Remove   | Call |                   |\n| `harvest`            | `0x8fd83ecf`  |  Replace  | Call |                   |\n| `harvestableIndex`   | `0xd6be1816`  |  Replace  | View |                   |\n| `plot`               | `0xe1d9d628`  |  Replace  | View |                   |\n| `podIndex`           | `0xcb44a6cf`  |  Replace  | View |                   |\n| `totalHarvestable`   | `0x067fcd2e`  |  Replace  | View |                   |\n| `totalHarvested`     | `0x23dc1142`  |  Replace  | View |                   |\n| `totalPods`          | `0xc0aa6a90`  |  Replace  | View |                   |\n| `totalSoil`          | `0x3285008a`  |  Replace  | View |     &check;       |\n| `totalUnharvestable` | `0x4433366d`  |  Replace  | View |                   |\n| `yield`              | `0x28593984`  |  Replace  | View |     &check;       |\n| `maxTemperature`     | `0x7907091f`  |  Add      | View |     &check;       |\n| `remainingPods`      | `0x56ba3e24`  |  Add      | View |     &check;       |\n| `sow`                | `0x32ab68ce`  |  Add      | View |     &check;       |\n| `sowWithMin`         | `0x553030d0`  |  Add      | View |     &check;       |\n| `temperature`        | `0xadccea12`  |  Add      | View |     &check;       |\n\n#### `FieldFacet` Event Changes\n\nNone.\n\n### Fundraiser Facet\n\nThe following `FundraiserFacet` is being removed from Beanstalk:\n* [`0x538c76976ef45b8ca5c12662a86034434bfc7a8e`](https://etherscan.io/address/0x538c76976ef45b8ca5c12662a86034434bfc7a8e#code)\n\nThe following `FundraiserFacet` is being added to Beanstalk:\n* [`0xBb5dC125E48A4580721b1E40Ac52984c2Ce54D3A`](https://etherscan.io/address/0xBb5dC125E48A4580721b1E40Ac52984c2Ce54D3A#code)\n\n#### `FundraiserFacet` Function Changes\n\n|      Name             |   Selector     |  Action  |  Type  | Δ |\n|:----------------------|:---------------|:---------|:-------|:------------------|\n| `createFundraiser`    | `0x4b4e8d9a`   |  Replace |  Call  |                   |\n| `fund`                | `0x43c5198e`   |  Replace |  Call  |     &check;       |\n| `fundingToken`        | `0xc869c1eb`   |  Replace |  View  |                   |\n| `fundraiser`          | `0xce133450`   |  Replace |  View  |                   |\n| `numberOfFundraisers` | `0x6299a9af`   |  Replace |  View  |                   |\n| `remainingFunding`    | `0x0d1a844c`   |  Replace |  View  |                   |\n| `totalFunding`        | `0x6ee66ddf`   |  Replace |  View  |                   |\n\n#### `FundraiserFacet` Event Changes\n\nNone.\n\n### Season Facet\n\nThe following `SeasonFacet` is being removed from Beanstalk:\n* [`0x83d6e6b446613c9bfaebc64260962bc4f828a3ac`](https://etherscan.io/address/0x83d6e6b446613c9bfaebc64260962bc4f828a3ac#code)\n\nThe following `SeasonFacet` is being added to Beanstalk:\n* [`0x9c9360C85cd020D4eF38775F6ADEdD38931f1731`](https://etherscan.io/address/0x9c9360C85cd020D4eF38775F6ADEdD38931f1731#code)\n\n#### `SeasonFacet` Function Changes\n\n| Function Name   | Selector      |  Action   | Type | Δ |\n|:----------------|:--------------|:----------|:-----|:------------------|\n| `paused`        | `0x5c975abb`  |  Replace  | View |                   |\n| `plentyPerRoot` | `0xe60d7a83`  |  Replace  | View |                   |\n| `poolDeltaB`    | `0x471bcdbe`  |  Replace  | View |                   |\n| `rain`          | `0x43def26e`  |  Replace  | View |                   |\n| `season`        | `0xc50b0fb0`  |  Replace  | View |                   |\n| `seasonTime`    | `0xca7b7d7b`  |  Replace  | View |                   |\n| `sunrise`       | `0xfc06d2a6`  |  Replace  | View |     &check;       |\n| `time`          | `0x16ada547`  |  Replace  | View |                   |\n| `totalDeltaB`   | `0x06c499d8`  |  Replace  | View |                   |\n| `weather`       | `0x686b6159`  |  Replace  | View |                   |\n| `abovePeg`      | `0x2a27c499`  |   Add     | View |     &check;       |\n| `gm`            | `0x64ee4b80`  |   Add     | Call |     &check;       |\n| `sunriseBlock`  | `0x3b2ecb70`  |   Add     | View |     &check;       |\n\n#### `SeasonFacet` Event Changes\n\nNone.\n\n### Initialization Contract\n\nThe `init` function on the following `InitBipSunriseImprovements` contract is called:\n\n* [`0xA3b3fB1951872346ea45EE601B29637Ca67fe6B4`](https://etherscan.io/address/0xA3b3fB1951872346ea45EE601B29637Ca67fe6B4#code)\n\n## Beans Minted\n\nNone.\n\n## Audit\n\nThe commit hash of this BIP is [538b7a2a89760f6e7aab0fa3146551c030f388d1](https://arweave.net/16MXuSj-QuCTWzEv4_A31BQjbFDrNyiXzSBacy2y8MM).\n\nHalborn has performed an audit of this BIP up to commit hash [f37cb42809fb8dfc9a0f2891db1ad96a1b848a4c](https://arweave.net/GcakwDoOwPhik4MJFZmVKmf4lZClunWRH7_TnHysatQ). You can view the Halborn audit report [here](https://arweave.net/sp8gimI1UYFt6nrEz0UZFc7uZHzwswdU27cyxHZd0pE). All changes made between the two commits were either tests, documentation or minor fixes found during code review.\n\n## Effective\n\nImmediately upon commit.\n",
      "protocol": "beanstalkdaoeth",
      "adapter": "snapshot",
      "proposer": "0x47a473Eb2bDfe6599dac638FFFE0D427d8Ad6888",
      "totalVotes": 203,
      "blockNumber": 17132665,
      "externalUrl": "https://snapshot.org/#/beanstalkdao.eth/proposal/0xb43ce40fff8c91924a9567638eb60bf3fe60ba2c9b6d2d62b0e38a63f07bb423",
      "startTime": {
        "timestamp": 1682550000
      },
      "endTime": {
        "timestamp": 1683154800
      },
      "startTimestamp": 1682550000,
      "endTimestamp": 1683154800,
      "currentState": "closed",
      "choices": [
        "For",
        "Abstain"
      ],
      "results": [
        {
          "total": 51347244.0,
          "choice": 0
        }
      ],
      "events": [],
      "type": "single-choice",
      "indexedResult": [
        {
          "total": 51390098.12180237,
          "choice": 0
        },
        {
          "total": 0.0,
          "choice": 1
        }
      ],
      "summary": "",
      "privacy": "",
      "indexedAt": 1682539908382,
      "txHash": "",
      "quorum": 0,
      "flagged": null,
      "executionArgs": "",
      "executables": "",
      "chainId": null
    },
    {
      "refId": "cHJvcG9zYWw6YmVhbnN0YWxrZGFvZXRoOnNuYXBzaG90OjB4NjFiYzA5N2RhOTViNmRmZWZlOGZkYjJkYzllZDYwNmYyODE0NDIzMjBhNzIwYTFhMDljOGM2NjRhMDhhNmRiNA==",
      "id": "0x61bc097da95b6dfefe8fdb2dc9ed606f281442320a720a1a09c8c664a08a6db4",
      "title": "BIP-35: Stalk Delegation and Process Amendments",
      "content": "## Proposer\n\nBeanstalk Farms\n\nProposer Wallet: [0xf1a621fe077e4e9ac2c0cefd9b69551db9c3f657](https://etherscan.io/verifySig/17216)\n\n## Summary\n\n* Enable Stalk delegation on the various Beanstalk Snapshot spaces; and\n* Make various updates to Beanstalk governance detailed below, including updating the [Beanstalk Community Multisig (BCM) Process](https://docs.bean.money/almanac/governance/beanstalk/bcm-process), [Beanstalk Immunefi Committee (BIC) Process](https://docs.bean.money/almanac/governance/beanstalk/bic-process), [Immunefi Bug Bounty Program](https://immunefi.com/bounty/beanstalk/) and [Beanstalk DAO Disclosures](https://docs.bean.money/almanac/disclosures).\n\n## Links\n\n* [BIP-35 GitHub PR](https://arweave.net/WOdo880CKI63hAgQP-_ZtUwom-y0VyPfZ5c2dFrErDQ)\n\n## Problem\n\nParticipation from Stalkholders is crucial for Beanstalk governance. However, at present, each Stalkholder is required to vote on every governance proposal in order to have their vote represented. Some Stalkholders might not have adequate knowledge about the proposals, may not have sufficient time or motivation to vote, and/or might not be aware of them, resulting in reduced voting participation.\n\nBeanstalk governance, the BCM Process, the BIC Process, the Immunefi Bug Bounty Program and the Beanstalk DAO Disclosures can all be updated to reflect the current state of Beanstalk and its ecosystem.\n\n## Proposed Solution\n\n### Stalk Delegation\n\nBy enabling Stalk delegation on the various Beanstalk ecosystem Snapshot spaces ([beanstalkdao.eth](https://snapshot.org/#/beanstalkdao.eth), [beanstalkfarms.eth](https://snapshot.org/#/beanstalkfarms.eth) and [wearebeansprout.eth](https://snapshot.org/#/wearebeansprout.eth)), Stalkholders will be able to delegate their votes to any other Farmer. The delegate can then vote on their behalf in governance proposals. Stalk must be delegated on each Snapshot space individually.\n\nIf Farmer A delegates to Farmer B and both of them vote, then the delegated voting power is not calculated—in this instance the votes of the two Farmers will be calculated as if the delegation did not happen. The vote of B will be counted if A does not vote.\n\n### Process Amendments \n\n#### Beanstalk Governance\n\nWe propose the following list of changes to Beanstalk governance:\n* A Stalkholder's vote for a given proposal is counted as their Stalk at the beginning of the Voting Period that still exists;\n* The Voting Period opens when the Snapshot proposal for a BIP can be voted on and ends after 7 days or once a two-thirds supermajority is reached;\n* If at the end of the Voting Period:\n    * Less than or equal to half of total Stalk is voting For the BIP, it fails, or\n    * More than half of total Stalk is voting For the BIP, it passes;\n* If at any time 24 hours or more after the beginning and before the end of the Voting Period more than two-thirds of the total Stalk is voting For the BIP, the BCM can execute the BIP on-chain;\n* The proposer must have 0.1% of total Stalk (including delegated Stalk) at the beginning and end of a Voting Period where Stalkholders vote (i.e., BIPs, BOPs, BFCPs and BSPs) in order for the proposal to pass;\n* Only BIPs can (1) change the Beanstalk protocol, (2) mint Beans and/or (3) change Beanstalk governance;\n* BOPs are proposals for the DAO to agree on processes that do not involve changes that can only be made in BIPs;\n* Voting choices for a BIP are For, Abstain and Against (where Abstain and Against have no effect);\n* Voting choices for a BOP are For and Against;\n* BOPs and BFCP-Bs must have >35% of total Stalk voting For and a majority of participating Stalk voting For at the end of the Voting Period in order to pass;\n* BFCP-As must have >25% of total Stalk voting For and a majority of participating Stalk voting For at the end of the Voting Period in order to pass;\n* The Voting Period for BFBPs is 2 days; \n* Any proposal that proposes for another party to perform work upon, or at any point after, the passage of the proposal must have that party's explicit approval; and\n* BFCP-Cs do not need to be proposed at any particular frequency (BFC member term lengths still apply).\n\nThe updated Beanstalk-related governance processes can be read in the new Proposals documentation [here](https://arweave.net/vOGUuWPvvxNDGdttqCdki8Job_qq9f74qvALYxnVO8o).\n\n#### BCM Process\n\nWe propose the following list of changes to the BCM Process:\n\n* Integrate all of the changes included in the above Beanstalk Governance section;\n* Add the `addUnripeToken` and `addFertilizerOwner` functions to the list of owner functions for completion;\n* Require a BIP for non-emergency changes to the m-of-n configuration of the BCM, but allow emergency changes to the m-of-n configuration without a BIP in order to remove rogue Signers before a replacement Signer can be selected;\n* Create significantly more clear and permissionless BIP and BOP proposal processes;\n* Require that written proposals for BIPs have a Contract Changes section that lists the facets and initialization contract address; and\n* Require that written proposals for BIPs have a Beans Minted section that describes the number of Beans minted by the execution of the proposal;\n* Make it clear that BIPs may have multiple transactions if made explicit in the written proposal;\n* Add relevant BCM processes for verifying and executing Beanstalk Immunefi Responses (BIRs);\n* Remove the requirement for Signers to rotate wallets every 2 months;\n* More thoroughly document the processes for BCM Signers to verify and sign transactions;\n* Specify that in cases where functions must be removed immediately to protect Beanstalk, BCM Signers are not required to submit an Etherscan verified message; and\n* Specify that in no instance shall a majority of the BCM keys be held by Beanstalk Farms contributors.\n\nThe updated BCM Process can be read [here](https://arweave.net/g6hiZUDixN6SIYCEqe9HO8pAhsjAN4tzh8sfMUXRBag).\n\n#### BIC Process\n\nThe following is a list of proposed changes to the BIC Process:\n\n* Add a Fix section that describes the process that is followed in order to fix a reported issue;\n* Specify that the potential economic damage determination is only required in BIRs for smart contract bug reports qualified as High or Critical Impact;\n* Clarify the process that the BIC follows after a fix is implemented and a determination has been made by the BIC;\n* Require that written proposals for BIRs have a Beans Minted section that describes the number of Beans minted by the execution of the proposal;\n* Make it explicit that the BIC has the ability to update the Immunefi Bug Bounty Program in the following ways, without the need for a BOP or BIP:\n    * Adding new assets as in-scope, including contracts that have been audited and/or have the potential to attract a meaningful amount of Beans/BDV;\n    * Updating the list of code in-scope that has been audited but has not yet been deployed on-chain;\n    * Adding documentation and links; and\n    * Updating language to improve clarity.\n\nThe updated BIC Process can be read [here](https://arweave.net/7zkZms8WC7lMAkHGkDvUQCONdOcQrI8SkirBXEIBRMc).\n\n#### Beanstalk Farms Budget Custody\n\nWe propose that members of the Beanstalk Farms Committee (BFC) may each custody of up to 4,000 Beans from the Beanstalk Farms budget to make payments for expenses incurred by Beanstalk Farms.\n\nWe propose that the following Farmers serve as backup signers for the Beanstalk Farms Multisig (BFM), in no particular order:\n* pizzaman1337\n* CanadianBennett\n* MrMochi\n\n#### Immunefi Bug Bounty Program\n\nThe following is a list of proposed changes to the Immunefi Bug Bounty Program:\n\n* Specify that Beans/BDV at risk are the primary consideration when determining practicable economic damage;\n* Specify that Circulating non-Bean assets at risk may qualify for a maximum of up to 50% of the potential reward outlined in the Rewards by Threat Level section, as determined by the BIC; \n* Specify that unexpected outcomes (like loss of funds) due to misuse of Pipeline do not qualify as valid bug reports; and\n* Add the Beanstalk UI as in-scope of the program.\n\nThe updated Immunefi Bug Bounty Program can be read [here](https://arweave.net/kQcgKTy9iUogBmMhx10FPo8DWV1d0xmzg_3Qfj0tLF8).\n\n\n#### Disclosures\n\nThe following is a list of proposed changes to the Beanstalk DAO Disclosures:\n* Add the following disclosure about the Beanstalk Subgraph: \n\n    THE APP.BEAN.MONEY FRONTEND DEPENDS ON THE BEANSTALK SUBGRAPH FOR DISPLAYING VARIOUS ON-CHAIN DATA. THERE IS NO GUARANTEE THAT SUBGRAPH DATA IS ACCURATE.\n    The Beanstalk UI hosted at app.bean.money depends on the Beanstalk Subgraph for displaying data, particularly on the Market and Analytics pages. The Beanstalk Subgraph is primarily developed and deployed by Beanstalk Farms.\n    By default the Beanstalk UI uses a version of the subgraph hosted by Beanstalk Farms, which can be censored. The subgraph that the Beanstalk UI uses can be adjusted in the settings.\n    \n* Add a note about the Beanstalk SDK being unaudited in Disclosure #18; and\n* Allow Beanstalk Farms to modify the Disclosures that pertain to Beanstalk development tooling as they change without the need for a BIP or BOP.\n\nThe updated Beanstalk DAO Disclosures can be read [here](https://arweave.net/VpB8mrlsXsYT0VptAAhjHUwqD_TmvTI5aIklXTNzdlo).\n\n## Rationale\n\n### Stalk Delegation\n\nAllowing Stalkholders to delegate their votes to other Farmers can increase voting participation as a delegate can potentially be more knowledgeable or motivated to participate in governance than the delegator. Thus, Stalk delegation can promote more effective and representative protocol governance.\n\n### Process Amendments\n\nThe proposed changes to Beanstalk governance increase the clarity of language around various proposal processes and increase the flexibility of Beanstalk Farms proposal processes. \n\nThe proposed changes to the BCM Process significantly increase the quality of documentation for and the permissionlessness of the BIP and BOP proposal processes. \n\nThe proposed changes to the BIC Process significantly increase the quality of documentation for the BIC operating processes and gives the BIC more flexibility in updating the Immunefi Bug Bounty Program.\n\nThe proposed changes to the custody of the Beanstalk Farms budget will permit timely payments of small amounts in a swift fashion (without requiring the signatures of BFM signers).\n\nThe proposed changes to the Immunefi Bug Bounty Program further refine what bug reports are considered valid and how the BIC determines practicable economic damage, which improves the bug reporting experience for Immunefi whitehats. The proposed changes also add the Beanstalk UI as in-scope to reward whitehats for finding interface-level vulnerabilities.\n\nThe proposed changes to the Beanstalk DAO Disclosures reflect the current state of Beanstalk development tooling.\n\n## Contract Changes\n\nNone.\n\n## Beans Minted\n\nNone.\n\n## Effective\n\nImmediately upon passage.\n",
      "protocol": "beanstalkdaoeth",
      "adapter": "snapshot",
      "proposer": "0x47a473Eb2bDfe6599dac638FFFE0D427d8Ad6888",
      "totalVotes": 196,
      "blockNumber": 17132671,
      "externalUrl": "https://snapshot.org/#/beanstalkdao.eth/proposal/0x61bc097da95b6dfefe8fdb2dc9ed606f281442320a720a1a09c8c664a08a6db4",
      "startTime": {
        "timestamp": 1682550000
      },
      "endTime": {
        "timestamp": 1683154800
      },
      "startTimestamp": 1682550000,
      "endTimestamp": 1683154800,
      "currentState": "closed",
      "choices": [
        "For",
        "Abstain"
      ],
      "results": [
        {
          "total": 50156884.0,
          "choice": 0
        },
        {
          "total": 1631.8489,
          "choice": 1
        }
      ],
      "events": [],
      "type": "single-choice",
      "indexedResult": [
        {
          "total": 50199748.52940463,
          "choice": 0
        },
        {
          "total": 1631.8489363618,
          "choice": 1
        }
      ],
      "summary": "",
      "privacy": "",
      "indexedAt": 1682539908382,
      "txHash": "",
      "quorum": 0,
      "flagged": null,
      "executionArgs": "",
      "executables": "",
      "chainId": null
    },
    {
      "refId": "cHJvcG9zYWw6YmVhbnN0YWxrZGFvZXRoOnNuYXBzaG90OjB4NDZhZjJmOWQ4NWFkMmI5ZDI5OGZmNzU3MzdmYjM1ZDRmNGE2MTdlNTAwNjQ3Y2I3M2UyYmJhYmQ4MmU2ZDcyNQ==",
      "id": "0x46af2f9d85ad2b9d298ff75737fb35d4f4a617e500647cb73e2bbabd82e6d725",
      "title": "BIP-33: Beanstalk Farms H1 2023 Budget",
      "content": "## Proposer\n\nBeanstalk Farms\n\nProposer Wallet: [0x4fe7788deb22c548e57c4e95a365600ed377265b](https://etherscan.io/verifySig/13548)\n\n## Summary\n \n* Mint 400,000 Beans to fund Beanstalk Farms to retain, grow and support a group of core contributors to Beanstalk through the end of Q1 2023;\n* Mint 950,000 Beans to fund Beanstalk Farms through the end of Q2 2023;\n* Mint 500,000 Beans to the Audit Fund; and\n* Maintain the DAO's ability to withhold Beanstalk Farms' Q2 funding after the end of Q1 with an appropriate goverance structure.\n\n## Links\n\n* [BIP-33 GitHub PR](https://github.com/BeanstalkFarms/Beanstalk/pull/285)\n* [Safe Transaction](https://app.safe.global/eth:0xa9bA2C40b263843C04d344727b954A545c81D043/transactions/tx?id=multisig_0xa9bA2C40b263843C04d344727b954A545c81D043_0xb9f048fa4a9d67d829a6998500a4867cd739059ce53455eced205dd19ba7f3cb)\n* GitHub Commit Hash: [c94cf7aecab5175f5697ca2a1494a7df75713bc2](https://github.com/BeanstalkFarms/Beanstalk/pull/285/commits/c94cf7aecab5175f5697ca2a1494a7df75713bc2)\n\n## Introduction\n\nBeanstalk Farms is an independent decentralized development organization of core contributors working on Beanstalk. Beanstalk Farms has historically been funded by the Beanstalk DAO and proposed quarterly budget BIPs that mint Beans to cover operating expenses and compensate contributors. \n\nIn response to the Q1 budget BIP failing to reach quorum, Beanstalk Farms redesigned the budget to cover the first half of 2023 (as opposed to just Q1) to enable core contributors to work towards the following goals:\n\n* Decentralized development: continue to develop a diverse organization without any single points of failure or dependence.\n* Focus and flexibility: deliver high quality output in a timely fashion, while maintaining the flexibility to fund and support a wide variety of unique opportunities related to Beanstalk.\n* Attracting high quality talent: continue to attract and retain high quality talent, which is critical to the success of Beanstalk.\n\n## Q4 2022 Spending and Output\n\nAt the beginning of Q4 on October 1, 2022, the Beanstalk Farms Multisig (BFM) held 160,702 Beans and 190,094 USDC.\n\nThe Q4 2022 Beanstalk Farms budget of 1,000,000 additional Beans was minted per BIP-25 on October 5, 2022 to fund protocol development and support initiatives.\n\nAs of December 31, 2022, the BFM had 419,577 Beans and 139,407 USDC, resulting in a quarterly spend of 741,125 Beans and 50,687 USDC. As of January 31, 2023, the balances in the BFM were 203,194 Beans and 139,012 USDC.\n\n![image](https://arweave.net/M9HA6iMY1dtZaKL-zPiFxRNLi-MBCyJfNu84k4fEWXk)\n\nBeanstalk Farms monthly operations reports:\n\n* [October 2022](https://arweave.net/y5Ub7bqHybRh0RyDsEgd8L-mRRrg8TDuhDNSAHzAGwQ)\n* [November 2022](https://arweave.net/qYboXG9UNoaFTCWrRko19rPmf3_ifOKoOSSbYf2DKZQ)\n* [December 2022](https://arweave.net/SYJv1LonFe-6Eod7IOoeorKOeT9d1JfPBXg-cdFePq8)\n* [January 2023](https://arweave.net/PkUaNh2p9IdTizRbCeRTtV1ErU8Vx0avHLoKHirigYA)\n\n#### Q4 2022 Output\n\nSee the [Arweave upload of BIP-33](https://arweave.net/bEvvSJfuFEhdUPyNMJ8iHUTxyzns0FMUEVFdDsQnzzg#q4-2022-spending-and-output) to read the full description of Beanstalk Farms' Q4 2022 output.\n\n## Current Organization\n\n![image](https://arweave.net/xSPN5_AwLFbwSMMUDYInDdx2jpHe_3sr6jY_DW0nEzA)\n![image](https://arweave.net/wE6g9Tan2ujUdWCKpjaeFlTvNSH9OwuCi5uCXQpCOBM)\n\n## Anticipated H1 2023 Hiring\n\nIn order to execute on Beanstalk Farms' ambitious on-chain ecosystem roadmap, there is significant development work to be done at the protocol level and from a tooling perspective, both for developers and for users. In order to get there in H1 2023, Beanstalk Farms intends to additionally hire (at least):\n\n* 1 full-time Solidity Engineer, who will help build much of the tech in the on-chain roadmap;\n* 1 full-time Subgraph Engineer, who will focus maintaining and upgrading fully-featured subgraphs for Beanstalk, the Bean token, Wells, etc.; and\n* 3 full-time Full Stack Engineers, who will focus on upgrading the Beanstalk UI and building other interfaces to maintain feature parity with all on-chain ecosystem development, including Wells. \n\n## Anticipated H1 2023 Output\n\n#### Security\n\n* Continue coordinating with Immunefi whitehats, the BIC, the BCM and Halborn to respond to issues surfaced in bug reports;\n* Seek to engage at least one more audit firm to continuously audit Beanstalk in addition to Halborn;\n* Seek to set up audit competitions for new BIPs via Code4rena;\n* Continue coordinating with Halborn on BIP audits and improve Beanstalk documentation to better set Halborn and future auditors for success; and\n* Establish community standards for timelines around publishing new code.\n\n#### On-chain Development\n\nSee [this page](https://community.bean.money/roadmap) for a detailed on-chain roadmap.\n\n* Release NatSpec documentation for all functions within Beanstalk, supporting the ability of developers, auditors and whitehats to better and more quickly understand Beanstalk;\n* Standardize Beanstalk’s suite of testing utilities for usage across the ecosystem (i.e., with the Root token);\n* Implement a generalized permit system within Beanstalk (i.e., Tractor);\n* Deploy a BEAN:ETH Well on the Beanstalk-native zero fee AMM;\n* Implement time-weighted average Bean seigniorage distribution in the Silo and bring the Withdrawal timer down to zero;\n* Make Stalk and Seeds liquid;\n* Implement variable Seeds per BDV rewards for assets on the Deposit Whitelist;\n* Facilitate the distribution of external yield from Depositors' non-Bean-yielding assets;\n* Implement a Stalk Gauge System that allows Stalkholders to approve Stalk and Seed rewards for various Deposited assets without the need for a BIP;\n* Create ERC standards for Deposits and Pods;\n* Implement various additional Well functions (such as Curve V2); \n* Continue assisting Root, Paradox and other third parties building on the Beanstalk ecosystem;\n* Explore and implement the beginning stages of a suitable on-chain governance structure; and\n* Explore possible implementations of downside reflexivity for Temperature changes.\n\n#### Middleware\n\n* Reach feature parity between the Bean and Beanstalk subgraphs and Beanstalk;\n* Build a subgraph to index on-chain Well data;\n* Continue development on the Beanstalk SDK (first migrating all existing UI functionality into the SDK, and then extending the SDK’s capabilities related to composing transactions);\n* Begin development of various ecosystem SDKs on top of Pipeline, Tractor and Wells; and\n* Continue to build and maintain various ecosystem bots as Beanstalk, Root, etc. are upgraded and the Beanstalk ecosystem expands.\n\n#### Frontend + Design\n\n* Launch a generalized UI for Wells in tandem with its on-chain deployment;\n* Refactor the UI to condense the Withdraw and Claim steps into one step after the Withdrawal timer is reduced to zero;\n* Reach and maintain feature parity between Beanstalk and the Beanstalk UI, including:\n    * A Pod Market V2 UI;\n    * Dutch auction functionality in the Field;\n    * Generalized flows for \"Claim/Harvest/Rinse/Plant and do X\" (e.g., Rinse and Deposit); \n    * Support for `transferToken` with multiple recipient addresses from Farm or Circulating balances;\n    * Support for \"Claim All\" functionality (Rinse, Harvest and Plant);\n    * A total debt level chart to the Analytics page; \n    * A Barn Raise BeaNFTs to the site;\n* Design and build other interfaces to maintain feature parity with all on-chain ecosystem development, including Wells; and\n* Begin development of a Beanstalk-native transaction analysis platform (i.e., Beanscan).\n\n#### Content, Community and Marketing\n\n* Continue to engage the community on Discord, Twitter and YouTube;\n* Release two new educational videos about Beanstalk;\n* Continue writing the Bi-Weekly Bean and publish a blog post every month;\n* Continue managing the community grant program;\n* Continue hosting weekly community calls; and\n* Continue to release monthly operations reports to increase financial and operational transparency of Beanstalk Farms.\n\n## Budget\n\n#### Q1 2023\n\nWe propose a total of 400,000 Beans are minted to fund Beanstalk Farms through the end of Q1 2023. Combined with funds unspent at the end of Q4 2022, this results in a total available Q1 2023 budget of 819,575 Beans and 139,407 USDC. \n\nBeanstalk Farms is spending approximately 260,000 Beans worth of value per month based on a Q4 2022 average. The Q1 budget, as illustrated below, focuses on fulfilling ongoing operational requirements and does not provide a surplus of funds.\n\n![image](https://arweave.net/qUNXC5iD39ji0YibgVe-58exbf_L9BzkyvgHcKbuekg)\n\n#### Q2 2023\n\nWe also propose a total of 950,000 Beans are minted to fund Beanstalk Farms through the end of Q2 2023, in line with a run rate of 260,000 Beans per month (780,000 Beans per quarter) plus 170,000 Beans primarily intended to enable Beanstalk Farms to hire 3-4 more engineers—see *Anticipated H1 2023 Hiring*. It is better to have budget Beans that can be rolled over into the following quarter’s budget than to not have enough Beans to fund important initiatives. A larger budget also allows Beanstalk Farms to offer development grants to fund various projects in the ecosystem.\n\nMinting the Q2 budget in advance reduces the friction involved in funding Beanstalk Farms. A suitable governance structure will still allow the DAO the opportunity to withhold Q2 funding at its discretion—see *Governance*.\n\n## Audit Fund\n\nWe propose a total of 500,000 Beans are minted to create the Audit Fund. The Audit Fund will be solely dedicated to funding audits of Beanstalk and Beanstalk ecosystem code. The Audit Fund is expected to be used to cover future Halborn audits, a Code4rena audit competition and to potentially engage another smart contract auditing firm.\n\nThe Audit Fund will be custodied by the BFM. All spending from the Audit Fund will require approval through a Beanstalk Farms Budget Proposal (BFBP), and the balance of the Audit Fund will be reported in the Beanstalk Farms Operations Reports.\n\n## Custody\n\nThe funds for Beanstalk Farms budget and the Audit Fund will be custodied by the BFM wallet with keys held by various community members and Publius. We propose the following signers and backup signers for the BFM:\n\nBFM Signers (all current signers)\n\n* Publius\n* Silo Chad\n* guy\n* sweetredbeans\n* mod323\n* aloceros\n* Cujo\n\nThe following serve as backup signers for the BFM, in no particular order:\n\n* Al Bean\n* CanadianBennett\n* MrMochi\n\n## Governance\n\nBeanstalk Farms will continue to utilize the processes for Beanstalk Farms Committee Proposals (BFCP) and Beanstalk Farms Budget Proposals (BFBP), per the processes outlined in BFP-81 and amended in BIP-25. The Beanstalk Farms Committee (BFC) is responsible for oversight of other Beanstalk Farms contributors.\n\nWe propose that the minimum threshold for which a BFBP-C is required be changed from transactions valued at >10,000 Beans or USDC to transactions valued at >25,000 Beans or USDC.\n\nWe propose that the BFM be able to vote on governance proposals using its Stalk at the discretion of the BFC. The BFM will not vote on BFCPs due to the conflict of interest. Note that not all budget Beans are Deposited—see *Incentive Alignment*.\n\nWe propose that the DAO can propose a BOP to disallow Beanstalk Farms from using the 950,000 Beans minted for use in Q2 upon the completion of Q1 (end of March 2023). This preserves the DAO's ability to withhold funding on a quarterly cadence, but reduces the friction involved with funding Beanstalk Farms by minting the Q2 budget upfront. If such a BOP were proposed and approved by the DAO, Beanstalk Farms will burn the 950,000 Beans minted for Q2.\n\n## Responsibilities\n\nSee the [Arweave upload of BIP-33](https://arweave.net/bEvvSJfuFEhdUPyNMJ8iHUTxyzns0FMUEVFdDsQnzzg#responsibilities) to read the full **Responsibilities** section.\n\nBFC members will make every effort to attend DAO meetings regularly and address any questions that arise, but otherwise do not have a duty to respond to specific inquiries within a certain time frame. Ultimately, the BFC and contributors are accountable to the DAO through the selection of BFC members by the DAO in governance.\n\n## Initial Allocations\n\nEach new Beanstalk Farms contributor must have a new individual Snapshot proposal, either via BFCP-A or BFBP-A, utilizing the above processes. Current contributors will only require a Snapshot proposal if their pay rate has increased or role/commitment has significantly changed since the terms of the proposal in effect.\n\nA budget of 15,000 Beans per month will be allocated to the community grant program to reward creators of new Beanstalk-related content that focuses on Beanstalk and its role in the broader DeFi ecosystem. Unused Beans in a month will not roll over to subsequent months, including the unused Beans rolled over to date.\n\n## Incentive Alignment / Competitive Pay\n\nSee the [Arweave upload of BIP-33](https://arweave.net/bEvvSJfuFEhdUPyNMJ8iHUTxyzns0FMUEVFdDsQnzzg#incentive-alignment) to read the full **Incentive Alignment** and **Competitive Pay** sections.\n\n## Contract Changes\n\nNone.\n\n## Beans Minted\n\nThe `init` function on the `InitMint` contract at 0x077495925c17230E5e8951443d547ECdbB4925Bb is called.\n\nWe propose a total of 1,850,000 Beans are minted for the budget and the Audit Fund to the BFM address (0x21DE18B6A8f78eDe6D16C50A167f6B222DC08DF7) upon the execution of BIP-33.\n\n## Effective\n\nImmediately upon commitment.\n",
      "protocol": "beanstalkdaoeth",
      "adapter": "snapshot",
      "proposer": "0x47a473Eb2bDfe6599dac638FFFE0D427d8Ad6888",
      "totalVotes": 268,
      "blockNumber": 16536612,
      "externalUrl": "https://snapshot.org/#/beanstalkdao.eth/proposal/0x46af2f9d85ad2b9d298ff75737fb35d4f4a617e500647cb73e2bbabd82e6d725",
      "startTime": {
        "timestamp": 1675288800
      },
      "endTime": {
        "timestamp": 1675893600
      },
      "startTimestamp": 1675288800,
      "endTimestamp": 1675893600,
      "currentState": "closed",
      "choices": [
        "For",
        "Abstain"
      ],
      "results": [
        {
          "total": 45393964.0,
          "choice": 0
        },
        {
          "total": 862140.9,
          "choice": 1
        }
      ],
      "events": [],
      "type": "single-choice",
      "indexedResult": [
        {
          "total": 45691437.95708196,
          "choice": 0
        },
        {
          "total": 889114.2495437893,
          "choice": 1
        }
      ],
      "summary": "",
      "privacy": "",
      "indexedAt": 1678236144000,
      "txHash": "",
      "quorum": 0,
      "flagged": null,
      "executionArgs": "",
      "executables": "",
      "chainId": null
    },
    {
      "refId": "cHJvcG9zYWw6YmVhbnN0YWxrZGFvZXRoOnNuYXBzaG90OjB4YTIzMTY3NDU3ZWEyYmU2OTM5ZjFhMjk2Y2MxNDM1NzM2NmQ5ZGU5OTVlYjBkMjYxYmNiY2RlYmYxM2JhZDBlOA==",
      "id": "0xa23167457ea2be6939f1a296cc14357366d9de995eb0d261bcbcdebf13bad0e8",
      "title": "BIP-32: Seraph",
      "content": "## Proposer\n\nHalborn, Inc. and the Beanstalk Seraph Committee\n\nHalborn is a team of 100+ award-winning ethical blockchain hackers who focus on securing their clients’ full stack end-to-end. Trusted by Solana, Near, BAYC, Ava Labs and many more. Halborn has completed various security audits of Beanstalk and continues to audit BIPs as they are developed. \n\nSeraph is a non-custodial blockchain security notary (BSN). A BSN is a cybersecurity professional who serves an organization (centralized or decentralized) as a third party witness to the signing of important on-chain actions. A BSN’s main purpose is to deter fraud and prevent attacks.\n\nProposer Wallet: [0xf1a621fe077e4e9ac2c0cefd9b69551db9c3f657](https://etherscan.io/verifySig/13069)\n\n## Summary\n\n* Hire Halborn, Inc. for their blockchain security notary product called Seraph to deter new attacks on the protocol;\n* Pay 10,000 USDC per month for Seraph for 6 months;\n* Form the Beanstalk Seraph Committee (BSC), the group that has discretion over Runbooks for Seraph-protected functions and removing Seraph in cases where it must be removed for the security or censorship resistance of Beanstalk; and\n* Make various updates to Beanstalk governance detailed below, including updating the Beanstalk Community Multisig (BCM) Process, the Beanstalk Immunefi Committee (BIC) Process, the Immunefi Bug Bounty Program and the Beanstalk DAO Disclosures.\n\nNote: On multiple occasions the Arweave upload of BIP-32 is referenced due to the Snapshot character limit—see [the full BIP-32 proposal on Arweave](https://arweave.net/_k2y8gVEOzDtDEj-dx1PKn5IEtKPL6swkVsUf5kwob0).\n\n## Links\n\n* [BIP-32 GitHub PR](https://github.com/BeanstalkFarms/Beanstalk/pull/175)\n* [Safe Transaction](https://app.safe.global/eth:0xa9bA2C40b263843C04d344727b954A545c81D043/transactions/tx?id=multisig_0xa9bA2C40b263843C04d344727b954A545c81D043_0x5b4199067d34a7e1566da32d2dfad9251ccb53c3cde51e8cc56feae359056860)\n* GitHub Commit Hash: [bac39bb8c51e8076c6fe9690ac2fd09c5bdbeeea](https://github.com/BeanstalkFarms/Beanstalk/pull/175/commits/bac39bb8c51e8076c6fe9690ac2fd09c5bdbeeea)\n\n## Problem\n\nSecurity is paramount to Beanstalk's success. Beanstalk is a complex DeFi protocol that can be vulnerable to different attacks that are not always caused by code flaws or detected during audits. The loss associated with DeFi protocol exploits gets bigger day by day. The Beanstalk DAO should seek to avoid another hack as best as possible. \n\nUnder the current Beanstalk governance structure, only a single multisig (the BCM) needs to be compromised in order to corrupt Beanstalk. Implementing Seraph with no other upgrades to Beanstalk governance would make Beanstalk less resistant to censorship. \n\nBeanstalk governance, the BCM Process, the BIC Process, the Immunefi Bug Bounty Program and the Beanstalk DAO Disclosures can all be updated to reflect the current state of Beanstalk and its ecosystem, and in particular the implementation of Seraph. \n\n## Proposed Solution\n\n### Seraph\n\nA governance structure with a separate multisig that can remove Seraph can mitigate this concern and (combined with Seraph) increase the security and censorship-resistance of Beanstalk. We propose implementing Seraph into Beanstalk as an extra line of defense against hacks or other destructive actions to Beanstalk, and incorporate other complementary changes to Beanstalk governance.\n\nWe propose paying 10,000 USDC per month for Seraph for 6 months from the Beanstalk Farms budget.\n\n#### Protected Functions\n\nThe Seraph platform can protect up to 25 of the highest risk smart contract functions embedded in Beanstalk. The Seraph code modifier protects 7 of the highest risk owner functions in Beanstalk:\n\n* `diamondCut`\n* `whitelistToken`\n* `dewhitelistToken`\n* `unpause`\n* `transferOwnership`\n* `createFundraiser`\n* `addUnripeToken`\n\nSeraph provides 24/7/365 services to review, analyze, and permit or reject any calls to these functions according to the appropriate Runbook(s).\n\n#### Runbooks\n\nSeraph notaries are required to process any function calls according to the specific notary Runbooks of rules and procedures.\n\nEach of the 7 Seraph-protected functions has a unique Runbook which establishes the rules and procedures for Seraph notaries to process transactions that call the functions and the priority and risk of each function. The Runbooks for each protected function shall remain confidential between Halborn and the BSC.\n\nThe details about transactions that call protected functions and whether they have been reviewed, approved or rejected by the Seraph notary are publicly viewable via the [Seraph Dashboard](https://www.seraph.co/dashboard/1).\n\n### Beanstalk Seraph Committee\n\nWe propose forming the BSC—an anonymous group of six reputable community members and Beanstalk core contributors. The BSC members were selected by Publius.\n\nThe Beanstalk Seraph Committee Multisig (BSCM) is the only wallet that can remove Seraph from Beanstalk. The BSC members are the only signers on the BSCM. The BSCM is a 4-of-6 multisig deployed using Safe. \n\nThe BSCM cannot call any of the owner functions of Beanstalk—only the BCM can. Publius attests that there is a minority of overlap between the signers on the BSCM and BCM.\n\n#### Responsibilities\n\nSeraph notaries have created the Runbooks in collaboration with the BSC to implement and activate the Seraph protections as effectively and safely as possible. The BSC has approved initial Runbooks for all protected functions. \n\nThe BSC can work with Halborn to update Runbooks at any time, but must sign a transaction verifying the new Runbooks for the change to be valid.\n\nSeraph may be deactivated at any time via BIP. However, in instances where Halborn is unwilling to commit a passed BIP that removes Seraph, or where Seraph must be removed for the security or censorship resistance of Beanstalk, the BSC is responsible for doing so. \n\nOn the Seraph contract, the BSCM can call the `removeSeraph` function that initiates a 24 hour timelock. After the timelock elapses, the BSCM can call the `executeRemoval` function that removes Seraph from Beanstalk.\n\n#### Best Practices\n\n* [BIP-32, Best Practices](https://arweave.net/_k2y8gVEOzDtDEj-dx1PKn5IEtKPL6swkVsUf5kwob0#best-practices)\n\n#### Anonymous Multisig Signers\n\nOff-chain governance introduces significant risks related to security and censorship. The BSCM is designed to mitigate as many of those risks as possible by distributing the multisig keys across reputable community members and Beanstalk core contributors, and collectively implementing and adhering to BSCM best practices.\n\nThe most significant risk associated with off-chain governance is the potential corruption of the BSCM (and BCM). In order to minimize the chances of this, the Signers are anonymous. The anonymous Signers have been selected by Publius. Signers are anonymous to each other as well, apart from Publius.\n\n#### Malicious Key Holder Risk\n\nUnder this structure, it’s important to acknowledge the risk of anonymous key holders conspiring to attack Beanstalk. \n\nIn order to mitigate this attack vector, the BSCM will institute the same process as the BCM with regard to publishing a hashed list of Signers—see [BIP-32, Malicious Key Holder Risk](https://arweave.net/_k2y8gVEOzDtDEj-dx1PKn5IEtKPL6swkVsUf5kwob0#malicious-key-holder-risk).\n\nThe BSC Process can be read [here](https://arweave.net/JNdOXqaAm9jiGKWR3uy6Hsp-45vDKYgcOB8h1OOaL-U).\n\n### Process Amendments\n\n#### Beanstalk Governance\n\nWe propose the following list of changes to Beanstalk governance:\n\n* The Voting Period opens when the Snapshot proposal for a BIP can be voted on and ends after 7 days or once a two-thirds supermajority is reached;\n* A Stalkholder’s vote for a given BIP is counted as their Stalk plus Grown Stalk at the beginning of the Voting Period that still exists (Voting Stalk);\n* If at the end of the Voting Period:\n    * Less than or equal to half of total Voting Stalk votes For the BIP, it fails, or\n    * More than half of total Voting Stalk votes For the BIP, it passes;\n* If at any time 24 hours or more after the beginning and before the end of the Voting Period more than two-thirds of the total Voting Stalk votes For the BIP, the BCM can execute the BIP on-chain;\n* Voting Stalk is also used to count votes in all other Beanstalk governance proposals where Stalkholders vote (i.e., BOPs, BFCPs and BSPs);\n* The proposer must have 0.1% of total Voting Stalk at the end of a Voting Period where Stalkholders vote  (i.e., BOPs, BFCPs and BSPs);\n* Only BIPs can (1) change the Beanstalk protocol, (2) mint Beans and/or (3) change Beanstalk governance; \n* BOPs are proposals for the DAO to agree on processes that do not involve changes that can only be made in BIPs.\n* Voting choices for a BIP are For, Abstain and Against (where Abstain and Against have no effect);\n* Voting choices for a BOP are For and Against;\n* BOPs and BFCP-Bs must have >35% of total Voting Stalk vote For and a majority of participating Voting Stalk vote For at the end of the Voting Period in order to pass; and\n* BFCP-As must have >25% of total Voting Stalk vote For and a majority of participating Voting Stalk vote For at the end of the Voting Period in order to pass.\n\nThe updated Beanstalk governance process can be read in the new Proposals documentation [here](https://arweave.net/VAA0eP2V1hcpOBzTp4hIsn-6ioXrABBB7uiB4ftCQhA).\n\n#### BCM Process\n\nWe propose the following list of changes to the BCM Process:\n\n* Integrate all of the changes included in the above Beanstalk Governance section;\n* Add the `addUnripeToken` and `addFertilizerOwner` functions to the list of owner functions for completion;\n* Require a BIP for non-emergency changes to the m-of-n configuration of the BCM, but allow emergency changes to the m-of-n configuration without a BIP in order to remove rogue Signers before a replacement Signer can be selected;\n* Create significantly more clear and permissionless BIP and BOP proposal processes;\n* Require that written proposals for BIPs have a **Proposer** section that at minimum includes a verified message signature uploaded to Arweave;\n* Document the process for uploading verified message signatures to Arweave for both BIP proposers and BCM Signers;\n* Require that written proposals for BIPs that call `diamondCut` have a **Contract Changes** section that at minimum lists the facets and Init contract addresses that `diamondCut` calls; and\n* Require that written proposals for BIPs that call `diamondCut` have a **Beans Minted** section that described the number of Beans minted by the execution of the `diamondCut`; \n* Make it clear that BIPs may have multiple transactions if made explicit in the written proposal;\n* Add relevant BCM processes for verifying and executing Beanstalk Immunefi Responses (BIRs);\n* Remove the requirement for Signers to rotate wallets every 2 months;\n* More thoroughly document the processes for BCM Signers to verify and sign transactions;\n* Specify that in cases where functions must be removed immediately to protect Beanstalk, BCM Signers are not required to submit a verified message signature on Arweave; and\n* Specify that in no instance shall the majority of the BCM keys be held by Beanstalk Farms contributors.\n\nThe updated BCM Process can be read [here](https://arweave.net/nWv_zHKZ37iOHSs1vOI544mH0KuCZSJqpTtZSgwCfbM). The guides for uploading verified message signatures to Arweave can be read [here](https://arweave.net/IVz36DjAQZX7S6luEz6nLO-tAu8Y1AKLds1sYz_Oats).\n\n#### BIC Process\n\n* [BIP-32, BIC Process](https://arweave.net/_k2y8gVEOzDtDEj-dx1PKn5IEtKPL6swkVsUf5kwob0#bic-process)\n\nThe updated BIC Process can be read [here](https://arweave.net/1Q5InCy9IIzjJ9XYHgIBbSc2xHYhaEO1op9AFzT71Ts).\n\n#### Immunefi Bug Bounty Program\n\n* [BIP-32, Immunefi Bug Bounty Program](https://arweave.net/_k2y8gVEOzDtDEj-dx1PKn5IEtKPL6swkVsUf5kwob0#immunefi-bug-bounty-program)\n\nThe updated Immunefi Bug Bounty Program can be read [here](https://arweave.net/iVCs28wRq-wmYlRCjBbsEkyuDlmefNLBqrxR_mY4gCI). \n\n#### Disclosures \n\n* [BIP-32, Disclosures](https://arweave.net/_k2y8gVEOzDtDEj-dx1PKn5IEtKPL6swkVsUf5kwob0#disclosures)\n\nThe updated Beanstalk DAO Disclosures can be read [here](https://arweave.net/Hp2LJYHm2jCjQCScSMHNMMROE1X0A19rlXU8N1E-5kM).\n\n## Rationale\n\n### Seraph\n\nTechnical analysis of attacks on DeFi protocols over the last 12 months indicate that both the volume and loss-value of attacks on protocols are increasing substantially.\n\nWith Seraph, Beanstalk can deter additional attacks on the protocol and disincentivize attackers by making it more difficult and costly to conduct an attack. The fee for Seraph is substantially lower than the projected operational and reputational costs associated with an additional attack. By activating Seraph, Beanstalk assets and contracts are protected such that complex attacks may be prevented before they can be executed on-chain.\n\nAs Beanstalk returns to on-chain governance, the Beanstalk DAO and BSC can continue to work with Seraph as an extra layer of defense. \n\n### Beanstalk Seraph Committee\n\nImplementing Seraph with no other upgrades to Beanstalk governance would make Beanstalk less resistant to censorship. By implementing Seraph and alongside the formation of the BSC, both the BCM and the BSCM must be compromised in order to corrupt Beanstalk, without compromising censorship resistance before on-chain governance is able to be reimplemented. \n\nRunbooks for each protected function remain confidential between Halborn and the BSC in order to mitigate potential manipulation of Beanstalk by malicious actors.\n\nBSCM Signers are anonymous to minimize the potential corruption of the BSCM from an outside party. \n\n### Process Amendments\n\nThe other proposed changes to Beanstalk governance (such as the introduction of Voting Stalk, the requirement to meet the proposer Stalk threshold at the end of the Voting Period, etc.) all complement or supplement the introduction of Seraph. \n\nSee [BIP-32, Process Amendments](https://arweave.net/_k2y8gVEOzDtDEj-dx1PKn5IEtKPL6swkVsUf5kwob0#process-amendments) to read the rationale for the remaining proposed process amendments.\n\n## Contract Changes\n\n* [BIP-32, Contract Changes](https://arweave.net/_k2y8gVEOzDtDEj-dx1PKn5IEtKPL6swkVsUf5kwob0#contract-changes)\n\n## Beans Minted\n\nNone.\n\n## Effective\n\nEffective immediately upon commit.\n",
      "protocol": "beanstalkdaoeth",
      "adapter": "snapshot",
      "proposer": "0x47a473Eb2bDfe6599dac638FFFE0D427d8Ad6888",
      "totalVotes": 123,
      "blockNumber": 16307762,
      "externalUrl": "https://snapshot.org/#/beanstalkdao.eth/proposal/0xa23167457ea2be6939f1a296cc14357366d9de995eb0d261bcbcdebf13bad0e8",
      "startTime": {
        "timestamp": 1672527600
      },
      "endTime": {
        "timestamp": 1673132400
      },
      "startTimestamp": 1672527600,
      "endTimestamp": 1673132400,
      "currentState": "closed",
      "choices": [
        "For",
        "Abstain"
      ],
      "results": [
        {
          "total": 23093694.0,
          "choice": 0
        },
        {
          "total": 2664837.5,
          "choice": 1
        }
      ],
      "events": [],
      "type": "single-choice",
      "indexedResult": [
        {
          "total": 23093696.617372427,
          "choice": 0
        },
        {
          "total": 2664837.3841928197,
          "choice": 1
        }
      ],
      "summary": "",
      "privacy": "",
      "indexedAt": 1678236144000,
      "txHash": "",
      "quorum": 0,
      "flagged": null,
      "executionArgs": "",
      "executables": "",
      "chainId": null
    },
    {
      "refId": "cHJvcG9zYWw6YmVhbnN0YWxrZGFvZXRoOnNuYXBzaG90OjB4MTg0YzQ1OGNmM2Y2OWY0Y2I2MmJmOTJlOWYzMWY4NzNhYTg1MmFlYTNmOWQ2MDExNmU5YzZkZDlhZmE0ZDhmZg==",
      "id": "0x184c458cf3f69f4cb62bf92e9f31f873aa852aea3f9d60116e9c6dd9afa4d8ff",
      "title": "BIP-31: Beanstalk Farms Q1 2023 Budget",
      "content": "## Proposer\n\nBeanstalk Farms\n\nProposer Wallet: [0x4fe7788deb22c548e57c4e95a365600ed377265b](https://etherscan.io/verifySig/12932)\n\n## Summary\n\n* Mint 750,000 Beans to fund Beanstalk Farms to retain, grow and support a group of core contributors to Beanstalk through the end of Q1 2023; and\n* Mint 250,000 Beans to the Audit Fund.\n\n## Links\n\n* [BIP-31 GitHub PR](https://github.com/BeanstalkFarms/Beanstalk/pull/176)\n* [Safe Transaction](https://app.safe.global/eth:0xa9bA2C40b263843C04d344727b954A545c81D043/transactions/tx?id=multisig_0xa9bA2C40b263843C04d344727b954A545c81D043_0x5b4199067d34a7e1566da32d2dfad9251ccb53c3cde51e8cc56feae359056860)\n* GitHub Commit Hash: [91554e8ebeb9237eb83ecbfa5451e170bdcc3c15](https://github.com/BeanstalkFarms/Beanstalk/pull/176/commits/91554e8ebeb9237eb83ecbfa5451e170bdcc3c15)\n\n## Introduction\n\nBeanstalk Farms is an independent decentralized development organization of core contributors working on Beanstalk. Beanstalk Farms has historically been funded by the Beanstalk DAO and proposed quarterly budget BIPs that mint Beans to cover operating expenses and compensate contributors. \n\nBeanstalk Farms designed the Q1 2023 budget to enable core contributors to work towards the following goals:\n\n* Decentralized development: continue to develop a diverse organization without any single points of failure or dependence.\n* Focus and flexibility: deliver high quality output in a timely fashion, while maintaining the flexibility to fund and support a wide variety of unique opportunities related to Beanstalk.\n* Attracting high quality talent: continue to attract and retain high quality talent, which is critical to the success of Beanstalk.\n\n## Q4 2022 Spending and Output\n\nAt the beginning of the quarter on October 1, 2022, the Beanstalk Farms Multisig (BFM) held 160,702 Beans and 190,094 USDC.\n\nThe Q4 2022 Beanstalk Farms budget of 1,000,000 additional Beans was minted per BIP-25 on October 5, 2022 to fund protocol development and support initiatives.\n\nAs of December 31, 2022, the BFM had 419,577 Beans and 139,407 USDC, resulting in a quarterly spend of 741,125 Beans and 50,687 USDC.\n\n![image](https://arweave.net/um10FcW3xG03_wpDLcDQp0N4cgw1NCQzMn8_7_qP_IM)\n\nBeanstalk Farms monthly operations reports:\n\n* [October 2022](https://arweave.net/y5Ub7bqHybRh0RyDsEgd8L-mRRrg8TDuhDNSAHzAGwQ)\n* [November 2022](https://arweave.net/qYboXG9UNoaFTCWrRko19rPmf3_ifOKoOSSbYf2DKZQ)\n\nThe output of Beanstalk Farms during Q4 2022 includes (but is not limited to):\n\n#### Security\n\n* Triaged 25+ bug reports from Immunefi whitehat hackers and coordinated with the BIC, Halborn and the BCM on, and developed the fixes that were implemented in, EBIP-3, EBIP-4, EBIP-5 and EBIP-6;\n* Transparently communicated bug bounty payouts to the DAO via BIR-1, BIR-2, BIR-3 and BIR-4;\n* Coordinated with the BCM on the fix in EBIP-7;\n* Retained Halborn to complete audits of BIP-29, BIP-30, the upcoming Sunrise Improvements BIP, Pipeline and Depot, the Root token, Paradox and the Beanstalk UI; and\n* Formed the Beanstalk Seraph Committee that worked extensively with Halborn to develop Runbooks for each Seraph-protected function proposed in the Seraph BIP.\n\n#### On-chain Development\n\n* Implemented BIP-29, which:\n    * Implemented V2 Pod Orders and Listings such that the price per Pod is priced as a function of place in the Pod Line;\n    * Gave Farmers the ability to delegate use of their Farm balances to other contracts and added EIP-2612 permit support to Farm balances; and\n    * Added EIP-2612 permit support for Silo Deposits;\n* Deployed Pipeline, a sandbox contract that can execute an arbitrary number of actions within the EVM from an EOA in a single transaction;\n* Deployed Depot, a standalone wrapper contract for Pipeline;\n* Coordinated with Root and Paradox on the launch of their respective contracts;\n* Implemented BIP-30, which:\n    * Added Clipboard functionality to the `farm` function;\n    * Added a Depot Facet for Farmers to access Pipeline directly through Beanstalk; and\n    * Added EIP-2612 permit support for ERC-20 tokens and EIP-4494 permit support ERC-721 tokens in Circulating balances;\n* Developed the Sunrise Improvements BIP, which:\n    * Implements a Dutch auction for Soil that should reduce the effective Temperature during times of excess demand for Soil; and\n    * Optimizes the incentive reward and interoperability of the `sunrise` function; \n* Developed the beginning of Silo V3, which is currently under audit and planned to:\n    * Facilitate instant Withdrawals from the Silo; and\n    * Issue Earned Beans in a time-weighted fashion; and\n* Continued development of Wells, including a future BEAN:ETH Well.\n\n#### Middleware\n\n* Launched and open sourced a beta version of the Beanstalk SDK that facilitated the launch of the Root UI;\n* Overhauled the Beanstalk and Bean subgraphs, along with a deployment of the Beanstalk Subgraph to the decentralized Graph Network; and\n* Coordinated with Root and Paradox on the deployment of several bots for Root minting/redemptions, Paradox betting, etc.\n\n#### Frontend + Design\n\n* Continuously pushed updates to the Beanstalk UI, including:\n    * A historical view of Pod Market transactions;\n    * Various updates to the Governance pages;\n    * Security improvements recommended by Halborn;\n    * A new Balances page;\n    * A new Analytics site;\n    * Seasonal themes for the UI; and\n* Began design and development of:\n    * A generalized Markets Trading UI intended to support full functionality implemented in BIP-29 and other markets in the future;\n    * Generalized flows for “Claim/Harvest/Rinse and do X” (Rinse and Deposit, etc.);\n    * A Master Component Library for use by Beanstalk Farms and other members of the Beanstalk ecosystem; and\n* Onboarded two experienced part-time product designers to Beanstalk Farms.\n\n#### Content, Community and Marketing\n\n* Coordinated with Root and Paradox on their respective mainnet launches;\n* Continued improvements and additions to the Farmers’ Almanac, in addition to maintenance;\n* Published the Bi-Weekly Bean and A Framework for Stablecoins blog post;\n* Created the Agronomics Handbook for developers in the Beanstalk ecosystem;\n* Began redocumenting the entirety of Beanstalk to make it more accessible to developers, auditors and whitehats;\n* Created the Community Resource Hub to share various community resources like past meeting notes, Immunefi bug reports, etc.;\n* Continued the community grant program and issued multiple grants (including the funding of AudioFarms, which produces RadioDeFi, The Bean Pod and Beanthoven songs);\n* Hosted twice a week calls with the community and Publius to answer questions about Beanstalk, future plans, etc;\n* Engaged with marketing firms to land news articles about Beanstalk in crypto-native news publications;\n* Continued to retain and work closely with TASC Group around media coverage of Beanstalk;\n* Hired a marketing manager; and\n* Released monthly operations reports to increase financial and operational transparency of Beanstalk Farms and Bean Sprout.\n\n## Current Organization\n\n![image](https://arweave.net/3bE4nHokHolpYTsW-21oZei-RUWIzfz68ozeK9bsR3k)\n![image](https://arweave.net/vZOdamrZsjWmvWHbbxRZ7SUM_jAC8cEiNpb_qah_peE)\n\n## Anticipated Q1 2023 Output\n\n#### Security\n\n* Continue coordinating with Immunefi whitehats, the BIC, the BCM and Halborn to respond to issues surfaced in bug reports;\n* Seek to engage at least one more audit firm to continuously audit Beanstalk in addition to Halborn;\n* Seek to setup audit competitions for new BIPs via Code4rena;\n* Continue coordinating with Halborn on BIP audits and improve Beanstalk documentation to better set Halborn and future auditors for success; and\n* Establish community standards for timelines around publishing new code.\n\n#### On-chain Development\n\n* Release NatSpec documentation for all functions within Beanstalk, supporting the ability of developers, auditors and whitehats to better and more quickly understand Beanstalk;\n* Standardize Beanstalk’s suite testing utilities for usage across the ecosystem (i.e., with the Root token);\n* Implement a generalized permit system within Beanstalk (i.e., Tractor);\n* Deploy a BEAN:ETH Well on the Beanstalk-native zero fee AMM;\n* Implement time-weighted average Bean seigniorage distribution in the Silo and bring the Withdrawal timer down to zero;\n* Continue assisting Root, Paradox and other third parties building on the Beanstalk ecosystem; and\n* Explore a suitable on-chain governance structure.\n\n#### Middleware\n\n* Reach feature parity between the Bean and Beanstalk subgraphs and Beanstalk;\n* Continue development on the Beanstalk SDK (first migrating all existing UI functionality into the SDK, and then extending the SDK’s capabilities related to composing transactions); and\n* Continue to build and maintain various ecosystem bots as Beanstalk, Root, etc are upgraded and the Beanstalk ecosystem expands.\n\n#### Frontend + Design\n\n* Open source the Beanstalk UI;\n* Launch a UI for BEAN:ETH Wells in tandem with its on-chain deployment;\n* Refactor the UI to condense the Withdraw and Claim steps into one step after the Withdrawal timer is reduced to zero;\n* Reach and maintain feature parity between Beanstalk and the Beanstalk UI, including:\n    * A Pod Market V2 UI;\n    * Generalized flows for “Claim/Harvest/Rinse/Plant and do X” (e.g., Rinse and Deposit); \n    * Support `transferToken` to multiple recipient addresses from Farm or Circulating balance;\n    * Support “Claim All” functionality (Rinse, Harvest and Plant);\n    * Add a total debt level chart to the Analytics page; and\n    * Add Barn Raise BeaNFTs to the site; and\n* Hire more frontend engineers.\n\n#### Content, Community and Marketing\n\n* Continue to engage the community on Discord, Twitter and YouTube;\n* Release two new educational videos about Beanstalk;\n* Continue writing the Bi-Weekly Bean and publish a blog post every month;\n* Continue managing the community grant program;\n* Continue hosting weekly community calls;\n* Continue to retain and work closely with TASC Group around media coverage of Beanstalk; and \n* Continue to release monthly operations reports to increase financial and operational transparency of Beanstalk Farms and Bean Sprout.\n\n## Budget\n\nWe propose a total of 750,000 Beans are minted to fund Beanstalk Farms through the end of Q1 2023. 419,577 Beans in the BFM remain unspent at the end of Q4 2022, resulting in a total available budget of 1,169,577 Beans.\n\n139,407 USDC also remains in custody of the BFM as of December 31, 2022.\n\nSee the [Arweave upload of BIP-31](https://arweave.net/-ShxaXdKfZJaHTbcRzws0bm4bnbR612ByqwN6sG-eFI) to read the remainder of this section.\n\n![image](https://arweave.net/1gv9mARkG5w4LKbVuFIzrqJ6Rxo_aVeENAtEI-yDikc)\n\n## Audit Fund\n\nWe propose a total of 250,000 Beans are minted to create the Audit Fund. The Audit Fund will be solely dedicated to funding audits of Beanstalk and Beanstalk ecosystem code. The Audit Fund is expected to be used to cover future Halborn audits, a Code4rena audit competition and to potentially engage another smart contract auditing firm.\n\nThe Audit Fund will be custodied by the BFM. All spending from the Audit Fund will require approval through a Beanstalk Farms Budget Proposal (BFBP), and the balance of the Audit Fund will be reported in the Beanstalk Farms Operations Reports.\n\n## Custody\n\nThe funds for Beanstalk Farms budget and the Audit Fund will be custodied by the BFM wallet with keys held by various community members and Publius. We propose the following signers and backup signers for the BFM:\n\nBFM Signers (all current signers)\n\n* Publius\n* Silo Chad\n* guy (fka austin)\n* sweetredbeans\n* mod323\n* aloceros\n* Cujo\n\nThe following serve as backup signers for the BFM, in no particular order:\n\n* Al Bean\n* CanadianBennett\n* MrMochi\n\n## Governance\n\nBeanstalk Farms will continue to utilize the processes for Beanstalk Farms Committee Proposals (BFCP) and Beanstalk Farms Budget Proposals (BFBP), per the processes outlined in BFP-81. The Beanstalk Farms Committee (BFC) is responsible for oversight of other Beanstalk Farms contributors.\n\nWe propose that the minimum threshold for which a BFBP-C is required be changed from transactions valued at >10,000 Beans or USDC to transactions valued at >20,000 Beans or USDC.\n\nWe propose that the BFM be able to vote on governance proposals using its Stalk at the discretion of the BFC. The BFM will not vote on BFCPs due to the conflict of interest. Note that not all budget Beans are Deposited—see *Incentive Alignment*.\n\n## Responsibilities\n\nSee the [Arweave upload of BIP-31](https://arweave.net/-ShxaXdKfZJaHTbcRzws0bm4bnbR612ByqwN6sG-eFI) to read the full **Responsibilities** section.\n\nBFC members will make every effort to attend DAO meetings regularly and address any questions that arise, but otherwise do not have a duty to respond to specific inquiries within a certain time frame. Ultimately, the BFC and contributors are accountable to the DAO through the selection of BFC members by the DAO in governance.\n\n## Initial Allocations\n\nEach new Beanstalk Farms contributor must have a new individual Snapshot proposal, either via BFCP-A or BFBP-A, utilizing the above processes. Current contributors will only require a Snapshot proposal if their pay rate has increased or role/commitment has significantly changed since the terms of the proposal in effect.\n\nA budget of 15,000 Beans per month will be allocated to the community grant program to reward creators of new Beanstalk-related content that focuses on Beanstalk and its role in the broader DeFi ecosystem. Unused Beans in a month will not roll over to subsequent months, including the unused Beans rolled over throughout Q3 and Q4 2022.\n\n## Incentive Alignment / Competitive Pay\n\nSee the [Arweave upload of BIP-31](https://arweave.net/-ShxaXdKfZJaHTbcRzws0bm4bnbR612ByqwN6sG-eFI) to read the full **Incentive Alignment** and **Competitive Pay** sections.\n\n## Contract Changes\n\nNone.\n\n## Beans Minted\n\nThe `init` function on the `InitMint` contract at 0x077495925c17230E5e8951443d547ECdbB4925Bb is called.\n\nWe propose a total of 1,000,000 Beans are minted for the budget and the Audit Fund to the BFM address (0x21DE18B6A8f78eDe6D16C50A167f6B222DC08DF7) upon the execution of BIP-31.\n\n## Effective\n\nImmediately upon commitment.\n",
      "protocol": "beanstalkdaoeth",
      "adapter": "snapshot",
      "proposer": "0x47a473Eb2bDfe6599dac638FFFE0D427d8Ad6888",
      "totalVotes": 137,
      "blockNumber": 16307756,
      "externalUrl": "https://snapshot.org/#/beanstalkdao.eth/proposal/0x184c458cf3f69f4cb62bf92e9f31f873aa852aea3f9d60116e9c6dd9afa4d8ff",
      "startTime": {
        "timestamp": 1672527600
      },
      "endTime": {
        "timestamp": 1673132400
      },
      "startTimestamp": 1672527600,
      "endTimestamp": 1673132400,
      "currentState": "closed",
      "choices": [
        "For",
        "Abstain"
      ],
      "results": [
        {
          "total": 23855400.0,
          "choice": 0
        },
        {
          "total": 4281073.5,
          "choice": 1
        }
      ],
      "events": [],
      "type": "single-choice",
      "indexedResult": [
        {
          "total": 23855401.35446943,
          "choice": 0
        },
        {
          "total": 4281073.9077354595,
          "choice": 1
        }
      ],
      "summary": "",
      "privacy": "",
      "indexedAt": 1678236144000,
      "txHash": "",
      "quorum": 0,
      "flagged": null,
      "executionArgs": "",
      "executables": "",
      "chainId": null
    },
    {
      "refId": "cHJvcG9zYWw6YmVhbnN0YWxrZGFvZXRoOnNuYXBzaG90OjB4YWI5M2MzODU3YWY5OThjMGJmNzAwNDlmYzgyY2YxOTE0MDdhNTJkOWE3MTBjZTdhZDFhNmRkYjdhN2IzNjAxYw==",
      "id": "0xab93c3857af998c0bf70049fc82cf191407a52d9a710ce7ad1a6ddb7a7b3601c",
      "title": "BOP-2: Increase and Revisit Bounty for April Governance Exploit",
      "content": "## Proposer\n\nSync, in collaboration with [Hats Finance](https://hats.finance/), led the ideation and compilation of this Beanstalk Operations Proposal (BOP). Following its extensive deliberation within the Beanstalk community, it is being proposed for the Beanstalk DAO’s consideration, to affirm its collective agreement to attempt to achieve a resolution of the April exploit if possible. \n\n**Proposer Wallet**: [0x9c52dc78bd84007bf63987806f0aeeece0ef14a6](https://etherscan.io/verifySig/12445)\n\n## Summary\n\nIncrease the bounty for Beanstalk's April exploit from 10% to 40% and revisit it formally via the use of an \"Ethical Return\" smart contract that could facilitate a resolution of the incident. See the “Proposed Solution” section below.\n\nIn accordance to [BFP-81](https://snapshot.org/#/beanstalkfarms.eth/proposal/0xa24c368f08093b8a5e27c0b3ae9296eb60272cddc8882434b02a86152d903e59), this proposal is classified as a BOP. As noted, the purpose of a BOP is for the “DAO voting on things other than protocol changes.\" Since this proposal does not involve a protocol code change to Beanstalk itself, it is thus considered a BOP.\n\n## Quorum\n\nQuorum for a BOP is >35% of the Stalk supply participating in the vote and voting “For.”\n\n## Problem\n\nBeanstalk suffered a governance exploit on April 17, 2022 that netted the exploiter about $77M in non-Beanstalk assets (roughly the value of the 24,830 ETH taken at the time):[ https://etherscan.io/tx/0xcd314668aaa9bbfebaf1a0bd2b6553d01dd58899c508d4729fa7311dc5d33ad7](https://etherscan.io/tx/0xcd314668aaa9bbfebaf1a0bd2b6553d01dd58899c508d4729fa7311dc5d33ad7) \n\nBeanstalk Farms offered the exploiter 10% as a bounty after the incident. However, the exploiter did not engage the Beanstalk Farms team on the offer:[ https://twitter.com/BeanstalkFarms/status/1516156014264938501](https://twitter.com/BeanstalkFarms/status/1516156014264938501) \n\nBeanstalk Farms then offered a bounty to any group that would be able to recover the exploited funds. The offered bounty was 10% of the recovered funds:[ https://twitter.com/BeanstalkFarms/status/1518624220564975616](https://twitter.com/BeanstalkFarms/status/1518624220564975616) \n\nPer community updates from the Beanstalk Farms team, the current information they have from analytics firms is the stolen ETH still remains in Tornado Cash. \n\nRecently, Mango Markets was exploited for $114M. However, the exploiter engaged their DAO and ultimately returned $67M, keeping $47M for himself and his team (about 40%). See:[ https://www.coindesk.com/business/2022/10/15/114m-mango-markets-exploiter-outs-himself-returns-most-of-the-money/](https://www.coindesk.com/business/2022/10/15/114m-mango-markets-exploiter-outs-himself-returns-most-of-the-money/) \n\nConsidering the closure of the recent Mango Markets exploit, Beanstalk should revisit the April incident and attempt to recover the exploited ETH by offering the exploiter a higher bounty.\n\n## Proposed Solution\n\nIncrease the offered bounty to 40%, akin to Mango Markets, such that Beanstalk would retain 60% of the returned ETH/funds as its recovered amount (58.2% net after deducting 3% reward - see “Proposer Reward” section below). \n\nSince the exploited ETH appears to still be in Tornado Cash, there is a chance the exploiter may resurface if a higher offer is made.\n\nThe proposed solution involves the kick off of the work stream described below:\n\nThe transfer of ETH can be facilitated via an Ethical Return smart contract developed by the Hats Finance team. Beanstalk Farms can deploy it after it is audited by Halborn and convey it via public communication channels to the hacker (via his wallet, on Twitter, etc.) \n\nIf the exploiter is not cooperative or responsive, white hats in the Hats Finance network and beyond will also be incentivized to dig into the data surrounding the April exploit and find weak links, in hopes of facilitating the return of the funds to the Ethical Return contract themselves. In such a scenario, a white hat hacker would receive the 40% bounty instead.\n\n## Technical Rationale\n\nHats Finance has supported Temple DAO with their attempt to resolve the recent $2.5M exploit of Stax Finance, whereby they facilitated a bounty offer to the exploiter via an [Ethical Return](https://github.com/hats-finance/ethical-return) smart contract:[ https://twitter.com/HatsFinance/status/1580974400182005760](https://twitter.com/HatsFinance/status/1580974400182005760) \n\nHats Finance will provide guidance to Beanstalk Farms on the contract it offered to Temple DAO. Hats Finance will customize the contract to include a tipping mechanism into it, whereby their reward will be sent to the Hats Finance wallet specified as the tipping address therein, only upon a recovery of funds by Beanstalk (see “Proposer Reward” section below). The Beanstalk Farms team can subsequently have the contract audited by Halborn via its ongoing retainer agreement with them before deploying it. Beanstalk Farms will specify its beneficiary address for any recovered funds for Beanstalk, which will be coded into the Ethical Return contract. Hats Finance will be available to assist and coordinate with Beanstalk Farms on this, as well.\n\nThe Ethical Return contract has previously been audited by the Hats Finance security team, who specialize as auditors themselves. Ahead of its audit by Halborn, Beanstalk Farms can also deploy the contract to testnet and test it with a beneficiary address they choose to define therein.\n\nIn deploying the Ethical Return contract, an understanding is agreed to in advance, whereby the Beanstalk DAO will withhold all claims against the exploiter if the total amount of funds returned to the contract will be equal to or higher than 99% of the stolen funds from the April exploit (at least 24,580 ETH). Alternatively, if a white hat hacker is able to retrieve the stolen funds and return the funds to the contract, they would receive the 40% bounty instead of the exploiter.\n\n## Economic Rationale\n\nWhile there is no guarantee the higher bounty offer to the exploiter will work, this proposal offers a possible closure for them, and to thus recoup at least something for the Beanstalk DAO as such.\n\nPlease note that how any recovered ETH/funds would be handled by Beanstalk Farms on behalf of Beanstalk users is beyond the scope of this BOP and would have to be decided on separately by the Beanstalk community in a subsequent governance proposal to the Beanstalk DAO. \n\nIt is recommended that Beanstalk Farms consult with legal experts ahead of any recovery of funds from the April exploit, to assess its options on how to best handle such a recovery for its users, in consideration of OFAC’s specific licensing request [guidance](https://home.treasury.gov/policy-issues/financial-sanctions/faqs/added/2022-09-13) for “transactions involving Tornado Cash that were initiated prior to its designation on August 8, 2022 but not completed by the date of designation.”\n\nIn general, by voting for this BOP, Beanstalk DAO members accept upfront that upon the recovery of any funds, the assets underlying [Unripe Assets](https://docs.bean.money/almanac/farm/barn#unripe-assets) will be recapitalized, since Unripe Assets represent liquidity taken from Silo Members in the April governance exploit. The manner in which a recapitalization would be facilitated as such may vary depending on when a recovery is achieved, the state of Beanstalk Protocol and overall market conditions at that time, and associated technical considerations that the Beanstalk Farms team may then need to make. \n\nTo ensure Beanstalk Farms is afforded sufficient time to evaluate its options after a recovery scenario, it will have up to fourteen days to propose a draft governance proposal on how the recapitalization may proceed. The draft governance proposal will then be shared by Beanstalk Farms for comments with the Beanstalk community in its Discord ahead of a formal vote by the DAO. Additionally, ahead of such a hypothetical recovery scenario, the Beanstalk community is welcome to share its input on this topic in the dedicated discussion channel already established for BOP-2.\n\n## Proposer Reward\n\nThe reward will correspond to 3% of Beanstalk’s recovered ETH/funds, to be split equally between Hats Finance, Sync, and Beanstalk Farms in the event of a recovery.\n\nSeparately, to cover the cost of an audit of the Ethical Return contract by Halborn, the Beanstalk Farms team may spend Beans or USDC, as needed, from its approved budgets if this proposal passes. In the event of a recovery of funds, Beanstalk Farms may also allocate Beans or USDC from its approved budgets for work on how to best handle such a recovery for Beanstalk users, as detailed in the “Economic Rationale” section above. \n\nConsequently, no Beans will be minted upfront with this proposal. Note that Beanstalk Farms is already afforded the flexibility of being able to use its approved budgets on expenditures outside of the scope of contributor pay, as described under the [BFBP-C](https://docs.bean.money/governance/proposals#bfbp) section in Beanstalk’s Farmers Almanac documentation.\n\nNeither Hats Finance nor Sync will receive any upfront payment for advancing this proposal, and will only be rewarded per below if Beanstalk recovers ETH/funds, either directly via the Ethical Return contract, or via some other manner as a result of the higher bounty proposed by this BOP.\n\nNote this proposed reward is less than the 10% reward that was offered by Beanstalk Farms on April 25th via the above-referenced tweet to any group that facilitated a recovery of funds shortly after the exploit, to be shared equally among all parties. Thus, Beanstalk would keep the remaining portion after accounting for the 40% offered bounty, such that its net recovered amount would equal 58.2% of the ETH/funds sent back to the Ethical Return smart contract.\n\nHats Finance will be allocated 1% of the recovered ETH/funds for developing the Ethical Return contract, providing guidance to the Beanstalk Farms development team on the deployment of the Ethical Return contract, and for helping drive awareness of the recovery initiative among white hats in its network and beyond through its various communications and social media channels.\n\nSync will be allocated 1% of the recovered ETH/funds for originating this collaboration, securing the support of the Hats Finance team without any upfront fee for their services, proposing the idea to the Beanstalk community for discussion, and leading the compilation of the BOP from its initial draft to its final form in coordination with the Hats Finance team. \n\nLastly, Beanstalk Farms will be allocated 1% of the recovered ETH/funds for assuming responsibility for the deployment of the Ethical Return contract, the custody of recovered funds in the event a recovery is achieved, and its subsequent handling of such a recovery for Beanstalk users.\n\n## Distribution of Rewards\n\nThe reward for Hats Finance will be set in the Ethical Return contract. Hats Finance will receive their reward as ETH from the Ethical Return contract to their designated wallet address after any amount of ETH/funds are recovered by Beanstalk.\n\nThe reward for Sync will be issued as a corresponding amount of Beans, to be minted and distributed by Beanstalk Farms as a Silo deposit to his designated wallet address within seventy-two hours after any amount of ETH/funds are recovered by Beanstalk, to equal the reward USD value at the time of its distribution to him.\n\nThe reward for Beanstalk Farms will be distributed as ETH or a corresponding amount of minted Beans, per their preference.\n\nIn sum, this is a balanced and mutually beneficial reward distribution arrangement that fosters interest in the success of Beanstalk while considering the feedback of the Beanstalk community.\n\nIn the event that a white hat hacker in the Hats Finance network or beyond is able to retrieve the exploited funds, then they can return the ETH/funds to the Ethical Return smart contract and retain 40% as a white hat bounty.\n\nAssuming, for example, that 99% of the 24,830 ETH taken in the April exploit is returned to the Ethical Return contract (at least 24,580 ETH), here is a breakdown of how it would be allocated:\n\n1. The exploiter or a white hat hacker that returns the ETH to the Ethical Return contract would receive a 40% bounty back to their address directly via the Ethical Return contract = 9,832 ETH.\n\n2. The beneficiary address designated by Beanstalk Farms to be the recipient of recovered funds would recover 60% for Beanstalk users directly via the Ethical Return contract = 14,748 ETH.\n\n3. Hats Finance would receive 1% of the recovered ETH/funds via the Ethical Return contract to their designated wallet address, equal to 147.48 ETH.\n\n4. Sync would separately receive 1% of the recovered ETH/funds via minted Beans distributed to him as a Silo deposit linked to his designated wallet address by Beanstalk Farms within seventy-two hours of a recovery, equal to the USD value of 147.48 ETH at the time of its distribution to him.\n\n5. Beanstalk Farms would receive 1% of the recovered ETH/funds as either ETH or minted Beans, per their preference, equal to 147.48 ETH or its USD value at the time of its distribution to them.\nThus, after deducting the value of 442.44 ETH for the three above mentioned rewards, Beanstalk would recover 14,305.56 ETH, equal to a net of 58.2% of the 24,580 ETH returned to the Ethical Return contract.\nAgain, the above hypothetical breakdown assumes a recovery is achieved, and these numbers may vary depending on how much, if any, ETH/funds are ultimately recovered.\n\n## Beans Minted\n\nNone.\n\n## Effective\n\nEffective upon commit, and valid through at least the end of 2023 to ensure sufficient time is afforded to white hats to potentially achieve a resolution of this matter in the event that the April exploiter is not cooperative or responsive. If progress towards a resolution is not realized by then, a Beanstalk community member may introduce another BOP to propose canceling out this one, if the Beanstalk DAO seeks to move on at that point.\n",
      "protocol": "beanstalkdaoeth",
      "adapter": "snapshot",
      "proposer": "0x47a473Eb2bDfe6599dac638FFFE0D427d8Ad6888",
      "totalVotes": 173,
      "blockNumber": 16156241,
      "externalUrl": "https://snapshot.org/#/beanstalkdao.eth/proposal/0xab93c3857af998c0bf70049fc82cf191407a52d9a710ce7ad1a6ddb7a7b3601c",
      "startTime": {
        "timestamp": 1670702400
      },
      "endTime": {
        "timestamp": 1671307200
      },
      "startTimestamp": 1670702400,
      "endTimestamp": 1671307200,
      "currentState": "closed",
      "choices": [
        "For",
        "Abstain"
      ],
      "results": [
        {
          "total": 27757200.0,
          "choice": 0
        },
        {
          "total": 450319.28,
          "choice": 1
        }
      ],
      "events": [],
      "type": "single-choice",
      "indexedResult": [
        {
          "total": 27757200.856769916,
          "choice": 0
        },
        {
          "total": 450319.2741115498,
          "choice": 1
        }
      ],
      "summary": "",
      "privacy": "",
      "indexedAt": 1678236144000,
      "txHash": "",
      "quorum": 0,
      "flagged": null,
      "executionArgs": "",
      "executables": "",
      "chainId": null
    },
    {
      "refId": "cHJvcG9zYWw6YmVhbnN0YWxrZGFvZXRoOnNuYXBzaG90OjB4NzI0YmJjYTQ3YjU1ZDQyZWMyNWY3NmMyMzM4NDZiZGJiYWUxZGQ4MzM2MThiOTM4Yzg0ZDU4ZjUzZmZlN2MzZA==",
      "id": "0x724bbca47b55d42ec25f76c233846bdbbae1dd833618b938c84d58f53ffe7c3d",
      "title": "BIP-30: Generalized Pipeline and ERC-20 and ERC-721 Permit Support",
      "content": "## Proposer\n\nBeanstalk Farms\n\nProposer Wallet: [0xB77c0dBA1186483E9cc284a950564Fe886c12dB8](https://etherscan.io/verifySig/12431)\n\n## Summary\n\n* Implement a version of [Clipboard](https://evmpipeline.org/pipeline.pdf#section.5) in the `farm` function such that Farmers can copy return values from any function call into the function calldata of subsequent functions;\n* Wrap [Pipeline](https://evmpipeline.org/pipeline.pdf#section.3) functionality in Depot V2 such that Farmers can access Pipeline through the use of the `farm` function;\n* Add [EIP-2612](https://eips.ethereum.org/EIPS/eip-2612) permit support for ERC-20 tokens and [EIP-4494](https://eips.ethereum.org/EIPS/eip-4494) permit support ERC-721 tokens in Circulating balances; and\n* Reduce the base `sunrise` incentive reward.\n\n## Links\n\n* [BIP-30 GitHub PR](https://github.com/BeanstalkFarms/Beanstalk/pull/103)\n* GitHub Commit Hash: [9029875262f83cf394b0ed048704133e16e969d4](https://github.com/BeanstalkFarms/Beanstalk/pull/103/commits/9029875262f83cf394b0ed048704133e16e969d4)\n* [Pipeline Whitepaper](https://evmpipeline.org/pipeline.pdf)\n* [Safe Transaction](https://app.safe.global/eth:0xa9bA2C40b263843C04d344727b954A545c81D043/transactions/tx?id=multisig_0xa9bA2C40b263843C04d344727b954A545c81D043_0x94c7c61e9af4591b4a8443371c74c9f6e5b63d2273ff0a70c4ba56b064623722)\n\n## Problem\n\nThe `farm` function allows Farmers to perform a series of function calls in a single transaction defined by static calldata. Static calldata is limiting as on-chain outputs can change between transaction creation and settlement.\n\nCurrently, adding Pipeline functionality requires new Pipelines to be added to the Depot via Beanstalk governance, which results in very high development overhead for enabling Farmers to use other protocols through Beanstalk.\n\nFarmers have to approve transfers of ERC-20 and ERC-721 tokens in their Circulating balance through a separate transaction, which creates a suboptimal user experience.\n\nBeanstalk is currently overpaying for the `sunrise` incentive reward due to the high base incentive.\n\n## Proposed Solution\n\n### Clipboard\n\nWe propose upgrading the Farm Facet to support [Clipboard](https://evmpipeline.org/pipeline.pdf#section.5) functionality from Pipeline, allowing Farmers to copy return values from any function call into the function calldata of subsequent functions.\n\n#### Specification\n\n`AdvancedFarmCall` is a `farm` call that can use a version of Clipboard. With Clipboard, Farmers can copy return values stored as `returnData` from any `AdvancedFarmCalls` already executed and paste them into the `callData` of the next `AdvancedFarmCall`, in a customizable manner.\n\nEach `AdvancedPipeCall` includes a version of Clipboard to encode:\n1. How many paste operations to perform;\n2. Which `returnData` from previous `AdvancedFarmCall`s to copy (i.e., `returnDataIndex`);\n3. Where to copy from within (2) (i.e., `copyIndex`); and \n4. Where to paste it in the `callData` of the next\n`AdvancedFarmCall` (i.e., `pasteIndex`). \n\nBytes are pasted 32 bytes at a time. \n\nThe only difference between the Clipboard implemented on the Farm and the one implemented in Pipeline is that the Farm version always uses padding in the second byte, whereas the Pipeline version includes a `Use Ether Flag` in the second byte, which specifies whether to include Ether in the Clipboard. Because the `farm` call already is able to include Ether, the second byte does not need to be used in the Farm version of Clipboard. \n\n### Depot V2\n\nWe propose adding new Depot Facet that wraps the standalone [Pipeline](https://evmpipeline.org) contract, providing access to Pipeline from Beanstalk through the use of the `farm` function.\n\n### ERC-20 and ERC-721 Token Permits\n\nWe propose adding [EIP-2612](https://eips.ethereum.org/EIPS/eip-2612) support for ERC-20 tokens and [EIP-4494](https://eips.ethereum.org/EIPS/eip-4494) support for ERC-721 tokens from Circulating balances, which allows Farmers to perform approvals through permits without the need for a separate transaction.\n\n### Sunrise Incentive Adjustment\n\nWe propose reducing the base `sunrise` incentive from 100 Beans to 25 Beans such that the new formula for **a_t** is:\n\n![at-formula.png](https://arweave.net/7Z6pqR8ajUBh4FtqiMz18Iyi2dKI0GdsHDr5l_EKbDY)\n\n## Technical Rationale\n\nAllowing Farmers to copy return values from any function call into the function calldata of subsequent functions significantly improves the composability supported by the `farm` function.\n\nA new Depot that allows Farmers to access the standalone Pipeline contract from Beanstalk significantly reduces the development time necessary to enable Farmers to interact with new protocols via Beanstalk.\n\nThe ability for Farmers to approve transfers of ERC-20 and ERC-721 tokens in their Circulating balance without the need for a separate transaction reduces the friction of interacting with Beanstalk.\n\nThe majority of the transaction fee from `sunrise` calls is the priority fee. Until a more sophisticated update to the `sunrise` function has been audited, reducing the base reward is likely to reduce the Beans Beanstalk issues each month to pay for the `sunrise` call by up to 75%.\n\n## Economic Rationale\n\nImproving the composability of, and reducing the number of separate transactions required to interact with, Beanstalk should improve the user experience and utility of Beanstalk and Beans.\n\nReducing unnecessary Bean issuance in the `sunrise` incentive reward can reduce sell pressure on Beans by 60,000 per month. \n\n## Contract Changes \n\nThe Δ symbol indicates that there is a proposed change in functionality.\n\n### FarmFacet\n\nThe following `FarmFacet` is being removed from Beanstalk:\n* [`0x6039c602b730f44f418145454a2d954133cbd394`](https://etherscan.io/address/0x6039c602b730f44f418145454a2d954133cbd394#code)\n\nThe following `FarmFacet` is being added to Beanstalk:\n* [`0x855D37a6C3868Aa4e8F2e1a80965D08B3f10d292`](https://etherscan.io/address/0x855D37a6C3868Aa4e8F2e1a80965D08B3f10d292#code)\n\n#### `FarmFacet` Function Changes\n\n| Name           | Selector     | Action  | Type | Δ       |\n|:---------------|:-------------|:--------|:-----|:--------|\n| `advancedFarm` | `0x36bfafbd` | Add     | Call | &check; |\n| `farm`         | `0x300dd6cf` | Replace | Call | &check; |\n\n#### `FarmFacet` Event Changes\n\nNone.\n\n### DepotFacet\n\nThe following `DepotFacet` is being added to Beanstalk:\n* [`0xD812fDfB45BC4D05884Eb270f7DdFaac71D60F78`](https://etherscan.io/address/0xD812fDfB45BC4D05884Eb270f7DdFaac71D60F78#code)\n\n#### `DepotFacet` Function Changes\n\n| Name           | Selector     | Action | Type | Δ       |\n|:---------------|:-------------|:-------|:-----|:--------|\n| `pipe`         | `0x08e1a0ab` | Add    | Call | &check; |\n| `multiPipe`    | `0xcabec62b` | Add    | Call | &check; |\n| `advancedPipe` | `0xb452c7ae` | Add    | Call | &check; |\n| `etherPipe`    | `0x6e47d07b` | Add    | Call | &check; |\n| `readPipe`     | `0xdd756c4f` | Add    | View | &check; |\n\n#### `DepotFacet` Event Changes\n\nNone.\n\n### TokenSupportFacet\n\nThe following `TokenSupportFacet` is being added to Beanstalk:\n* [`0x5e15667Bf3EEeE15889F7A2D1BB423490afCb527`](https://etherscan.io/address/0x5e15667Bf3EEeE15889F7A2D1BB423490afCb527#code)\n\n#### `TokenSupportFacet` Function Changes\n\n| Name                   | Selector     | Action | Type | Δ       |\n|:-----------------------|:-------------|:-------|:-----|:--------|\n| `permitERC20`          | `0xb442b398` | Add    | Call | &check; |\n| `transferERC721`       | `0x1aca6376` | Add    | Call | &check; |\n| `permitERC721`         | `0x4935ed43` | Add    | Call | &check; |\n| `transferERC1155`      | `0x0a7e880c` | Add    | Call | &check; |\n| `batchTransferERC1155` | `0xa9412a59` | Add    | Call | &check; |\n\n#### `TokenSupportFacet` Event Changes\n\nNone.\n\n### SeasonFacet\n\nThe following `SeasonFacet` is being removed from Beanstalk:\n* [`0x83d6e6b446613c9bfaebc64260962bc4f828a3ac`](https://etherscan.io/address/0x83d6e6b446613c9bfaebc64260962bc4f828a3ac#code)\n\nThe following `SeasonFacet` is being added to Beanstalk:\n* [`0x0cEFF1129091A0ffa97cC58d4D160F9676866a24`](https://etherscan.io/address/0x0cEFF1129091A0ffa97cC58d4D160F9676866a24#code)\n\n#### `SeasonFacet` Function Changes\n\n| Name            | Selector     | Action  | Type | Δ |\n|:----------------|:-------------|:--------|:-----|:--|\n| `sunrise`       | `0xfc06d2a6` | Replace | Call |   |\n| `paused`        | `0x5c975abb` | Replace | View |   |\n| `plentyPerRoot` | `0xe60d7a83` | Replace | View |   |\n| `poolDeltaB`    | `0x471bcdbe` | Replace | View |   |\n| `rain`          | `0x43def26e` | Replace | View |   |\n| `season`        | `0xc50b0fb0` | Replace | View |   |\n| `seasonTime`    | `0xca7b7d7b` | Replace | View |   |\n| `time`          | `0x16ada547` | Replace | View |   |\n| `totalDeltaB`   | `0x06c499d8` | Replace | View |   |\n| `weather`       | `0x686b6159` | Replace | View |   |\n| `yield`         | `0x28593984` | Replace | View |   |\n\n#### `SeasonFacet` Event Changes\n\nNone.\n\n## Beans Minted\n\nNone.\n\n## Audit\n\nThe commit hash of this BIP is [**9029875262f83cf394b0ed048704133e16e969d4**](https://github.com/BeanstalkFarms/Beanstalk/pull/103/commits/9029875262f83cf394b0ed048704133e16e969d4).\n\nHalborn has performed an audit of this BIP up until the commit hash that reduces the base `sunrise` incentive reward. You can view the Halborn audit report of this commit hash on Arweave here: \n* [**12/01/22 BIP-30 Halborn Report**](https://arweave.net/qAHdIuhoRN5fffERUyptDNf9XQXJqApgyzvgTZRiH24)\n\n## Effective\n\nEffective immediately upon commit.\n",
      "protocol": "beanstalkdaoeth",
      "adapter": "snapshot",
      "proposer": "0x47a473Eb2bDfe6599dac638FFFE0D427d8Ad6888",
      "totalVotes": 233,
      "blockNumber": 16091984,
      "externalUrl": "https://snapshot.org/#/beanstalkdao.eth/proposal/0x724bbca47b55d42ec25f76c233846bdbbae1dd833618b938c84d58f53ffe7c3d",
      "startTime": {
        "timestamp": 1669924800
      },
      "endTime": {
        "timestamp": 1670529600
      },
      "startTimestamp": 1669924800,
      "endTimestamp": 1670529600,
      "currentState": "closed",
      "choices": [
        "For",
        "Abstain"
      ],
      "results": [
        {
          "total": 37396908.0,
          "choice": 0
        },
        {
          "total": 3664.584,
          "choice": 1
        }
      ],
      "events": [],
      "type": "single-choice",
      "indexedResult": [
        {
          "total": 37396897.09372536,
          "choice": 0
        },
        {
          "total": 3664.5841325868,
          "choice": 1
        }
      ],
      "summary": "",
      "privacy": "",
      "indexedAt": 1678236144000,
      "txHash": "",
      "quorum": 0,
      "flagged": null,
      "executionArgs": "",
      "executables": "",
      "chainId": null
    },
    {
      "refId": "cHJvcG9zYWw6YmVhbnN0YWxrZGFvZXRoOnNuYXBzaG90OjB4NTNjMzU4YWYwZmFlNTBmODg4Nzk1YzVmMjI3MmQ1MGY4NzU5Yjc3MDJiZjdkYzIyNTVhMDNmOWZiMjJjY2Y0NQ==",
      "id": "0x53c358af0fae50f888795c5f2272d50f8759b7702bf7dc2255a03f9fb22ccf45",
      "title": "BIP-29: Pod Market Price Functions",
      "content": "## Proposer\n\nBeanstalk Farms\n\nProposer Wallet: [0x36998db3f9d958f0ebaef7b0b6bf11f3441b216f](https://etherscan.io/verifySig/11822)\n\n## Summary\n\n* Implement V2 Pod Orders and Listings such that the Price per Pod is priced as a function of place in the Pod Line (via piecewise cubic polynomials);\n* Allow Farmers to delegate use of their Farm balances to other contracts and add [EIP-2612](https://eips.ethereum.org/EIPS/eip-2612) permit support to Farm balances; and\n* Add [EIP-2612](https://eips.ethereum.org/EIPS/eip-2612) permit support for Silo Deposits.\n\nNote: BIP-28 was cancelled due to a bug that was reported during the Voting Period. One of the BCM Signers indicated that the transaction should be cancelled by signing [a verified message](https://etherscan.io/verifySig/11749).\n\nA majority of the BCM Signers deemed this bug report valid by submitting and signing an on-chain rejection, rendering BIP-28 cancelled. As such, BIP-28 was removed from Snapshot.\n\nThe [fix](https://github.com/BeanstalkFarms/Beanstalk/commit/0bdd376263b0fe94af84aaf4adb6391b39fa80ab) for the reported bug was verified by Halborn and included in the [updated audit report](https://arweave.net/4GwrRBM7K-0SvyryHVH1oQDpkcbwnAm3up45bYf_RYA).\n\n## Links\n\n* [BIP-29 GitHub PR](https://github.com/BeanstalkFarms/Beanstalk/pull/87)\n    * [RFC: Pod Market V2 (Price Functions)](https://github.com/BeanstalkFarms/Beanstalk/issues/88)\n    * [RFC: ERC-20 Farm Balance Approval System and Permit Implementation](https://github.com/BeanstalkFarms/Beanstalk/issues/129)\n    * [RFC: Silo Deposit Permit Implementation](https://github.com/BeanstalkFarms/Beanstalk/issues/128)\n* [GitHub Commit Hash](https://github.com/BeanstalkFarms/Beanstalk/commit/0bdd376263b0fe94af84aaf4adb6391b39fa80ab)\n* [Gnosis Transaction](https://gnosis-safe.io/app/eth:0xa9bA2C40b263843C04d344727b954A545c81D043/transactions/multisig_0xa9bA2C40b263843C04d344727b954A545c81D043_0x0fe63022606dbcba350c3b125305fe9a9f6fbada7b644c9670b7636100dfda99)\n\n## Quorum\n\nQuorum is a majority of the Stalk supply voting For, or about **34,070,677** Stalk voting For based on the time of proposal.\n\n## Problem\n\nThe Pod Market currently limits Farmers to creating Pod Orders and Listings with a single Fill price per Pod independent of place in Line. \n\nBecause of the ordinal nature of Pods, the price per Pod is partially a function of place in Line. Pod Orders and Listings with a single Fill price fail to maximize overall marketplace liquidity by requiring the placing or updating of multiple orders in order to create a non-flat pricing curve, which is highly expensive for users. \n\nCurrently, there is no way for Farmers to delegate use of their Farm balances to other addresses; the only way to transfer Farm balances is by calling `transferToken(s)()` through the Farmer's account.\n\nCurrently, a separate transaction is required in order for a Farmer to delegate another address to use their Silo Deposits.\n\n## Proposed Solution\n\n### Pod Market Price Functions\n\nWe propose the implementation of new V2 Pod Orders and Listings where the Price Per Pod is priced as a piecewise function of Place in Line of up to `n` cubic polynomial pieces. A new library, `LibPolynomial.sol`, is introduced to evaluate and integrate over piecewise cubic polynomials on-chain in a gas efficient fashion to facilitate dynamic pricing of V2 Pod Orders and Listings. \n\nImplementing dynamically priced Pod Orders and Listings should significantly improve market efficiency by allowing Farmers to place and update prices across the entire Pod Line is a single Order or Listing. \n\n#### Specification\n\nThe `LibPolynomial.sol` library is introduced, which contains the logical functionality required to store, integrate and evaluate price functions for use within the `MarketplaceFacet`. \n\nPrice functions as implemented in `LibPolynomial.sol` are represented as **piecewise cubic polynomials**. Each piece can represent any polynomial function of up to degree 3. There is no maximum number of pieces that can be contained within a single piecewise function. \n\n##### Representation of Piecewise Cubic Polynomials\n\nThe data required to represent a piecewise cubic polynomial consists of the domain of each piece as well as the coefficient for each polynomial term (up to 4 terms in a cubic). The function domains are represented as an array of `uint256` breakpoints in ascending order of domain. Each polynomial's domain is inclusive at the start and exclusive at the end. The final polynomial's domain starts at the final breakpoint and extends until infinity. \n\n##### Floating Point Representation of Polynomial Coefficients\n\nThe polynomial coefficients are stored in floating point representation and separated into three parts: the significand (numerator), the exponent of base 10 that the significand is shifted by, and the sign of the coefficient, where true is positive. For example, the decimal number 0.1234 could be represented as:\n- **significand**: 1234\n- **exponent**: 4\n- **sign**: true\n\n##### Byte Encoding of Function Data\n\nV2 Orders and Listings use a dynamically sized `bytes` array to represent pricing functions in the transaction data allowing its data to be packed tightly without posing any limitation on the number of pieces allowed. All function data is concatenated into a bytes array that is divided up into sections. Data is ordered first by piecewise domain, and second by degree. \n\nThe first 32 bytes represent the number of polynomial pieces in the function array, which is then used to determine the length of the following sections of data. If there are `n` number of pieces in the function, the next 32n bytes following the length are occupied by the breakpoints. The following 128n bytes are occupied by the function coefficient significands. The following 4n bytes contain the coefficient exponents. And the final 4n bytes contain the coefficient signs. \n\n![bip-29-encoding.png](https://user-images.githubusercontent.com/19599875/190914665-3e6a472e-9fee-4164-aaf6-8f8ea7def11e.png)\n\n##### Storage\n\n`mapping(bytes32 => uint256) podOrders;` Has been changed to store the amount of Beans to be used by a Pod Order rather than the amount of Pods requested by it. This is because the amount of Pods an Order will Fill is now variable.\n\n### Farm Balance Approval System and Permits\n\nWe propose adding an approval system to Farm balances, which allows Farmers to delegate their Farm balances to be used by other addresses.\n\nWe also propose adding [EIP-2612](https://eips.ethereum.org/EIPS/eip-2612) support for Farm balances, which allows Farmers to delegate use of their Farm balances through permits without the need for a separate transaction.\n\n### Silo Deposit Permits\n\nWe propose adding [EIP-2612](https://eips.ethereum.org/EIPS/eip-2612) support for Silo Deposits, which allows Farmers to delegate use of their Silo Deposits through permits without the need for a separate transaction.\n\n## Technical Rationale\n\nDynamically priced Pod Orders and Pod Listings reduce the user action (and associated gas costs) required to make or update sophisticated pricing curves on the Pod Market to a single transaction.\n\nThe ability for Farmers to delegate their Farm balances to another contract allows other protocols to build on top of Beanstalk's Farm balance system. The ability to perform this delegation without a separate transaction reduces the friction of interacting with Beanstalk.\n\nSimilarly, the ability for Farmers to delegate their Silo Deposits to another contract without the need for a separate transaction reduces the friction of interacting with Beanstalk. \n\n## Economic Rationale\n\nImplementing dynamically priced Pod Orders and Listings should improve market efficiency and depth.\n\nImproving the composability of and reducing the number of separate transactions required to interact with Beanstalk should improve the utility of Beanstalk and Beans.\n\n## Contract Changes\n\nNote: Due to the Snapshot character limit, a comprehensive log of each function selector and event that is added, changed or removed from Beanstalk in BIP-29 is not included here—an Arweave upload of BIP-29 with this information can be found here: https://arweave.net/bACTLzE0krWGLUGMB2xyG_yMjdowWtQ2hdoBColwV2U\n\n### MarketplaceFacet\n\nThe following `MarketplaceFacet`(s) are being deprecated:\n* [`0x3600D953Cb26C75E8F0c76FcB20e3A8F8a3245F1`](https://etherscan.io/address/0x3600D953Cb26C75E8F0c76FcB20e3A8F8a3245F1#code)\n* [`0xD870aAB97c2739b320a3eFAd370511452894F1b2`](https://etherscan.io/address/0xD870aAB97c2739b320a3eFAd370511452894F1b2#code)\n\nThe following `MarketplaceFacet` is being added to Beanstalk:\n* [`0x0c9F436FBEf08914c1C68fe04bD573de6e327776`](https://etherscan.io/address/0x0c9F436FBEf08914c1C68fe04bD573de6e327776#code)\n\n### TokenFacet\n\nThe following `TokenFacet` is being deprecated:\n* [`0x146f86c2EF039f9176bc2434D3DA5919C19B87fC`](https://etherscan.io/address/0x146f86c2EF039f9176bc2434D3DA5919C19B87fC#code)\n\nThe following `TokenFacet` is being added to Beanstalk:\n* [`0x8D00eF08775872374a327355FE0FdbDece1106cF`](https://etherscan.io/address/0x8D00eF08775872374a327355FE0FdbDece1106cF#code)\n\n### SiloFacet\n\nThe following `SiloFacet` is being deprecated:\n* [`0x6530A76c77F11731Bf7F1C799AA97E0C15d3FB26`](https://etherscan.io/address/0x6530A76c77F11731Bf7F1C799AA97E0C15d3FB26#code)\n\nThe following `SiloFacet` is being added to Beanstalk:\n* [`0xf73db3fb33c7070db0f0ae4a76872251dca15e97`](https://etherscan.io/address/0xf73db3fb33c7070db0f0ae4a76872251dca15e97#code)\n\n## Audit\n\nThe commit hash of this BIP is [0bdd376263b0fe94af84aaf4adb6391b39fa80ab](https://github.com/BeanstalkFarms/Beanstalk/commit/0bdd376263b0fe94af84aaf4adb6391b39fa80ab).\n\nHalborn has performed an audit of this commit hash. You can view the Halborn audit report of this commit hash on Arweave here: https://arweave.net/4GwrRBM7K-0SvyryHVH1oQDpkcbwnAm3up45bYf_RYA\n\n## Effective\n\nEffective immediately upon commit.\n",
      "protocol": "beanstalkdaoeth",
      "adapter": "snapshot",
      "proposer": "0x47a473Eb2bDfe6599dac638FFFE0D427d8Ad6888",
      "totalVotes": 278,
      "blockNumber": 15900175,
      "externalUrl": "https://snapshot.org/#/beanstalkdao.eth/proposal/0x53c358af0fae50f888795c5f2272d50f8759b7702bf7dc2255a03f9fb22ccf45",
      "startTime": {
        "timestamp": 1667610000
      },
      "endTime": {
        "timestamp": 1668214800
      },
      "startTimestamp": 1667610000,
      "endTimestamp": 1668214800,
      "currentState": "closed",
      "choices": [
        "For",
        "Abstain"
      ],
      "results": [
        {
          "total": 34463568.0,
          "choice": 0
        },
        {
          "total": 29445.816,
          "choice": 1
        }
      ],
      "events": [],
      "type": "single-choice",
      "indexedResult": [
        {
          "total": 34463565.36133579,
          "choice": 0
        },
        {
          "total": 29445.8179287844,
          "choice": 1
        }
      ],
      "summary": "",
      "privacy": "",
      "indexedAt": 1678236144000,
      "txHash": "",
      "quorum": 0,
      "flagged": null,
      "executionArgs": "",
      "executables": "",
      "chainId": null
    },
    {
      "refId": "cHJvcG9zYWw6YmVhbnN0YWxrZGFvZXRoOnNuYXBzaG90OjB4NzAyNGE3YTRhZmMwOGU1OWY4OWUxOGIyOWY0OTk1YWMzZGZhZGVhOTIzMjRkNmM4OGY3MTBhNTg3ZWJhMmUxOQ==",
      "id": "0x7024a7a4afc08e59f89e18b29f4995ac3dfadea92324d6c88f710a587eba2e19",
      "title": "BIP-27: Bean Sprout Q4 2022 Budget",
      "content": "## Proposer\n\nBean Sprout\n\n## Summary\n\n* Mint 100,000 Beans to fund Bean Sprout to seed, grow and support various Beanstalk-related integrations, projects, and initiatives through the end of Q4 2022.\n\n## Links\n\n* [BIP-27 GitHub PR](https://github.com/BeanstalkFarms/Beanstalk/pull/101)\n* [Gnosis Transaction](https://gnosis-safe.io/app/eth:0xa9bA2C40b263843C04d344727b954A545c81D043/transactions/multisig_0xa9bA2C40b263843C04d344727b954A545c81D043_0xeefef201d5a3f287891106a6710ea1f5a9919f5fdfe074e1ae14e59853fefa51)\n\n## Quorum\n\nQuorum is a majority of the Stalk supply voting For, or about 28,952,861 Stalk voting For based on the time of proposal.\n\n## Key Q4 Deliverables\n\n* Launch at least one more Beanstalk-based company (_e.g._,begin development and raise capital)\n    * Focus on onboarding businesses and real world assets into the Beanstalk ecosystem\n    * Conduct a thorough customer discovery process\n    * Implement a Beanstalk custody solution\n    * Recruit world-class builders and businesses onto Beanstalk\n* Finalize at least one wallet and banking partnership to support Beans such that the introduction of a Bean Card is possible alongside a seamless fiat to Beanstalk onramp\n* Root product launches (pending audits, fingers crossed!)\n    * Fungible Deposited Bean-Denominated-Value ERC-20 Tokens\n    * Seaport Fork Facet added to Beanstalk\n* Grow FDBDV liquidity and attempt to accelerate acceptance in protocols across DeFi\n\n## Q3 Output\n\n* Continued to incubate Root;\n    * Onboarded 3 full-time Solidity engineers building on Beanstalk within Root;\n    * Coordinated the design of Root v1;\n    * Helped coordinate the formal proposal of BIP-24 to the DAO; \n    * Finished the development of a Fungible Deposited Bean-Denominated-Value ERC-20 Token contract, which is ready for audit; and\n    * Q1 2023 Trail of Bits audit retainer prepaid by Root, which will include Beanstalk code;\n* Negotiated and funded the Bean portion of the Halborn retainer (Root paid the non-Bean portion);\n* Began initial ideation and incubation of new Beanstalk-based companies;\n* Began due diligence on Layer 2 scaling solutions, including multiple calls with Arbitrum, Starkware, and Optimism.\n    * Includes exploration of token incentives, grants, and/or direct investments from L2 partners\n\n## Q4 2022 Current Staffing\n\n_Current Bean Sprout Core Staff_\n* mistermanifold (FT) _-_ 20,000 Beans a month (paid twice per month)\n\n_Anticipated Q4 2022 Bean Sprout Hires_\n* None\n\n## Amounts\n\nWe propose a total of 100,000 Beans are minted to fund Bean Sprout through the end of Q4 2022. Bean Sprout currently custodies 73,333 Bean from the Q3 2022 budget. \n\n## Expected Use of Funds\n\n* 60,000 Beans paid to mistermanifold\n* 110,000 Beans issued as grants to newly formed Beanstalk companies\n\nNote: Bean Sprout grants are designed to facilitate incentive alignment among incubated companies, vendors, and other partners. Bean Sprout thoroughly vets the intended use of funds of any grant, and operates with a mandate to drive net Bean demand to the Beanstalk ecosystem.    \n\nPrevious examples of Bean Sprout grants include 40,000 Beans to both Halborn and Root, for smart contract security services and legal services, respectively. Both entities have retained their Bean exposure.\n\n## Custody\n\nIn Q3, the funds for Bean Sprout will continue to be custodied by a multisig wallet with keys held by various community members and Publius. We propose the following signers for the [Bean Sprout Multisig (BSM)](https://docs.bean.money/governance/bean-sprout/bsm-dashboard).\n\n_BSM Signers_\n* mistermanifold (current signer)\n* austin (current signer)\n* Bean Merchant (current signer)\n* Brean (current signer)\n* Publius (current signer)\n* ereal (current signer)\n* aloceros (new signer)\n\nOne Publius wallet will be removed. We also propose that mod323 and sweetredbeans serve as backups for the BSM wallet in case a key holder is compromised or unable to perform their duties.\n\n## Snapshot Processes\n\nWe will utilize the process for Bean Sprout Proposals (BSPs), as per [BFP-81](https://snapshot.org/#/beanstalkfarms.eth/proposal/0xa24c368f08093b8a5e27c0b3ae9296eb60272cddc8882434b02a86152d903e59), with the following amendment:\n\n* Proposals to spend more than 25,000 Beans must reach a quorum of 10% of total outstanding Stalk at the time the BSP was submitted to Snapshot and a majority vote For in order to pass—proposals to spend less than or equal to 25,000 Beans are optimistically approved like before.\n\n For more information on BSPs, please refer to the Farmers’ Almanac [here](https://docs.bean.money/governance/proposals#bsp).\n\n## Competitive Pay\n\nBean Sprout recognizes that its ability to pay contributors competitive wages is essential to Beanstalk’s long-term success. This budget proposal ensures that it can meet or exceed market rates.\n\n## Effective\n\nImmediately upon commitment.\n",
      "protocol": "beanstalkdaoeth",
      "adapter": "snapshot",
      "proposer": "0x47a473Eb2bDfe6599dac638FFFE0D427d8Ad6888",
      "totalVotes": 252,
      "blockNumber": 15640267,
      "externalUrl": "https://snapshot.org/#/beanstalkdao.eth/proposal/0x7024a7a4afc08e59f89e18b29f4995ac3dfadea92324d6c88f710a587eba2e19",
      "startTime": {
        "timestamp": 1664470800
      },
      "endTime": {
        "timestamp": 1665075600
      },
      "startTimestamp": 1664470800,
      "endTimestamp": 1665075600,
      "currentState": "closed",
      "choices": [
        "For",
        "Abstain"
      ],
      "results": [
        {
          "total": 29472882.0,
          "choice": 0
        },
        {
          "total": 396355.28,
          "choice": 1
        }
      ],
      "events": [],
      "type": "single-choice",
      "indexedResult": [
        {
          "total": 29472889.466355298,
          "choice": 0
        },
        {
          "total": 396355.3016696484,
          "choice": 1
        }
      ],
      "summary": "",
      "privacy": "",
      "indexedAt": 1678236144000,
      "txHash": "",
      "quorum": 28923598,
      "flagged": null,
      "executionArgs": "",
      "executables": "",
      "chainId": null
    },
    {
      "refId": "cHJvcG9zYWw6YmVhbnN0YWxrZGFvZXRoOnNuYXBzaG90OjB4NTY3Y2Q0NmZlNzNjMTMwZjRhYzJlOTViYTc4N2ZmMGNlMzlkZDc0Y2VhOWU1MWM3ODE3MDJjNTJhZmU5NjRmYw==",
      "id": "0x567cd46fe73c130f4ac2e95ba787ff0ce39dd74cea9e51c781702c52afe964fc",
      "title": "BIP-26: Immunefi Bug Bounty Program",
      "content": "## Proposer\n\nBeanstalk Farms\n\n## Summary\n\n* Establish a bug bounty program through Immunefi in order to incentivize whitehat hackers to find bugs in Beanstalk.\n* Form the Beanstalk Immunefi Committee (BIC) that determines the categorization and payout of bug bounties in accordance with the bug bounty program structure as defined in this BIP.\n* Grant the Beanstalk Community Multisig (BCM) the ability to mint up to 3,000,000 Beans in total, in order to execute the will of the BIC. Any increase to this limit must be granted via BIP. \n\n## Links\n\n* [BIP-26 GitHub PR](https://github.com/BeanstalkFarms/Beanstalk/pull/100)\n\n## Quorum\n\nQuorum is a majority of the Stalk supply voting For, or about 28,952,861 Stalk voting For based on the time of proposal.\n\n## Problem\n\nSecurity is paramount to Beanstalk's success and a core focus for Beanstalk Farms and Bean Sprout. There is currently no formal program for whitehat hackers to get paid for finding bugs in Beanstalk.\n\n## Proposed Solution\n\nCreate a bug bounty program through Immunefi in order to incentivize whitehat hackers to find bugs in Beanstalk. \n\nImmunefi is a bug bounty platform with a community of whitehat hackers who actively look for bugs and exploits in return for pre-approved bounties. They provide a secure and private system for bug identification and submission and are trusted by protocols such as The Graph, SushiSwap and Arbitrum.\n\n### Program Structure\n\nThe bug bounty program is focused on the Beanstalk smart contracts and on preventing loss of user funds. The bug bounty program that will go live on the Immunefi website upon the passage of this BIP can be found here:\n\n[https://arweave.net/IFdanx-jNv8VQ2FWRa8tVsvwrPH3coz60S2wAPPm_Uw](https://arweave.net/IFdanx-jNv8VQ2FWRa8tVsvwrPH3coz60S2wAPPm_Uw)\n\nIn summary:\n* The max bounty is 1,100,000 Beans;\n* Immunefi takes a 10% fee in Beans on top of any bounty;\n* Bugs are categorized as Critical, High or Medium severity;\n* The BIC (defined below) determines whether a submitting party is entitled to a bug bounty/reward, and if so, the amount of such bounty/reward according to the defined bug bounty program structure; and\n* Immunefi serves as a mediator in cases where a submitting party disputes the BIC’s determination of whether the submitting party is entitled to any bug bounty/reward, or what the appropriate bounty/reward should be within each Impact range.\n\n### Process\n\nAfter a bug report is submitted through the Immunefi platform, all members of the BIC are notified via email.\n\nAs mentioned in the program structure document above, in order to be considered for the maximum potential reward, bug reports must come with (1) a Proof of Concept (PoC), and (2) code implementing the fix.\n\nThe BIC will respond to each bug report as follows:\n\nImmediately:\n* Forward the the bug report (and fix PoC if included in the bug report) to Halborn via the Audit Slack channel, and the BCM; and\n* Evaluate the validity and severity of the bug, as well as the fix PoC if included in the bug report. \n\nAs soon as possible after completing the above, the BIC will prepare, but not publish, a Beanstalk Immunefi Response (BIR), which includes:\n* What the potential practicable economic damage of the bug is;\n* Whether the submission qualifies for a Critical, High or Medium Impact bounty/reward;\n* What the appropriate bounty/reward should be within the Impact range; and\n* Whether the submitting party is entitled to a bug bounty/reward, and if so, the amount of such bounty/reward. \n\nIn the instance where there are multiple bugs reported in the same report, a BIR will be prepared for each bug, such that the BIR can be released shortly after the implementation of the fix. \n\nBefore a BIR is proposed, its contents are confirmed with the submitter of the bug report via the Immunefi platform. As outlined in the bug bounty structure, in certain instances where the submitting party disputes the BIC’s proposal, Immunefi mediates.\n\nImmediately after the implementation of a fix by the BCM or the Beanstalk DAO, the BIC will:\n* Publish the BIR to Snapshot;\n* Announce the existence of the BIR to the Beanstalk community via the Discord; and \n* Vote on the BIR.\n\nBIR voting takes place on Snapshot and lasts for 3 days. Only BIC members propose and vote on BIRs, and each member has one vote. BIC members can either vote For or Against a BIR, and a two-thirds majority of the BIC voting For is required to pass.\n\nOnce a BIR passes, the BCM executes it by:\n* Minting the corresponding number of Beans to cover the bug bounty and the 10% fee from Immunefi;\n* Transferring the Beans corresponding to the bounty to the submitting party’s address; and\n* Transferring the Beans corresponding to the 10% fee to Immunefi’s address.\n\nThe BIC may extend the bug bounty program to account for new assets that are in-scope. For example, after the Beanstalk UI is audited it is appropriate to add it as in-scope for the bug bounty program. Any other changes to the bug bounty program structure require a BOP (or BIP).\n\n### BIC Members\n\nWe propose the following six members for the BIC:\n* Publius\n* mod323\n* Silo Chad\n* Brean\n* funderberker\n* malteasy\n\nThe following people serve as backups for the BIC, in no particular order:\n* mistermanifold\n* MrMochi\n* austin\n\nAdding, removing or rotating members on the BIC requires a majority vote of the BIC on Snapshot.\n\n### Amount\n\nThe BCM executes the will of the BIC as determined by BIRs, up to 3,000,000 Beans total. Any increase to this limit must be granted via BIP. Beans are minted upon passage of a BIR.\n\n## Rationale\n\nSecurity is paramount to the success of Beanstalk. Immunefi is crypto’s leading bug bounty platform that many other well-known DeFi protocols use to facilitate their bug bounty programs.  This bounty program is competitive with the largest programs currently on Immunefi, making it likely to attract whitehat hackers. \n\nThis program establishes a method for the reporting and fixing bugs in a way that minimizes the risk to Beanstalk between the report and the fix, as well as the fair and transparent compensation for the reporting of bugs. The program gives bounty hunters a clear process and structure in order to increase the likelihood they attempt to find issues with Beanstalk and its related contracts and code. \n\nThe BIC structure of community-known members and public Snapshot proposals allows the Beanstalk community to scrutinize decisions, while still allowing the BIC to move swiftly in response to bug reports. The BIC consists of technical members of the Beanstalk community due to the nature of the BIC. The BIC can keep the bug information private while the bug is unfixed, and then has a clear process to disclose the bug to the public and compensate the submitter of the bug bounty. Having several members increases decentralization. The two-thirds majority required to approve a BIR and the BCM minting the Beans introduces multiple steps to mint Beans as a reward, which improves censorship-resistance.\n\n## Effective\n\nImmediately upon passage.\n",
      "protocol": "beanstalkdaoeth",
      "adapter": "snapshot",
      "proposer": "0x47a473Eb2bDfe6599dac638FFFE0D427d8Ad6888",
      "totalVotes": 244,
      "blockNumber": 15640259,
      "externalUrl": "https://snapshot.org/#/beanstalkdao.eth/proposal/0x567cd46fe73c130f4ac2e95ba787ff0ce39dd74cea9e51c781702c52afe964fc",
      "startTime": {
        "timestamp": 1664470800
      },
      "endTime": {
        "timestamp": 1665075600
      },
      "startTimestamp": 1664470800,
      "endTimestamp": 1665075600,
      "currentState": "closed",
      "choices": [
        "For",
        "Abstain"
      ],
      "results": [
        {
          "total": 29315002.0,
          "choice": 0
        },
        {
          "total": 688228.2,
          "choice": 1
        }
      ],
      "events": [],
      "type": "single-choice",
      "indexedResult": [
        {
          "total": 29315007.339141943,
          "choice": 0
        },
        {
          "total": 688228.1940390747,
          "choice": 1
        }
      ],
      "summary": "",
      "privacy": "",
      "indexedAt": 1678236144000,
      "txHash": "",
      "quorum": 28923598,
      "flagged": null,
      "executionArgs": "",
      "executables": "",
      "chainId": null
    },
    {
      "refId": "cHJvcG9zYWw6YmVhbnN0YWxrZGFvZXRoOnNuYXBzaG90OjB4YzJkNWQ0NmU2NTA0NTMxZTBkMTcyNTMwODRjYjhkMWQwZTJlNDNkNmRlMDc4NTA0ODI1ZDBmN2U2NmM1MDY1NQ==",
      "id": "0xc2d5d46e6504531e0d17253084cb8d1d0e2e43d6de078504825d0f7e66c50655",
      "title": "BIP-24: Fungible BDV Support",
      "content": "## Proposer\n\nRoot Labs\n\n## Summary\n\n- Add λ -> λ converts;\n- Allow Farmers to delegate the ability to transfer their Deposits to other addresses;\n- Add a new implementation of the `chop(...)` function;\n- Add return values to the `convert` and `transferDeposit(s)` functions;\n- Add `StalkBalanceChanged` and `SeedsBalanceChanged` events on Deposit transfers; and\n- Emit `StalkBalanceChanged` and `SeedsBalanceChanged` events for all historical `transferDeposit(s)` function calls in a second transaction.\n\n## Quorum\n\nQuorum is a majority of the Stalk supply voting For, or about 28,923,598 Stalk voting For based on the time of proposal.\n\n## Links\n\n* [BIP-24 GitHub PR](https://github.com/BeanstalkFarms/Beanstalk/pull/82)\n* [Gnosis Transaction](https://gnosis-safe.io/app/eth:0xa9bA2C40b263843C04d344727b954A545c81D043/transactions/multisig_0xa9bA2C40b263843C04d344727b954A545c81D043_0xda0aa103c0352d4811c66c43b14f8ba8072062619fae3997034306abcbdb0f05)\n* [InitBip24 Contract](https://etherscan.io/address/0xF95389567B222Ec36e509B874E8aD4452ea05654#code)\n* [GitHub Commit Hash](https://github.com/BeanstalkFarms/Beanstalk/pull/82/commits/877224df1f6f98245a8693fa74fd37657bee13e2)\n\n## Problem\n\nCurrently, Deposits cannot be Converted to Deposits of the same $\\lambda$. This prevents Silo members from updating the BDV of their LP tokens when their BDV increases due to impermanent loss, which is an inefficiency for Farmers. Furthermore, this prevents the combining of multiple Deposits of the same $\\lambda$ into a single Season, which is a friction around interoperability.\n\nCurrently, Farmers cannot delegate other addresses to transfer Deposits on their behalf. This makes interoperability with other contracts difficult, particularly with regard to the implementation of a fungible bean denominated value ERC-20 Token contract.\n\nThe `chop(...)` function was removed in EBIP-1 in response to a vulnerability discovered by Halborn. Accordingly, there is currently no way for Farmers to Chop their Unripe assets.\n\nThe lack of return values for both the `convert` and `transferDeposit(s)` functions makes it difficult for other smart contracts calling Beanstalk to track balance changes.\n\nSimilarly, the lack of `StalkBalanceChanged` and `SeedsBalanceChanged` events on Deposit transfers makes it difficult for other smart contracts calling Beanstalk to track balance changes.\n\n## Proposed Solution\n\nWe propose adding λ -> λ converts to the Convert Whitelist. When Converting a single Deposit, the only effect will be to update its BDV if it has increased. When Converting more than 1 Deposit, their BDV are updated and their Seasons of Deposit are combined into a new Season of Deposit weighted by BDV. \n\nλ -> λ:\n1. ***From Token Address:*** The from token address must match the to token address.\n2. ***To Token Address:*** The to token address must match the from token address.\n3. ***Conditions:*** *Deposited* λ can be *Converted* to a λ *Deposit* at anytime. \n4. ***Convert Function:*** The number of λ received for *Converting* *Deposited* λ within the *Silo* is equivalent to the number of λ *Converted*. Therefore, we define the function as: f^{λ -> λ}(z^λ) = z^λ\n\nWe propose allowing Farmers to delegate other addresses to transfer Deposits on their behalf.\n\nWe propose adding a new implementation of the `chop(...)` function.\n\nWe propose adding return values to both the `convert` and `transferDeposit(s)` functions.\n\nWe propose emitting `StalkBalanceChanged` and `SeedsBalanceChanged` events on Deposit transfers.\n\nWe prepose the one time emission of historical `StalkBalanceChanged` and `SeedsBalanceChanged` events on previous Deposit transfers after committment of the BIP.\n\n## Technical Rationale\n\nThe delegation of the ability to transfer Deposits greatly improves the composability of Beanstalk. For example, the Fungible Deposited Bean Denominated Value ERC-20 Token contract requires the Deposit approval system. \n\nA new implementation of the `chop(...)` function has been audited by Halborn.\n\nAdding return values for both the `convert` and `transferDeposit(s)` functions makes it much easier for other smart contracts calling Beanstalk to track balance changes.\n\nSimilarly, adding `StalkBalanceChanged` and `SeedsBalanceChanged` events on Deposit transfers makes it much easier for other smart contracts calling Beanstalk to track balance changes.\n\nEmitting `StalkBalanceChanged` and `SeedsBalanceChanged` events for all historical `transferDeposit(s)` function calls will be done in a separate transaction to ensure all events are emitted because there can be `transferDeposit(s)` function calls made between proposal of the BIP and its committment. \n\n## Economic Rationale\n\nThe ability to update BDV of a Deposit removes the potential friction around Withdrawing and reDepositing the same assets again to claim the updated BDV. \n\nImproving the composability of Beanstalk should improve the utility of Beans. \n\nThe `chop(...)` function is an essential part of the Barn as constructed approved by the DAO. \n\n\n## Contract Changes\n\nThe following callable functions are added to Beanstalk:\n- `chop()`\n- `approveDeposit()`\n- `increaseDepositAllowance()`\n- `decreaseDepositAllowance()`\n\nThe following callable function are changed within Beanstalk:\n- `transferDeposit()`\n- `transferDeposits()`\n- `claimPlenty()`\n- `convert()`\n\nThe following view functions are added to Beanstalk:\n- `_getPenalizedUnderlying()`\n- `depositAllowance()`\n\nThe following view functions are changed within Beanstalk:\n- `getUnderlying()`\n- `getPenalizedUnderlying()`\n\nThe following event is added to Beanstalk:\n- `DepositApproval()`\n\n## Audit\n\nThe commit hash of this BIP is [6699e071626a17283facc67242536037989ecd91](https://github.com/BeanstalkFarms/Beanstalk/tree/6699e071626a17283facc67242536037989ecd91). \n\nHalborn has performed an audit of this commit hash. \n\nYou can view the Halborn audit report of this commit hash on Arweave here: https://arweave.net/9CX_DCDceBugfmpHhxlL85gkCn-4Yu0eQQQsZ9ckY8w\n\n## Proposer Award\n\n10,000 Beans.\n\n## Effective\n\nEffective immediately upon commit. The historical event emissions will be made immediately after commit. \n",
      "protocol": "beanstalkdaoeth",
      "adapter": "snapshot",
      "proposer": "0x47a473Eb2bDfe6599dac638FFFE0D427d8Ad6888",
      "totalVotes": 258,
      "blockNumber": 15634451,
      "externalUrl": "https://snapshot.org/#/beanstalkdao.eth/proposal/0xc2d5d46e6504531e0d17253084cb8d1d0e2e43d6de078504825d0f7e66c50655",
      "startTime": {
        "timestamp": 1664402400
      },
      "endTime": {
        "timestamp": 1665007200
      },
      "startTimestamp": 1664402400,
      "endTimestamp": 1665007200,
      "currentState": "closed",
      "choices": [
        "For",
        "Abstain"
      ],
      "results": [
        {
          "total": 29982246.0,
          "choice": 0
        },
        {
          "total": 10640.459,
          "choice": 1
        }
      ],
      "events": [],
      "type": "single-choice",
      "indexedResult": [
        {
          "total": 29982256.035387058,
          "choice": 0
        },
        {
          "total": 10640.4589123576,
          "choice": 1
        }
      ],
      "summary": "",
      "privacy": "",
      "indexedAt": 1678236144000,
      "txHash": "",
      "quorum": 0,
      "flagged": null,
      "executionArgs": "",
      "executables": "",
      "chainId": null
    },
    {
      "refId": "cHJvcG9zYWw6YmVhbnN0YWxrZGFvZXRoOnNuYXBzaG90OjB4NmRmMDJmN2ZkOTA0YjVmMjRhYzQxMDFhY2I1YmU2NDg5ZjU4ZThlNGQ5MWNhMzQzOGU2ZTIyYjk2MmY2NzJmNA==",
      "id": "0x6df02f7fd904b5f24ac4101acb5be6489f58e8e4d91ca3438e6e22b962f672f4",
      "title": "BIP-25: Beanstalk Farms Q4 2022 Budget",
      "content": "## Proposer\n\nBeanstalk Farms\n\n## Summary\n\n* Mint 1,000,000 Beans to fund Beanstalk Farms to retain, grow and support a group of core contributors through the end of Q4 2022.\n\n## Links\n\n* [BIP-25 GitHub PR](https://github.com/BeanstalkFarms/Beanstalk/pull/99)\n* [Gnosis Transaction](https://gnosis-safe.io/app/eth:0xa9bA2C40b263843C04d344727b954A545c81D043/transactions/multisig_0xa9bA2C40b263843C04d344727b954A545c81D043_0x4eeba16586f4cabf8f07d1114c864351d83ad3fbbde3acd90ed4cd0f900ad702)\n* [InitBip25 (InitMint) Contract](https://etherscan.io/address/0x077495925c17230e5e8951443d547ecdbb4925bb#code)\n* [GitHub Commit Hash](https://github.com/BeanstalkFarms/Beanstalk/pull/99/commits/4e7a4a8417e743a8b4f3aec972ecbce9c267adc7)\n\n## Quorum\n\nQuorum is a majority of the Stalk supply voting For, or about 28,923,598 Stalk voting For based on the time of proposal.\n\n## Goals\n\nBeanstalk Farms designed the Q4 2022 budget to enable core contributors to work towards the following goals:\n\n* Decentralized development: continue to develop a diverse organization without any single points of failure or dependence.\n* Focus and flexibility: be able to deliver high quality output in a timely fashion, while having the flexibility to fund and support a wide variety of unique opportunities related to Beanstalk.\n* Attracting high quality talent: continue to attract and retain high quality talent, which is critical to the success of Beanstalk.\n\n## Post-Unpause Q3 Output\n\nBeanstalk was Unpaused on August 6, 2022 and the Q3 2022 budget of 500,000 Beans was minted on August 17, 2022 to fund protocol development.\n\n239,148 Beans have either been spent or allocated in Q3, leaving 260,852 Beans in the [Beanstalk Farms Multisig](https://docs.bean.money/governance/beanstalk-farms/bfm-dashboard) (BFM) at the end of Q3.\n\nThe output of Beanstalk Farms since the Unpause includes (but is not limited to):\n\n* Security\n    * Retained Halborn to continually audit Beanstalk, the Beanstalk UI, and other Beanstalk related code;\n    * Coordinated with Halborn and the BCM on the implementation of EBIP-0, EBIP-1 and EBIP-2; \n    * Organized and proposed the Immunefi Bug Bounty program via BIP-26; and\n    * Coordinated with Halborn on the forthcoming Seraph BIP. \n* On-chain development\n    * Submitted code for the Pod Market V2 to Halborn for audit and made progress towards the launch of the following functionality (all of which are targeted for audit by the end of Q4):\n        * Beanstalk Wells (zero fee AMM);\n        * Dutch auction for Soil;\n        * A generalized Permit system within Beanstalk (_i.e._, Tractor); and \n    * Coordinated with Root on the implementation of:\n        * lambda to lambda Converts and a Deposit approval system, both included in BIP-24;\n        * A Fungible Deposited Bean Denominated Value ERC-20 Token contract, which is targeted for audit by the end of Q4; and\n        * A Seaport fork facet which will facilitate more generalized exchange via Beanstalk, including Pods, Deposits, ERC-20, ERC-721 and ERC-1155 Tokens, which is targeted for audit by the end of Q4. \n* Middleware\n    * Updated the Bean and Beanstalk subgraphs to support vAPY, Fertilizer, Pod Market and individual Farmer data, among other metrics;\n    * Updated the Beanstalk Telegram and Discord bots prior to Replant and have continuously updated them since; and \n    * Made hires to begin development on a Beanstalk SDK.\n* Frontend + Design\n    * Submitted the Beanstalk UI code to Halborn for audit, making a significant step towards open sourcing the front end; \n    * Continuously pushed updates to the front end, including the:\n        * Swap page;\n        * Silo page refactor;\n        * Governance page;\n        * Wells page (not integrated with data yet);\n        * Pod Market graph V1;\n        * Forecast page redesign;\n        * Several analytics graphs; and\n    * Coordinated with Root on the integration of BIP-24 into the front end.\n* Content, Community and Marketing\n    * Continued improvements and additions to the Farmers’ Almanac, in addition to maintenance;\n    * Started a community grant program and issued multiple grants;\n    * Hosted twice a week calls with the community and Publius to answer questions about Beanstalk, future plans, etc; and\n    * Engaged with marketing firms to land news articles about Beanstalk in crypto-native news publications.\n\n## Current Organization\n\n### Hired via BFCP-A: Beanstalk Farms Committee Members\n\n| Name            | Snapshot                                                                                                                                | End of Term | Department  |\n|:----------------|:----------------------------------------------------------------------------------------------------------------------------------------|:------------|:------------|\n| austin          | [BFCP-A-1](https://snapshot.org/#/beanstalkfarms.eth/proposal/0xbba13a2ee887f2367fdc5485b5412f7de2e41062f85acc0634d4edb428424496)       | March 2023  | Operations  |\n| mod323          | [BFCP-A-2](https://snapshot.org/#/beanstalkfarms.eth/proposal/0x7983e55ec734bae90eae0f0eb8b3fb1ce8501ad33aef64d98033f7765c13c2fe)       | March 2023  | Marketing   |\n| Silo Chad       | [BFCP-A-3](https://snapshot.org/#/beanstalkfarms.eth/proposal/0xc4583788b51279ff85457b8650ea8fbb3b42995ac606763a453671383d351a01)       | March 2023  | Engineering |\n| sweetredbeans   | [BFCP-A-4](https://snapshot.org/#/beanstalkfarms.eth/proposal/0x0c2a9b20ccea9e796bae7baccbd1f699a8fbed255ab2893582b65cf54a525df5)       | March 2023  | Design      |\n\n### Hired by the Beanstalk Farms Committee via BFBP-A\n\n| Name            | Snapshot                                                                                                                                | Department  |\n|:----------------|:----------------------------------------------------------------------------------------------------------------------------------------|-------------|\n| Cool Bean       | [BFBP-A-1](https://snapshot.org/#/beanstalkfarmsbudget.eth/proposal/0x1498f0655372e68c8f30bfcaa25c031559f7c8d5dbb8df2ff4bab9550285d56d) | Engineering |\n| Cujo            | [BFBP-A-5](https://snapshot.org/#/beanstalkfarmsbudget.eth/proposal/0x4f5dada2920a23521325062f01d97a7cef453292cc62d29d65293fee3ab74f34) | Engineering |\n| TBIQ            | [BFBP-A-6](https://snapshot.org/#/beanstalkfarmsbudget.eth/proposal/0x155e6e34b1213a0f0fcfe6548d4f4128ce610f32c5cf651920af3d0bd9d24363) | Engineering |\n| funderberker    | [BFBP-A-7](https://snapshot.org/#/beanstalkfarmsbudget.eth/proposal/0x386960c6f6689f466b8e2d02736a64a0de465575d7e27fcd990e528e057facb7) | Engineering |\n| Bean-Sama       | [BFBP-A-8](https://snapshot.org/#/beanstalkfarmsbudget.eth/proposal/0x1aa70de18a1fe32fb53e438bd4883d11a79bdd849651f47f48c4c973b377db06) | Engineering |\n| Brean           | [BFBP-A-9](https://snapshot.org/#/beanstalkfarmsbudget.eth/proposal/0x65131548bad23b00b2d7806e75515c623f792f031178a34cbdddf69874077097) | Engineering |\n| ALECKS          | [BFBP-A-10](https://snapshot.org/#/beanstalkfarmsbudget.eth/proposal/0x2ed70de75a9192324a9f28abf7d0202fe670162d9c302f8aae039c57fa733c8f)| Engineering |\n| CanadianBennett | [BFBP-A-2](https://snapshot.org/#/beanstalkfarmsbudget.eth/proposal/0x5873dc652ee9e8d45e91f2c4cd37e2d35b3993190e1a61c5d9f24099a6acf1ee) | Operations  |\n| ereal           | [BFBP-A-3](https://snapshot.org/#/beanstalkfarmsbudget.eth/proposal/0x0a6be3ea6d4d62013c961b44276075e2028a75463febd65ce3efe5f9f05336c8) | Operations  |\n| aloceros        | [BFBP-A-4](https://snapshot.org/#/beanstalkfarmsbudget.eth/proposal/0x87ed734ce17a72d127e3536af3b19ae9de83026cc4747e132d41fb577d545747) | Operations  |\n\n### Development Grants\n\n| Name     | Scope of Work                |\n|:---------|:-----------------------------|\n| Malteasy | Pod Market V2                |\n| m00n     | Function Approvals + Permits |\n| ZrowGz   | Function Approvals + Permits |\n\n### Summary of Contributor Expenditures\n\nThe table below excludes development grants as grants are one time payments upon successful completion of the scope of work.\n\n| Department  | Monthly Payroll | % of Payroll |\n|:------------|:----------------|:-------------|\n| Engineering | 118,000         | 61.5%        |\n| Operations  | 31,500          | 16.4%        |\n| Design      | 22,500          | 11.7%        |\n| Marketing   | 20,000          | 10.4%        |\n| **Total**   | **192,000**     | **100.0%**   |\n\n## Anticipated Q4 Output\n\nThe following is a non-exhaustive list of expected output for Q4. Not all of the following may end up being implemented, but is currently expected to be. As always, Beanstalk Farms continues to optimize in real time for the long term success of Beanstalk.\n\n* Security\n    * Coordinate with Halborn on the BIP to implement Seraph;\n    * Seek to engage at least one more audit firm to continuously audit Beanstalk in addition to Halborn; and\n    * Complete any necessary improvements to the UI, subgraph or other infrastructure per Halborn’s recommendation after completion of their frontend audit.\n* On-chain development\n    * Implement generic pricing curves on the Pod Market; \n    * Implement a Dutch auction for Soil at the beginning of each Season;\n    * Continue assisting Root and potentially other third parties building on Beanstalk;\n    * Deploy at least one Well on the Beanstalk-native zero fee AMM;\n    * Explore a suitable on-chain governance structure; and\n    * Coordinate, audit and push BIPs for other protocol upgrades implemented by open source contributors (see [RFCs](https://github.com/BeanstalkFarms/Beanstalk/issues)).\n* Middleware\n    * Reach feature parity between the Bean and Beanstalk subgraphs and Beanstalk;\n    * Begin development of the Beanstalk TypeScript SDK; \n    * Publish an open source Beanstalk analytics tool suite to replace Dune; and\n    * Implement a bot to monitor individual wallets. \n* Frontend + Design\n    * Open source the UI;\n    * Reach and maintain feature parity between Beanstalk and Beanstalk UI V2; and\n    * Design and implement:\n        * Pod Market V2 (generic pricing curves), likely accompanied by a more advanced Pod Market graph;\n        * Wells and their associated functionality;\n        * A Balances page refactor;\n        * A new Dutch auction for Soil at the beginning of each Season; and\n        * A Beanstalk-native Fertilizer market.\n* Content, Community and Marketing\n    * Publish a video series explaining Beanstalk;\n    * Launch the Beanstalk AMM via crypto-native news outlets;\n    * Hire a marketing manager; and\n    * Continue the marketing engagement with TASC.\n\n## Amounts\n\nWe propose a total of 1,000,000 Beans are minted to fund Beanstalk Farms through the end of Q4 2022. 260,852 Beans remain unspent and unallocated by Beanstalk Farms in Q3 as of September 22, 2022. These Beans will be rolled over into Q4, resulting in a total budget allocation of 1,260,852 Beans.\n\n190,094 USDC also remain in custody of the BFM.\n\nBeanstalk Farms is spending about 220,000 Beans per month, inclusive of expenses paid with USDC and assuming payroll, marketing, and technology expenses remain constant. This is expected to slightly increase as the Beanstalk Farms Committee hires a handful more contributors, particularly in engineering.\n\nThe philosophy behind budget BIPs has been to overestimate the number of Beans needed to fund protocol development for the quarter. It is better to have budget Beans that can be rolled over into the following quarter’s budget than to not have enough Beans to fund important initiatives and pay potential high value contributors interested in working on Beanstalk.\n\nBeanstalk Farms monthly operations reports:\n* [August 2022](https://github.com/BeanstalkFarms/Beanstalk-Farms-Operations/blob/main/beanstalk-farms/08-2022-report.md)\n* [September 2022 (month-to-date)](https://arweave.net/kGKvcl8dY6XX5Pz-ksN2w6FLconvKMRgkUaPAJkSg80)\n\n## Custody\n\nThe funds for Beanstalk Farms will continue to be custodied by the [BFM](https://docs.bean.money/governance/beanstalk-farms/bfm-dashboard) wallet with keys held by various community members and Publius. We propose the following signers for the BFM.\n\n_BFM Signers_\n* Publius (current signer)\n* Silo Chad (current signer)\n* austin (current signer)\n* sweetredbeans (current signer)\n* mod323 (current signer)\n* aloceros (new)\n* Cujo (new)\n\nThe following serve as backup signers for the BFM, in no particular order:\n* Cool Bean\n* CanadianBennett\n* MrMochi\n\n## Snapshot Processes\n\nBeanstalk Farms will continue to utilize the processes for Beanstalk Farms Committee Proposals (BFCP) and Beanstalk Farms Budget Proposals (BFBP), per BFP-81. More information on the BFCP and BFBP process can be found [here](https://docs.bean.money/governance/proposals#bfcp) and [here](https://docs.bean.money/governance/proposals#bfbp).\n\n**Amendments**\n* The voting period for BFBPs will be changed from 5 days to 3 days.\n* The minimum threshold for which a BFBP-C is required will be changed from transactions valued at >4,000 Beans or USDC to transactions valued at >10,000 Beans or USDC.\n\n## Initial Allocations\n\nEach new Beanstalk Farms contributor must have a new individual Snapshot proposal, either via BFCP-A or BFBP-A, utilizing the above processes. Current contributors will only require a Snapshot proposal if their pay has changed or their role has significantly changed since Q3.\n\nA budget of 30,000 Beans per month will be allocated to the community grant program to reward creators of new Beanstalk-related content that focuses on Beanstalk and its role in the broader DeFi ecosystem. More information [here](https://docs.bean.money/additional-resources/community-grant-program).\n\n## Incentive Alignment\n\nIn order to best align the incentives of contributors to Beanstalk with its long term success, Beanstalk Farms will continue using the Deposit compensation structure as described in the [Incentive Alignment section of BIP-22.\n\nThe BFM will execute a _plant()_ transaction once before each pay period.\n\n## Competitive Pay\n\nBeanstalk Farms recognizes that its ability to pay contributors competitive wages is essential to Beanstalk’s long-term success. This budget proposal ensures that it can meet or exceed market rates.\n\n## Effective\n\nImmediately upon commitment.",
      "protocol": "beanstalkdaoeth",
      "adapter": "snapshot",
      "proposer": "0x47a473Eb2bDfe6599dac638FFFE0D427d8Ad6888",
      "totalVotes": 263,
      "blockNumber": 15634471,
      "externalUrl": "https://snapshot.org/#/beanstalkdao.eth/proposal/0x6df02f7fd904b5f24ac4101acb5be6489f58e8e4d91ca3438e6e22b962f672f4",
      "startTime": {
        "timestamp": 1664402400
      },
      "endTime": {
        "timestamp": 1665007200
      },
      "startTimestamp": 1664402400,
      "endTimestamp": 1665007200,
      "currentState": "closed",
      "choices": [
        "For",
        "Abstain"
      ],
      "results": [
        {
          "total": 29151112.0,
          "choice": 0
        },
        {
          "total": 2878704.0,
          "choice": 1
        }
      ],
      "events": [],
      "type": "single-choice",
      "indexedResult": [
        {
          "total": 29151113.34013556,
          "choice": 0
        },
        {
          "total": 2878703.9859553063,
          "choice": 1
        }
      ],
      "summary": "",
      "privacy": "",
      "indexedAt": 1678236144000,
      "txHash": "",
      "quorum": 0,
      "flagged": null,
      "executionArgs": "",
      "executables": "",
      "chainId": null
    },
    {
      "refId": "cHJvcG9zYWw6YmVhbnN0YWxrZGFvZXRoOnNuYXBzaG90OjB4MGQ5ZTQyMmJhZmFlZTdmODc3NDRjMDlhZmU5YzJjNjhhZjU5MGZjNzZkOGFmZDEzYjEyYjlkZmM5MzI4ZTc5NA==",
      "id": "0x0d9e422bafaee7f87744c09afe9c2c68af590fc76d8afd13b12b9dfc9328e794",
      "title": "BOP-1: Ratify Disclosures Statement",
      "content": "## Proposer\n\nBeanstalk Farms\n\n## Quorum\n\n35% of Stalk voting For, which was **18,079,186 Stalk** at the time of proposal.\n\n## Summary\n\n* Ratify the Disclosures Statement that presents the risks of interacting with Beanstalk.\n\n## Proposal\n\nBeanstalk is an experiment. The Beanstalk DAO is the governing body of Beanstalk and should be as transparent as possible when it comes to presenting the risks of interacting with the protocol. \n\nTherefore, BOP-1 proposes for the Beanstalk DAO to ratify the following Disclosures Statement (linked to Arweave due to Snapshot character limit):\n\n[https://arweave.net/g1fij0syFvuxNR83I2VKOe1auNxtjEUwevkihxoRUXg](https://arweave.net/g1fij0syFvuxNR83I2VKOe1auNxtjEUwevkihxoRUXg)",
      "protocol": "beanstalkdaoeth",
      "adapter": "snapshot",
      "proposer": "0x47a473Eb2bDfe6599dac638FFFE0D427d8Ad6888",
      "totalVotes": 305,
      "blockNumber": 15386265,
      "externalUrl": "https://snapshot.org/#/beanstalkdao.eth/proposal/0x0d9e422bafaee7f87744c09afe9c2c68af590fc76d8afd13b12b9dfc9328e794",
      "startTime": {
        "timestamp": 1661119200
      },
      "endTime": {
        "timestamp": 1661724000
      },
      "startTimestamp": 1661119200,
      "endTimestamp": 1661724000,
      "currentState": "closed",
      "choices": [
        "For",
        "Abstain"
      ],
      "results": [
        {
          "total": 18756748.0,
          "choice": 0
        },
        {
          "total": 29775.123,
          "choice": 1
        }
      ],
      "events": [],
      "type": "single-choice",
      "indexedResult": [
        {
          "total": 18756744.78276669,
          "choice": 0
        },
        {
          "total": 29775.1235650132,
          "choice": 1
        }
      ],
      "summary": "",
      "privacy": "",
      "indexedAt": 1678236144000,
      "txHash": "",
      "quorum": 0,
      "flagged": null,
      "executionArgs": "",
      "executables": "",
      "chainId": null
    },
    {
      "refId": "cHJvcG9zYWw6YmVhbnN0YWxrZGFvZXRoOnNuYXBzaG90OjB4NzcwZWZlOTYwYTQ1ZDdmOTFiMjFiNmIxMzEwNjQxMmI2NjZhZDVmOTBjMmEyN2UzOTg4Njc5NzJhYTE2Zjg5Mw==",
      "id": "0x770efe960a45d7f91b21b6b13106412b666ad5f90c2a27e398867972aa16f893",
      "title": "BIP-22: Beanstalk Farms Q3 2022 Budget Proposal",
      "content": "## Proposer\n\nBeanstalk Farms\n\n## Summary\n\n* Mint 500,000 Beans to fund Beanstalk Farms to retain, grow and support a group of core contributors through the end of Q3 2022.\n\n## Links\n\n* [Gnosis Transaction](https://gnosis-safe.io/app/eth:0xa9bA2C40b263843C04d344727b954A545c81D043/transactions/multisig_0xa9bA2C40b263843C04d344727b954A545c81D043_0xe23706273f8afd91789428bff98b5b24616ec61fff7e9b7b019398d3096f0489)\n* [GitHub PR](https://github.com/BeanstalkFarms/Beanstalk/pull/78)\n* GitHub Commit Hash: [3b13177801b740d0f89918ea786f05f3f8d3cc0d](https://github.com/BeanstalkFarms/Beanstalk/commit/3b13177801b740d0f89918ea786f05f3f8d3cc0d)\n\n\n## Goals\n\nBeanstalk Farms designed the Q3 2022 budget to enable core contributors to work towards the following goals:\n* Decentralized development: Continue to develop a diverse organization without any single points of failure or dependence.\n* Focus and flexibility: Be able to deliver high quality output in a timely fashion, while having the flexibility to fund and support a wide variety of unique opportunities related to Beanstalk.\n* Attracting high quality talent: Attracting and retaining high quality talent is critical to the success of Beanstalk, and the _Incentive Alignment _section has been designed with this in mind.\n\n## Post-Exploit Output\n\nThe Q2 2022 budget minted 2,000,000 Beans to fund protocol development. After accounting for Beans that were rolled over from Q1 into Q2, Beanstalk Farms had a total budget allocation of ~2,241,815.04 Beans once the Q2 2022 budget BIP passed on April 7th. Between April 7th and April 17th, Beanstalk Farms spent ~179,054.51 Beans.\n\nDespite the governance exploit on April 17th that rendered all remaining ~2.06M Beans worthless, a group of core contributors continued to work on Beanstalk with no promise of future payment. The accomplishments of Beanstalk Farms since the exploit include (but are not limited to):\n\n* Protocol\n    * Completed audits with Halborn and Trail of Bits.\n    * Shipped Beanstalk 2.0, including all functionality necessary to implement the Barn Raise and prepare Beanstalk for a safe Replant and Unpause.\n    * Shipped new functionality like:\n        * Oracle Whitelist;\n        * Convert Whitelist;\n        * FarmFacet and Internal (Farm) Balances;\n        * Depot and the Curve Pipeline; and\n        * Deposit Transferability.\n* Frontend + Design\n    * Designed and shipped Beanstalk UI V2.\n* Governance Operations\n    * Iterated on multiple versions of the Barn Raise structure.\n    * Formed the Beanstalk Community Multisig.\n    * Formed the Beanstalk Farms Committee.\n    * Streamlined governance structures of Beanstalk Farms and Bean Sprout.\n* Documentation\n    * Launched the Farmers’ Almanac.\n    * Published Whitepaper 2.0.\n* Marketing + Content\n    * Hosted at least twice a week calls with the community to answer questions about the path to Unpausing Beanstalk.\n    * Hosted several Twitter Spaces / Bean Pod episodes with DeFi community members.\n    * Engaged with marketing firms to land articles about Beanstalk in CoinDesk, the Block, etc. \n    * Distributed meeting recordings and created content that kept the community up to date and informed about the latest plans.\n    * Published multiple blog posts on Beanstalk mechanics.\n\n## Anticipated Q3 Output\n\n* Launching a BEAN:ETH liquidity pool on the new Beanstalk zero-fee DEX;\n* Adding the BEAN:ETH LP Token to the Deposit Whitelist;\n* Exploring a suitable on-chain governance structure;\n* Reaching feature parity between Beanstalk and Beanstalk UI V2; and\n* Continuing the marketing engagement with TASC.\n\n## Amounts\n\n_New Beans_\n\nWe propose a total of 500,000 Beans are minted to fund Beanstalk Farms through the end of Q3 2022. \n\n_Remaining Unripe Beans_\n\nBeanstalk Farms custodied 2,062,760.53269 Beans from the Q1 2022 and Q2 2022 budgets that became 2,062,760.53269 Unripe Beans at Replant. Per [BFP-81](https://snapshot.org/#/beanstalkfarms.eth/proposal/0xa24c368f08093b8a5e27c0b3ae9296eb60272cddc8882434b02a86152d903e59), Beanstalk Farms will propose a one-time Beanstalk Farms Retroactive Payment Proposal, or BFRPP, in order to compensate contributors for contributions since the exploit in Unripe Beans.\n\nBeanstalk Farms plans to utilize any remaining Unripe Beans after the BFRPP towards its budget, although no Unripe Beans are expected to be necessary to fund operations. Any further use of the remaining Unripe Beans must be approved via BFBP-C.\n\n_Remaining USDC_\n\n[BFP-68](https://snapshot.org/#/beanstalkfarms.eth/proposal/0x26478e3434ae82ff0820f25d182d6939d9531587c41ba86a8ea25ca0ef0f010d) granted Beanstalk Farms the remaining 300,000 USDC as a discretionary operating budget in order to execute on Beanstalk’s path forward post-exploit. 199,104.86 USDC remain in custody of the Beanstalk Farms Multisig. An itemized list of expenditures per BFP-68 (totaling 100,895.14 USDC) can be found [here](https://arweave.net/B_kOCIL-pk7m3FfRGq_OkZP_CQwjlZytD65zE-RxsD0). \n\nAny further use of the remaining USDC must be approved via BFBP-C, unless the transaction is valued at under 4000 USDC per BFP-81.\n\n## Custody\n\nThe funds for Beanstalk Farms will continue to be custodied by the Beanstalk Farms Multisig (BFM) wallet with keys held by various community members and Publius. We propose the following signers for the [Beanstalk Farms Multisig (BFM)](https://docs.bean.money/governance/beanstalk-farms/bfm-dashboard).\n\n_BFM Signers_\n\n* Silo Chad (current signer)\n* austin (current signer)\n* stolenhamburger (current signer)\n* JWW (current signer)\n* Publius (current signer)\n* sweetredbeans (new)\n* mod323 (new)\n\nOne Publius wallet will be removed. We also propose that ereal and MrMochi serve as backups for the BFM wallet in case a key holder is compromised or unable to perform their duties.\n\n## Snapshot Processes\n\nBeanstalk Farms will utilize the processes for Beanstalk Farms Committee Proposals (BFCP) and Beanstalk Farms Budget Proposals (BFBP), per [BFP-81](https://snapshot.org/#/beanstalkfarms.eth/proposal/0xa24c368f08093b8a5e27c0b3ae9296eb60272cddc8882434b02a86152d903e59). More information on the BFCP and BFBP process can be found [here](https://docs.bean.money/governance/proposals#bfcp) and [here](https://docs.bean.money/governance/proposals#bfbp).\n\n## Initial Allocations\n\nMoving forward, each Beanstalk Farms contributor must have a new individual Snapshot proposal, either via BFCP-A or BFBP-A, utilizing the above processes.\n\nA one-time payment of 40,000 Beans has been earmarked to pay a security expert and will be sent upon the passage of BIP-22.\n\nA budget of 30,000 Beans per month will be allocated to a community grant program to reward creators of new Beanstalk-related content that focuses on Beanstalk and its role in the broader DeFi ecosystem. An announcement and more information are forthcoming.\n\n## Incentive Alignment\n\nBefore the passage of the Q2 2022 budget, the Beanstalk community decided to disallow contributors from receiving any portion of their compensation in Pods.\n\nGiven that Deposits are now transferrable, Beanstalk Farms can instead align contributors with the success of Beanstalk by Depositing allocated Beans in the Silo and paying contributors with Deposits that have accrued Beans, Stalk and Seeds. \n\nTherefore, we propose that a contributor’s allocated quarterly Bean payment is Deposited in the Silo when their hiring proposal passes (which can be part of BFCP-A or BFBP-A). \n\nIn order to simplify accounting, if a contributor is already hired at the beginning of a quarter and:\n\n* Beanstalk Farms already has the budget to pay all active contributors for the remainder of the quarter, the contributors’ allocated quarterly Bean payments will be Deposited in the Silo at the beginning of the quarter; or\n* Beanstalk Farms, does not yet have the budget to pay all active contributors for the remainder of the quarter, the contributors’ allocated quarterly Bean payments will be Deposited in the Silo upon the passage of the quarterly budget BIP. \n\nFor example, if a contributor’s compensation is 10,000 Beans/month, 30,000 Beans will be Deposited in the Silo on their behalf at the beginning of the quarter (if permitted by the accounting structure above). For each bi-monthly payment, the contributor is paid 5,000 Beans in the form of a Deposit that includes the proportional accrued Beans, Stalk and Seeds.\n\nIf a contributor leaves or is dismissed from Beanstalk Farms while they still have unpaid Deposits allocated to them, the Beans will be Withdrawn, Claimed, and then allocated to the rest of the Beanstalk Farms budget.\n\nFor the sake of simplicity and experimentation, the BFM will have discretion over when and how often to execute `mow()` and `plant()`. We expect this cadence to be codified in a future budget BIP.\n\n## Competitive Pay\n\nBeanstalk Farms recognizes that its ability to pay contributors competitive wages is essential to Beanstalk’s long-term success. This budget proposal ensures that it can meet or exceed market rates.\n\n## Effective\n\nImmediately upon commit by the BCM, which will happen as soon as possible upon the passage of BIP-22.\n",
      "protocol": "beanstalkdaoeth",
      "adapter": "snapshot",
      "proposer": "0x47a473Eb2bDfe6599dac638FFFE0D427d8Ad6888",
      "totalVotes": 328,
      "blockNumber": 15311302,
      "externalUrl": "https://snapshot.org/#/beanstalkdao.eth/proposal/0x770efe960a45d7f91b21b6b13106412b666ad5f90c2a27e398867972aa16f893",
      "startTime": {
        "timestamp": 1660096800
      },
      "endTime": {
        "timestamp": 1660701600
      },
      "startTimestamp": 1660096800,
      "endTimestamp": 1660701600,
      "currentState": "closed",
      "choices": [
        "For",
        "Abstain"
      ],
      "results": [
        {
          "total": 25790528.0,
          "choice": 0
        },
        {
          "total": 255251.06,
          "choice": 1
        }
      ],
      "events": [],
      "type": "single-choice",
      "indexedResult": [
        {
          "total": 25790539.0673656,
          "choice": 0
        },
        {
          "total": 255251.05059107376,
          "choice": 1
        }
      ],
      "summary": "",
      "privacy": "",
      "indexedAt": 1678236144000,
      "txHash": "",
      "quorum": 0,
      "flagged": null,
      "executionArgs": "",
      "executables": "",
      "chainId": null
    },
    {
      "refId": "cHJvcG9zYWw6YmVhbnN0YWxrZGFvZXRoOnNuYXBzaG90OjB4M2IyYTc4MDhmMDE5NjBmZjk5M2I3YWVjNGRmOWVmNmEzNDM0ZDBlZjA4NDM4MjhlYTZjNmJjZTRlNzY4ZTZhOQ==",
      "id": "0x3b2a7808f01960ff993b7aec4df9ef6a3434d0ef0843828ea6c6bce4e768e6a9",
      "title": "BIP-23: Bean Sprout Q3 2022 Budget Proposal",
      "content": "## Proposer\n\nBean Sprout\n\n## Summary\n\n* Mint 150,000 Beans to fund Bean Sprout to seed, grow and support various Beanstalk-related integrations, projects, and initiatives through the end of Q3 2022.\n\n## Links\n\n* [Gnosis Transaction](https://gnosis-safe.io/app/eth:0xa9bA2C40b263843C04d344727b954A545c81D043/transactions/multisig_0xa9bA2C40b263843C04d344727b954A545c81D043_0xdf2bd4aaa81f658a1d37f44c98a0a4e3de2ee573cf9b92df7f81fa0abf5560f0)\n* [GitHub PR](https://github.com/BeanstalkFarms/Beanstalk/pull/79)\n* GitHub Commit Hash: [42ebfdc80201361d7eb72c1c54dc3432fd9d3e4c](https://github.com/BeanstalkFarms/Beanstalk/commit/42ebfdc80201361d7eb72c1c54dc3432fd9d3e4c)\n\n## Goals\n\n* Recruit world-class talent to build technologies and businesses that benefit and grow the Beanstalk ecosystem;\n* Invest in and support committed builders with capital and necessary resources;\n* Drive the development of a BDV economy, including necessary off-chain components; and\n* Facilitate partnerships to seed pools and deepen liquidity trading against Beans in the Silo.\n\n## Post-Exploit Output\n\nIn the past few months since the Beanstalk governance exploit, Bean Sprout has remained unwavering in its commitment to revive Beanstalk and strengthen its position post-Replant. The primary achievement of Bean Sprout since the exploit has been the incubation of Root, which has already paid dividends for Beanstalk in the following ways: \n\n* Capital - Onboarded institutional capital into Beanstalk and developed a network of interested funds;\n* Talent - Attracted world-class engineers and product designers all now dedicating time to building on Beanstalk; and\n* Security - Funded the Halborn retainer.\n\n## Anticipated Q3 Output\n\n* Defi Ecosystem Growth - Begin ideation and preliminary designs with builders for new Beanstalk-related projects such as Greenhouse (more information forthcoming).\n\n## Q3 2022 Current Staffing & New Hires\n\n_Current Bean Sprout Core Staff_\n\n* mistermanifold (FT) - 20,000 Beans a month (paid twice per month) starting from the Unpause.\n\n_Anticipated Q3 2022 Bean Sprout Hires_\n\n* Operating Manager (FT)\n    \n    Responsibilities will include:\n\n    * Project management across various internal and external Bean Sprout initiatives;\n    * Sourcing and vetting new ideas for integrations or builders for Bean Sprout-funded projects; and\n    * Underwriting deal flow and forming investable vehicles for BDV-based real world assets\n    * Frequently updating the Beanstalk community about the project developments.\n\n    Previous experience in traditional finance, on-chain finance, capital formation, and mergers and acquisitions is helpful.\n\n## Amounts\n\nWe propose a total of 150,000 Beans are minted to fund Bean Sprout through the end of Q3 2022. Bean Sprout custodied 691,800 Beans from the Q1 2022 budget that became 691,800 Unripe Beans at Replant. 300,000 Unripe Beans will be allocated for retroactive compensation for contributions post-exploit (see _Incentive Alignment_ below). \n\nIn the event that Beanstalk Farms is not able to fully compensate contributors in Unripe Beans per the BFRPP outlined in BFP-81, Bean Sprout may use their remaining Unripe Beans to do so. Otherwise, Bean Sprout plans to utilize any remaining Unripe Beans towards its budget as the value of the Unripe Beans increases, as well as fund initiatives directly with Unripe Beans when possible.\n\n## Custody\n\nIn Q3, the funds for Bean Sprout will continue to be custodied by a multisig wallet with keys held by various community members and Publius. We propose the following signers for the [Bean Sprout Multisig (BSM)](https://docs.bean.money/governance/bean-sprout/bsm-dashboard).\n\n_BSM Signers_\n\n* mistermanifold (current signer)\n* austin (current signer)\n* Bean Merchant (current signer)\n* stolenhamburger (current signer)\n* Publius (current signer)\n* Publius (current signer)\n* ereal (new signer)\n\nOne Publius wallet will be removed. We also propose that Brean (Brian) and mod323 serve as backups for the BSM wallet in case a key holder is compromised or unable to perform their duties.\n\n## Snapshot Processes\n\nWe will utilize the process for Bean Sprout Proposals (BSPs), as per [BFP-81](https://snapshot.org/#/beanstalkfarms.eth/proposal/0xa24c368f08093b8a5e27c0b3ae9296eb60272cddc8882434b02a86152d903e59). For more information on BSPs, please refer to the Farmers’ Almanac [here](https://docs.bean.money/governance/proposals#bsp).\n\n## Incentive Alignment\n\n_Retroactive Payment_\n\nWe propose that 300,000 of the 691,800 Unripe Beans in the BSM be used to compensate mistermanifold for contributions since the exploit. The achievements of Bean Sprout post-exploit outlined in _Post-Exploit Output_ are primarily due to their efforts. Compensating them in Unripe Beans at an increased amount rewards them for their contributions since the exploit, has minimal impact on Beanstalk (given the Unripe Beans have no value at Replant), and significantly increases their alignment with the success of Beanstalk.\n\n_Future Compensation in Deposits_\n\nBefore the passage of the Q2 2022 budget, the Beanstalk community decided to disallow contributors from receiving any portion of their compensation in Pods.\n\nGiven that Deposits are now transferrable, Bean Sprout can instead align contributors with the success of Beanstalk by Depositing allocated Beans in the Silo and paying contributors with Deposits that have accrued Beans, Stalk and Seeds. \n\nTherefore, we propose that a contributor’s allocated quarterly Bean payment is Deposited in the Silo when their hiring proposal passes (which can be part of a BIP, BOP or BSP). \n\nIn order to simplify accounting, if a contributor is already hired at the beginning of a quarter and:\n\n* Bean Sprout already has the budget to pay all active contributors for the remainder of the quarter, the contributors’ allocated quarterly Bean payments will be Deposited in the Silo at the beginning of the quarter; or\n* Bean Sprout does not yet have the budget to pay all active contributors for the remainder of the quarter, the contributors’ allocated quarterly Bean payments will be Deposited in the Silo upon the passage of the quarterly budget BIP. \n\nFor example, if a contributor’s compensation is 10,000 Beans/month, 30,000 Beans will be Deposited in the Silo on their behalf at the beginning of the quarter (if permitted by the accounting structure above). For each bi-monthly payment, the contributor is paid 5,000 Beans in the form of a Deposit that includes the proportional accrued Beans, Stalk and Seeds.\n\nIf a contributor leaves or is dismissed from Bean Sprout while they still have unpaid Deposits allocated to them, the Beans will be Withdrawn, Claimed, and then allocated to the rest of the Bean Sprout budget.\n\nFor the sake of simplicity and experimentation, the BSM will have discretion over when and how often to execute `mow()` and `plant()`. We expect this cadence to be codified in a future budget BIP.\n\n## Competitive Pay\n\nBean Sprout recognizes that its ability to pay contributors competitive wages is essential to Beanstalk’s long-term success. This budget proposal ensures that it can meet or exceed market rates.\n\n## Effective\n\nImmediately upon commit by the BCM, which will happen as soon as possible upon the passage of BIP-23.\n",
      "protocol": "beanstalkdaoeth",
      "adapter": "snapshot",
      "proposer": "0x47a473Eb2bDfe6599dac638FFFE0D427d8Ad6888",
      "totalVotes": 325,
      "blockNumber": 15311323,
      "externalUrl": "https://snapshot.org/#/beanstalkdao.eth/proposal/0x3b2a7808f01960ff993b7aec4df9ef6a3434d0ef0843828ea6c6bce4e768e6a9",
      "startTime": {
        "timestamp": 1660096800
      },
      "endTime": {
        "timestamp": 1660701600
      },
      "startTimestamp": 1660096800,
      "endTimestamp": 1660701600,
      "currentState": "closed",
      "choices": [
        "For",
        "Abstain"
      ],
      "results": [
        {
          "total": 25286990.0,
          "choice": 0
        },
        {
          "total": 309716.4,
          "choice": 1
        }
      ],
      "events": [],
      "type": "single-choice",
      "indexedResult": [
        {
          "total": 25286989.1071298,
          "choice": 0
        },
        {
          "total": 309716.4088679762,
          "choice": 1
        }
      ],
      "summary": "",
      "privacy": "",
      "indexedAt": 1678236144000,
      "txHash": "",
      "quorum": 0,
      "flagged": null,
      "executionArgs": "",
      "executables": "",
      "chainId": null
    },
    {
      "refId": "cHJvcG9zYWw6YmVhbnN0YWxrZGFvZXRoOnNuYXBzaG90OjB4YmUzMGJjNDNkNzE4NWVmNzdjZDZhZjBlNWM4NWRhN2Q3YzA2Y2FhZDRjMGRlM2E3MzQ5M2VkNDhlYWUzMmQ3MQ==",
      "id": "0xbe30bc43d7185ef77cd6af0e5c85da7d7c06caad4c0de3a73493ed48eae32d71",
      "title": "BIP-21: Replant Beanstalk",
      "content": "# Proposer\n\nBeanstalk Farms\n\n# Quorum\n\n50%: 106,664,659.23 Stalk\n\nTwo-thirds supermajority: 142,219,545.64 Stalk\n\n# Pull Request\n\nhttps://github.com/BeanstalkFarms/Beanstalk/pull/72\n\n# Summary\n\n1. Execute a series of transactions to Replant Beanstalk.\n2. Commit a series of upgrades to Beanstalk.\n3. Unpause Beanstalk.\n\n_Note: Any bugs found during testing will continue to be fixed throughout the BIP-21 Voting Period such that the Replant may not be delayed._\n\n# Problem\n\nBIP-21 addresses the following issues:\n\n### 1. Beanstalk must be Replanted, which involves several steps.\n\n* **New ERC-20 tokens:** The new Bean, Unripe Bean and Unripe BEAN:3CRV LP ERC-20 Tokens have not yet been deployed.\n* **New BEAN:3CRV pool:** There is currently no liquidity pool in which the new Bean token can be traded.\n* **Remove old tokens from the Deposit Whitelist:** The Deposit Whitelist still has the old Bean token and its associated LP Tokens. Leaving the old tokens on the Whitelist would pose security concerns to Beanstalk.\n* **Add new tokens to the Deposit Whitelist:** The new Bean token, new BEAN:3CRV LP Token, Unripe Bean token and Unripe BEAN:3CRV LP Token have not yet been added to the Deposit Whitelist. \n* **Minting Pool:** The Oracle still uses the old BEAN:ETH liquidity pool when calculating deltaB.\n* **Minting Schedule:** It is unclear how the market will value Bean initially, and the deltaB will be significantly above peg upon Replant.\n* **Flood:** Flood is still based on the old BEAN:ETH liquidity pool.\n* **Deposit Earned Beans:** Pre-exploit Earned Beans are not currently Deposited in any Season, which complicates accounting for them during the Replant.\n* **Stalk and Seed balances:** Stalk and Seed balances are still in their pre-exploit state and must be updated to reflect the Barn Raise structure.\n* **Barn:** Support for the Barn Raise as described in [BFP-72](https://snapshot.org/#/beanstalkfarms.eth/proposal/0xb87854d7f6f40f0877a1333028eab829b213fbcce03f16f9dd3832c8a98ab99b) has not yet been added to Beanstalk.\n* **Ratio at which Fertilizer sales add liquidity:** Liquidity from Fertilizer sales must be added to the BEAN:3CRV pool at a particular ratio.\n\n### 2. Beanstalk has improvements to the issues that have been audited for inclusion in the Replanted version of Beanstalk. \n\n* **Oracle Whitelist:** The current architecture to facilitate Bean/Soil minting each Season is not generalized or flexible. From a technical perspective, it should be straightforward to add and remove liquidity pools from the list of pools that facilitate Bean/Soil minting.\n* **Convert Whitelist:** The current architecture to facilitate Conversions within the Silo is not generalized or flexible. From a technical perspective, it should be straightforward to add and remove Conversions from the list of possible Conversions within the Silo.\n* **Sub-optimal Conversion:** Currently, when a Stalkholder Converts a Deposited LP token to a Deposited Bean, Grown Stalk from Seeds can be lost if the current BDV of the Deposit is lower than at the time of Deposit due to impermanent loss. This makes Converting unattractive when Beanstalk wants to encourage Conversions.\n* **Soil issued when P > 1:** When P > 1, Beanstalk is currently willing to issue enough Soil such that if demand for Soil remains high, the total number of Pods stays the same from Season to Season, independent of the Pod Rate. A more sophisticated Soil supply schedule should account for the Pod Rate.\n* **FarmFacet and Internal Balances:** Currently there is no flexible way to compose multiple interactions with Beanstalk together into a single transaction.\n* **Depot and Curve Pipeline:** Beanstalk previously supported complex transactions with Uniswap and Beanstalk in a single transaction. The architecture to support these types of transactions is not generalized to also be able to interact with other protocols. \n* **Withdrawal Freeze:** The current 4 Season Withdrawal Freeze is an economic inefficiency that creates a supply overhang when there are Withdrawn assets.\n* **Deposit transferability:** Deposits currently cannot be transferred from one address to another.\n* **Ownership transfer process:** Ownership transfer of the Beanstalk contract is currently a one-step process and doesn’t require a claim by the receiving address.\n* **Division of Silo Reward Claiming:** Silo Members cannot currently Mow Grown Stalk and Plant Plantable Seeds in separate transactions, even when it may be gas-efficient to do so.\n* **Minting of Plantable Seeds:** Plantable Seeds are currently minted before being Planted, which is a suboptimal accounting practice.\n* **Contract ownership:** Publius currently custodies ownership of the Beanstalk and Fertilizer contracts, and must transfer ownership of Beanstalk to the BCM and transfer ownership of the Fertilizer contracts to Beanstalk.\n\n### 3. Beanstalk must be Unpaused.\n\n* **Unpause Beanstalk:** A `sunrise()` function call is currently not accepted by Beanstalk.\n\n# Proposed Solution\n\nThe following solutions are proposed to the issues listed above:\n\n### 1. Execute a series of steps to Replant Beanstalk. \n\n* **New ERC-20 tokens:** Deploy and distribute new Bean, Unripe Bean and Unripe BEAN:3CRV LP ERC-20 Tokens.\n    * Holders of Beans at the end of the block prior to the exploit received Unripe Beans at a 1:1 ratio. \n    * Holders of LP Tokens on the Deposit Whitelist that were not Deposited at the end of the block prior to the exploit received Unripe Φ at a ratio of 1 Unripe Φ per BDV of LP Tokens on the Deposit Whitelist held at the end of the block prior to the exploit. \n    * Holders of LP Tokens on the Deposit Whitelist that were Deposited at the end of the block prior to the exploit received Unripe Φ at a ratio of 1 Unripe Φ per the maximum of the BDV of the Deposit at the end of the block prior to the exploit and at the time of Deposit, per Deposit.\n* **New BEAN:3CRV pool:** Deploy a new BEAN:3CRV metapool with an A parameter of 1 per [BFP-77](https://snapshot.org/#/beanstalkfarms.eth/proposal/0xbb1db9c60534b7aa3951ea0d7b107f755d555acdd95c495388be7a1bd7f494e0). Mint 100 Beans and add the 100 Beans and 100 USDC to the pool as initial liquidity.\n* **Remove old tokens from the Deposit Whitelist:**\n    * Remove the old Bean token.\n    * Remove the old BEAN:3CRV LP Token.\n    * Remove the old BEAN:ETH LP Token.\n    * Remove the old BEAN:LUSD LP Token.\n* **Add new tokens to the Deposit Whitelist:** For the BDV function, please refer to the appendix in the attached whitepaper. \n    * Add the new Bean token with 1 Stalk and 2 Seeds per BDV Deposited. \n    * Add the new BEAN:3CRV LP Token with 1 Stalk and 4 Seeds per BDV Deposited.\n    * Add the Unripe Bean token with 1 Stalk and 2 Seeds per BDV Deposited. \n    * Add the Unripe BEAN:3CRV LP Token with 1 Stalk and 4 Seeds per BDV Deposited. \n* **Minting Pool:** Remove the old BEAN:ETH liquidity pool from the calculation of deltaB.\n* **Minting Schedule:** Replant Beanstalk with a ramped minting schedule for Soil and Beans—deltaB will be equal to deltaB * R, where R starts at 0% and increases by 1% at the start of each Season for 100 Seasons after Replant.\n* **Flood:** Remove the old BEAN:ETH liquidity pool from the Flood.\n* **Deposit Earned Beans:** Distribute Earned Beans as Deposited Unripe Beans in Season 6074 upon Replant.\n* **Stalk and Seed balances:** Recompute all Stalk and Seed balances.\n    * A Stalkholder’s Stalk upon Replant is the percentage of Fertilizer sold prior to Replant times their Stalk at the end of the block prior to the exploit.\n    * A Stalkholder’s Seeds upon Replant is the percentage of Fertilized sold prior to Replant times the sum of their Seeds at the end of the block prior to the exploit and their Plantable Seeds at the end of the block prior to the exploit.\n    * Old BEAN:LUSD LP Token holders are credited as if they had more Seeds, as Unripe BEAN:3CRV LP receives 4 Seeds for Depositing in the Silo.\n* **Barn:** Implement the full specifications of the Barn. For a full writeup of the Barn, please refer to the Barn section in the attached whitepaper. \n* **Ratio at which Fertilizer sales add liquidity:** Add liquidity from Fertilizer sales to the BEAN:3CRV pool at a ratio of 1:0.866616. \n\n### 2. Implement a series of improvements to Beanstalk.\n\n* **Oracle Whitelist:** Move the Oracle to mint based on the Oracle Whitelist (the whitelist of liquidity pools whose deltaB’s are summed to calculate a cumulative deltaB), which upon Replant will consist solely of the new BEAN:3CRV metapool.\n* **Convert Whitelist:** Introduce the Convert Whitelist, the generalized whitelist that determines which Conversions within the Silo are permitted under certain conditions. For full details on the Convert Whitelist, please refer to the appendix in the attached whitepaper. The following Conversions are whitelisted upon Replant:\n    * Deposited Beans to Deposited BEAN:3CRV LP Tokens, when the Bean price in the BEAN:3CRV pool is greater than $1.\n    * Deposited BEAN:3CRV LP tokens to Deposited Beans, when the Bean price in the BEAN:3CRV pool is less than $1.\n    * Deposited Unripe Beans to Deposited Unripe BEAN:3CRV LP Tokens, when the Bean price in the BEAN:3CRV pool is greater than $1.\n    * Deposited Unripe BEAN:3CRV LP Tokens to Deposited Unripe Beans, when the Bean price in the BEAN:3CRV pool is less than $1.\n* **Sub-optimal Conversion:** When a Stalkholder Converts a Deposit, they update its Season of Deposit to retain its Grown Stalk from Seeds, and BDV only if it is higher than when it was Deposited.\n* **Soil issued when P > 1:** Change the definition of S_t^{min} to: \n\n![image](ipfs://bafkreiaupichghekmgzobffrzug5yc6js2rern4rk2bjdgxubumq45x5he)\n\n* **FarmFacet and Internal Balances:** Introduce the FarmFacet and Internal (Farm) Balances that allow Farmers to compose transactions within Beanstalk together.\n* **Depot and Curve Pipeline:** Add the Depot to the Farm. Add the Curve Pipeline to the Depot to enable interactions with Curve through Beanstalk.\n\nThe Curve Pipeline allows anyone to call functions in any pool registered in any of the following Curve registries.\n\n* 0xB9fC157394Af804a3578134A6585C0dc9cc990d4\n* 0x90E00ACe148ca3b23Ac1bC8C240C2a7Dd9c2d7f5\n* 0x8F942C20D02bEfc377D41445793068908E2250D0\n\nThe following functions to interact with Curve pools can be called through the Curve Pipeline:\n\n```\nfunction exchange(\n    address pool, \n    address registry, \n    address fromToken, \n    address toToken, \n    uint256 amountIn, \n    uint256 minAmountOut, \n    LibTransfer.From fromMode, \n    LibTransfer.To toMode\n) external payable nonReentrant;\n\n// only in Metapools\nfunction exchangeUnderlying(\n    address pool, \n    address fromToken, \n    address toToken, \n    uint256 amountIn, \n    uint256 minAmountOut, \n    LibTransfer.From fromMode, \n    LibTransfer.To toMode\n) external payable nonReentrant;\n\nfunction addLiquidity(\n    address pool,\n    address registry,\n    uint256[] memory amounts,\n    uint256 minAmountOut,\n    LibTransfer.From fromMode,\n    LibTransfer.To toMode\n) external payable nonReentrant;\n\nfunction removeLiquidity(\n    address pool,\n    address registry,\n    uint256 amountIn,\n    uint256[] calldata minAmountsOut,\n    LibTransfer.From fromMode,\n    LibTransfer.To toMode\n) external payable nonReentrant;\n\nfunction removeLiquidityImbalance(\n    address pool,\n    address registry,\n    uint256[] calldata amountsOut,\n    uint256 maxAmountIn,\n    LibTransfer.From fromMode,\n    LibTransfer.To toMode\n) external payable nonReentrant;\n\nfunction removeLiquidityOneToken(\n    address pool,\n    address registry,\n    address toToken,\n    uint256 amountIn,\n    uint256 minAmountOut,\n    LibTransfer.From fromMode,\n    LibTransfer.To toMode\n) external payable nonReentrant;\n```\n\n* **Withdrawal Freeze:** Change x_i from 4 Seasons to 0.\n* **Deposit transferability:** Make Deposits transferable.\n* **Ownership transfer process:** Implement a 2-step ownership transfer process.\n* **Division of Silo Reward Claiming:** Introduce division of Silo Reward claiming. Mow claims Grown Stalk and Plant claims Plantable Seeds, Earned Stalk and Earned Beans.\n* **Minting of Plantable Seeds:** Change Plantable Seeds to only be minted once Planted.\n* **Contract ownership:** Transfer ownership of Beanstalk from Publius to the BCM and ownership of Fertilizer from Publius to Beanstalk.\n\n### 3. Unpause Beanstalk.\n\n* **Unpause Beanstalk:** The BCM will Unpause Beanstalk on August 6th, 2022 around 16:00 UTC.\n\n# Rationale\n\nBIP-21 exceeds the character limit on Snapshot, so the Rationale section can be found on the [BIP-21 proposal on GitHub](https://github.com/BeanstalkFarms/Beanstalk/pull/72) and this [Arweave upload of BIP-21](https://arweave.net/r65AcmFIV0SYtl9K0yi13ygT4tSGyA8QWYKtTufValo). \n\n# Post Audit Changes\n\nBIP-21 exceeds the character limit on Snapshot, so the Post Audit Changes section can be found on the [BIP-21 proposal on GitHub](https://github.com/BeanstalkFarms/Beanstalk/pull/72) and this [Arweave upload of BIP-21](https://arweave.net/r65AcmFIV0SYtl9K0yi13ygT4tSGyA8QWYKtTufValo). \n\n# Effective\n\nAfter either:\n\n1. A two-thirds supermajority is reached; or\n2. The Voting Period ends and more than half of the total outstanding Stalk votes in favor of the BIP,\n\nPublius will:\n\n* Execute the remainder of the Water Treatment approved by BIP-20;\n* Transfer ownership of Beanstalk to the BCM;\n* Deploy BIP-21 related facets and initialization script;\n* Propose the BIP-21 Diamond Cut to the BCM;\n* Propose the approve transaction to use the BCM’s USDC; and\n* Propose the addFertilizer transaction that adds the BCM’s USDC to the new BEAN:3CRV pool.\n\nAfter that, the BCM will:\n\n* Execute the BIP-21 Diamond Cut, which removes all existing function selectors and adds the new ones;\n* Initialize Beanstalk;\n* Execute the approve transaction to use the BCM’s USDC; and\n* Execute the addFertilizer transaction.\n\nThe BCM will Unpause Beanstalk thereafter on August 6, 2022 at around 16:00 UTC. \n\nAfter the Unpause transaction and thus BIP-21 is fully executed, the BCM shall follow [the process for verifying proposed BIPs](https://docs.bean.money/governance/beanstalk/bcm-process#reviewing-and-signing-off-on-transactions) moving forward.\n",
      "protocol": "beanstalkdaoeth",
      "adapter": "snapshot",
      "proposer": "0x47a473Eb2bDfe6599dac638FFFE0D427d8Ad6888",
      "totalVotes": 445,
      "blockNumber": 15238216,
      "externalUrl": "https://snapshot.org/#/beanstalkdao.eth/proposal/0xbe30bc43d7185ef77cd6af0e5c85da7d7c06caad4c0de3a73493ed48eae32d71",
      "startTime": {
        "timestamp": 1659110400
      },
      "endTime": {
        "timestamp": 1659715200
      },
      "startTimestamp": 1659110400,
      "endTimestamp": 1659715200,
      "currentState": "closed",
      "choices": [
        "For",
        "Abstain"
      ],
      "results": [
        {
          "total": 142772990.0,
          "choice": 0
        },
        {
          "total": 1110547.2,
          "choice": 1
        }
      ],
      "events": [],
      "type": "single-choice",
      "indexedResult": [
        {
          "total": 142773024.77562594,
          "choice": 0
        },
        {
          "total": 1110547.2054642865,
          "choice": 1
        }
      ],
      "summary": "",
      "privacy": "",
      "indexedAt": 1678236144000,
      "txHash": "",
      "quorum": 0,
      "flagged": null,
      "executionArgs": "",
      "executables": "",
      "chainId": null
    },
    {
      "refId": "cHJvcG9zYWw6YmVhbnN0YWxrZGFvZXRoOnNuYXBzaG90OjB4ZTQ3NzQxYzRiZmE0YWM5N2FkMjNiYmVjMGRiOGI5YTVmMmVmYzNlMTczN2IzMDk0NzZkOTA2MTE2OTgxOTNmNA==",
      "id": "0xe47741c4bfa4ac97ad23bbec0db8b9a5f2efc3e1737b309476d90611698193f4",
      "title": "BIP-20: Migration of Balances",
      "content": "# Proposer\n\nBeanstalk Farms\n\n# Summary\n\n* Migrate the Beanstalk state to the pre-Replant state over the course of multiple transactions.\n\n# Problem\n\nAs a result of the April 17, 2022 governance exploit, Beanstalk is in a corrupted state. The DAO has already approved the structure of the restart via [BFP-72](https://snapshot.org/#/beanstalkfarms.eth/proposal/0xb87854d7f6f40f0877a1333028eab829b213fbcce03f16f9dd3832c8a98ab99b). The Barn Raise began on June 6, 2022. Upon completion of the Trail of Bits and Halborn audits, the DAO will be able to vote to Replant Beanstalk. Migrating the Beanstalk state from its current state to the necessary state to Replant Beanstalk is a complicated process that will involve multiple transactions.\n\nIn accordance with [BFP-67](https://snapshot.org/#/beanstalkfarms.eth/proposal/0xedd9f9c4d5246b0de0c27dca2b37563baacc667bd5fa1b58b8d85d62c49f3293), all of the exploiters Deposits, Stalk, Seeds and Roots have already been removed. That transaction is [here](https://etherscan.io/tx/0xb155cc344e6cb75e435407c83b536e070ff24d1fe7abd5b2872f278a497a641a).\n\n\n# Proposed Solution\n\nThere are several steps and transactions required to migrate Beanstalk from its current state to the pre-Replant state. \n\n### Distribute Unripe Beans\n\n\n\n1. Deploy Unripe Bean token\n2. Distribute non-Deposited Unripe Beans\n    * Redistribute Wrapped Beans and Circulating Beans in the form of Claimable Unripe Beans\n    * Remove all of the following assets redistribute them in the form of Claimable Unripe Beans\n        * Harvestable Pods\n        * Beans in Pod Orders\n        * Withdrawn Beans\n        * Farmable Beans\n3. Remove all Deposited Beans and redistribute them in the form of Deposited Unripe Beans\n\n### Distribute Unripe LP\n\n4. Deploy Unripe LP Token\n5. Distribute non-Deposited Unripe LP Tokens\n    * Redistribute all Circulating LP Tokens in the form of Claimable Unripe LP Tokens\n    * Remove all Withdrawn LP Tokens and redistribute them in the form of Claimable Unripe LP Tokens\n6. Remove all Deposited LP Tokens and redistribute them in the form of Deposited Unripe LP Tokens\n\nThose with Circulating or Withdrawn LP pre-exploit will receive LP based on the BDV of the token at the pre-exploit block:\n\nBean 3 Metapool Curve: 0.992035\nBean LUSD Plain Pool Curve: 0.983108\nBean:Eth Uniswap V2 Pool: 119,894,802.186829\n\n### Final setup\n7. Haircut Stalk, Seeds, Roots\n\n# Rationale\n\nPerforming the migration in multiple steps will facilitate the simplest, safest and fastest  migration in anticipation of Beanstalk being Replanted. Requiring a BIP for each step would delay Replanting. \n\n# Effective\n\nPublius and Beanstalk Farms will begin migration as soon as possible after either:\n\n1. A two-thirds supermajority is reached; or\n2. The voting period ends and more than half of the total outstanding Stalk as of block 14602789 (pre-exploit block) votes in favor of the BIP.\n\n# Quorum\n\n106,664,695 Stalk",
      "protocol": "beanstalkdaoeth",
      "adapter": "snapshot",
      "proposer": "0x47a473Eb2bDfe6599dac638FFFE0D427d8Ad6888",
      "totalVotes": 253,
      "blockNumber": 14602789,
      "externalUrl": "https://snapshot.org/#/beanstalkdao.eth/proposal/0xe47741c4bfa4ac97ad23bbec0db8b9a5f2efc3e1737b309476d90611698193f4",
      "startTime": {
        "timestamp": 1655234791
      },
      "endTime": {
        "timestamp": 1655839800
      },
      "startTimestamp": 1655234791,
      "endTimestamp": 1655839800,
      "currentState": "closed",
      "choices": [
        "Vote For"
      ],
      "results": [
        {
          "total": 113659520.0,
          "choice": 0
        }
      ],
      "events": [],
      "type": "single-choice",
      "indexedResult": [
        {
          "total": 113659505.75947072,
          "choice": 0
        }
      ],
      "summary": "",
      "privacy": "",
      "indexedAt": 1678236144000,
      "txHash": "",
      "quorum": 0,
      "flagged": null,
      "executionArgs": "",
      "executables": "",
      "chainId": null
    }
  ],
  "nextCursor": null
}